/* DESKTOP-G9RC0RK - 04/11/2020 18:48:31 GMT */
"use strict";(function(){try{var BringBrands={init:function init(){BringBrands.bringData();BringBrands.applyCopyCode()},bringData:function bringData(){if(!$.cookie){return}var urlGeneral="/mz-campanhamarcas-produto";var brandCoockie=$.cookie("marcaOrigem");var nameBrand=".mz-marca-".concat(brandCoockie);if(nameBrand.length){if(nameBrand==".mz-marca-undefined"){nameBrand=".mz-marca-portal"}try{$.ajax({type:"GET",method:"GET",url:urlGeneral,dataType:"html"}).done(function(data){var $data=$(data);if($data.find(".mz-marca-todos").length){var newBrandDefault=$data.find(".mz-marca-todos");var wrapperProduct=$(".mz-product__aside.campaign.brands");wrapperProduct.html(newBrandDefault);wrapperProduct.removeAttr("style")}else if(!$data.find(".mz-marca-todos").length){var block=$data.find(nameBrand);if(block.length==0){console.log("Promoção/Marca desativada.");return}else if($(document.body).is(".produto")){var _newBrandDefault=$data.find(nameBrand);var _wrapperProduct=$(".mz-product__aside.campaign.brands");_wrapperProduct.html(_newBrandDefault);_wrapperProduct.removeAttr("style")}}else{console.log("Produto: Nenhuma campanha/promoção cadastrada.");return}})}catch(e){console.log("Erro na request de Campanha por Marcas: ",e)}}},applyCopyCode:function applyCopyCode(){$(document).on("click",".mz-product__aside.campaign .right a, .mz-promotionbrands-mobile .copy-voucher, .mz-promotionbrands .copy-voucher",function(e){e.preventDefault();if(!$(document.body).is(".produto")){var codeWrapper=$(".mz-promotionbrands .voucher-coupon");BringBrands.copyTextToClipboard(codeWrapper.text());$(this).addClass("copied")}else{var thisCode=$(this).prev().text();BringBrands.copyTextToClipboard($(this),thisCode);$(this).next().addClass("copied")}});if($(window).width()<767){$(".mz-countdown__wrapper--info").find("br").remove()}},copyTextToClipboard:function copyTextToClipboard(thisButton,text){if(!navigator.clipboard){BringBrands.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then(function(){thisButton.hide();thisButton.next().show("fast");console.log("Async: Copying to clipboard was successful!")},function(err){console.error("Async: Could not copy text: ",err)})},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+msg)}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)}};BringBrands.init()}catch(e){console.log(e)}})();