/* oliva-Latitude-3470 - 30/11/2020 09:08:44 GMT-0300 */
"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}(function(){"use strict";if(typeof $.fn.countdown==="function"){console.log("Countdown (Extensao) não foi encontrado. Encerrando [Smart Countdown].");return}if(typeof $.fn.MZ_smartCountdown==="function"){console.log("MZ_smartCountdown não foi encontrado. Encerrando [Smart Countdown].");return}var extTitle="Smart Countdown";var log=function log(c,b){if("object"===(typeof console==="undefined"?"undefined":_typeof(console))&&"undefined"!==typeof console.error&&"undefined"!==typeof console.info&&"undefined"!==typeof console.warn){var a;"object"===_typeof(c)?(c.unshift("["+extTitle+"]\n"),a=c):a=["["+extTitle+"]\n"+c];if("undefined"===typeof b||"alerta"!==b.toLowerCase()&&"aviso"!==b.toLowerCase()){if("undefined"!==typeof b&&"info"===b.toLowerCase())try{console.info.apply(console,a)}catch(d){try{console.info(a.join("\n"))}catch(e){}}else try{console.error.apply(console,a)}catch(f){try{console.error(a.join("\n"))}catch(g){}}}else try{console.warn.apply(console,a)}catch(h){try{console.warn(a.join("\n"))}catch(k){}}}};$.MZ_smartCountdown=function(options){var defaults={element:".class-element",getData:{dateInit:"#mz-date_init",dateEnd:"#mz-date_end"},timeConfig:{week:false,day:true,hour:true,minutes:true,seconds:true}};var options=$.extend({},defaults,options);var dateInit="26/11/2020 16:50:00";var dateEnd="29/11/2020 12:00:00";if(!dateInit.length||!dateEnd.length){console.log("Alguma data ou as duas não foram setadas. Encerrando [smartCountdown].");return}compareteData(dateInit,dateEnd);if(!compareteData(dateInit,dateEnd)){return}dateEnd=revertEndDate(dateEnd);var currentDate;var formatDtInit=dateInit;var rl=regexList();formatDtInit=formatDtInit.split(rl.regexTrace);formatDtInit=formatDtInit[1]+"/"+formatDtInit[0]+"/"+formatDtInit[2];var verifyCurrentDate=setInterval((function(){var captureDate=new Date;currentDate=$.format.date(captureDate,"dd/MM/yyyy HH:mm:ss");currentDate=currentDate.split(rl.regexTrace);currentDate=currentDate[1]+"/"+currentDate[0]+"/"+currentDate[2];var dateCurrent=new Date(currentDate);var dateInitial=new Date(formatDtInit);if(dateCurrent<dateInitial){}else{clearInterval(verifyCurrentDate);$(".mz-lpbf-countdowns.block-countdown").countdown(dateEnd,(function(event){$("#mz-date-rendered").text(event.strftime("D{%-d} H{%-H} h MI{%M} min S{%S} sec"));var day=$("#mz-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-sc-days-number").text(day);$(".mz-sc-hours-number").text(hours);$(".mz-sc-minu-number").text(minutes);$(".mz-sc-seg-number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-sc-days-number").text()==0){$(".mz-sc-days-number").parent().hide()}if($(".mz-sc-days-number").text()==0&&$(".mz-sc-hours-number").text()==0){$(".mz-sc-hours-number").parent().hide()}if($(".mz-sc-days-number").text()==0&&$(".mz-sc-hours-number").text()==0&&$(".mz-sc-minu-number").text()==0){$(".mz-sc-minu-number").parent().hide()}if($(".mz-sc-days-number").text()==1){$(".mz-sc-days-text").text("Dia")}if($(".mz-sc-hours-number").text()==1){$(".mz-sc-hours-text").text("Hora")}if($(".mz-sc-minu-number").text()=="01"){$(".mz-sc-minu-text").text("Minuto")}if($(".mz-sc-minu-number").text()!="01"){$(".mz-sc-minu-text").text("Minutos")}if($(".mz-sc-days-number").text()==0&&$(".mz-sc-hours-number").text()==0&&$(".mz-sc-minu-number").text()=="00"){$(".mz-sc-seg-number").addClass("finishing")}}));$(this).on("finish.countdown",(function(){}))}))}}),1e3);function compareteData(dateOne,dateTwo){var rl=regexList();var validDateOne=dateOne;var validDateTwo=dateTwo;dateOne=dateOne.split(rl.regexTrace);dateOne=dateOne[1]+"/"+dateOne[0]+"/"+dateOne[2];dateTwo=dateTwo.split(rl.regexTrace);dateTwo=dateTwo[1]+"/"+dateTwo[0]+"/"+dateTwo[2];var formatedDataOne=new Date(dateOne);var formatedDataTwo=new Date(dateTwo);if(formatedDataOne>formatedDataTwo){console.log("[Smart Countdown]: Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(validDateOne.match(rl.regexValid)==null||validDateTwo.match(rl.regexValid)==null){console.log("[Smart Countdown]: Erro no cadastro, as datas não estão nos formatos corretos.")}else if(formatedDataOne=="Invalid Date"&&formatedDataTwo=="Invalid Date"){console.log("[Smart Countdown]: Erro no cadastro, datas invalidas.");return false}else{return true}}function revertEndDate(dateEnd){var rl=regexList();var dateToReverse=dateEnd.match(rl.regexDateEnd)[0];dateToReverse=dateToReverse.split(rl.regexTrace);var dateHours=dateEnd.split(" ")[1];var day=dateToReverse[0];var mont=dateToReverse[1];var year=dateToReverse[2];var dateUnify=year+"/"+mont+"/"+day+" "+dateHours;return dateUnify}function regexList(){var rl={regexDigit:/\d+/g,regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g,regexTime:{mont:/MT{[0-9]{1,2}}/g,week:/W{[0-9]{1,2}}/g,day:/D{[0-9]{1,2}}/g,hours:/H{[0-9]{1,3}/g,minutes:/MI{[0-9]{1,2}/g,seconds:/S{[0-9]{2}/},regexValid:/[0-9]{2}\/[0-9]{2}\/[0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2}/g};return rl}};try{var CustomCountdown={init:function init(){CustomCountdown.callPlugin()},callPlugin:function callPlugin(){console.log("Development...\n");$.MZ_smartCountdown()}};CustomCountdown.init()}catch(e){console.log("Erro na instancia [CustomCountdown]: ",e)}})();!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}((function(a){"use strict";function b(a){if(a instanceof Date)return a;if(String(a).match(g))return String(a).match(/^[0-9]*$/)&&(a=Number(a)),String(a).match(/\-/)&&(a=String(a).replace(/\-/g,"/")),new Date(a);throw new Error("Couldn't cast `"+a+"` to a date object.")}function c(a){var b=a.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(b)}function d(a){return function(b){var d=b.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(d)for(var f=0,g=d.length;f<g;++f){var h=d[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),j=c(h[0]),k=h[1]||"",l=h[3]||"",m=null;h=h[2],i.hasOwnProperty(h)&&(m=i[h],m=Number(a[m])),null!==m&&("!"===k&&(m=e(l,m)),""===k&&m<10&&(m="0"+m.toString()),b=b.replace(j,m.toString()))}return b=b.replace(/%%/,"%")}}function e(a,b){var c="s",d="";return a&&(a=a.replace(/(:|;|\s)/gi,"").split(/\,/),1===a.length?c=a[0]:(d=a[0],c=a[1])),Math.abs(b)>1?c:d}var f=[],g=[],h={precision:100,elapse:!1,defer:!1};g.push(/^[0-9]*$/.source),g.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g=new RegExp(g.join("|"));var i={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},j=function j(b,c,d){this.el=b,this.$el=a(b),this.interval=null,this.offset={},this.options=a.extend({},h),this.firstTick=!0,this.instanceNumber=f.length,f.push(this),this.$el.data("countdown-instance",this.instanceNumber),d&&("function"==typeof d?(this.$el.on("update.countdown",d),this.$el.on("stoped.countdown",d),this.$el.on("finish.countdown",d)):this.options=a.extend({},h,d)),this.setFinalDate(c),this.options.defer===!1&&this.start()};a.extend(j.prototype,{start:function start(){null!==this.interval&&clearInterval(this.interval);var a=this;this.update(),this.interval=setInterval((function(){a.update.call(a)}),this.options.precision)},stop:function stop(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function toggle(){this.interval?this.stop():this.start()},pause:function pause(){this.stop()},resume:function resume(){this.start()},remove:function remove(){this.stop.call(this),f[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function setFinalDate(a){this.finalDate=b(a)},update:function update(){if(0===this.$el.closest("html").length)return void this.remove();var a,b=new Date;return a=this.finalDate.getTime()-b.getTime(),a=Math.ceil(a/1e3),a=!this.options.elapse&&a<0?0:Math.abs(a),this.totalSecsLeft===a||this.firstTick?void(this.firstTick=!1):(this.totalSecsLeft=a,this.elapsed=b>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-b.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},void(this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish"))))},dispatchEvent:function dispatchEvent(b){var c=a.Event(b+".countdown");c.finalDate=this.finalDate,c.elapsed=this.elapsed,c.offset=a.extend({},this.offset),c.strftime=d(this.offset),this.$el.trigger(c)}}),a.fn.countdown=function(){var b=Array.prototype.slice.call(arguments,0);return this.each((function(){var c=a(this).data("countdown-instance");if(void 0!==c){var d=f[c],e=b[0];j.prototype.hasOwnProperty(e)?d[e].apply(d,b.slice(1)):null===String(e).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(d.setFinalDate.call(d,e),d.start()):a.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,e))}else new j(this,b[0],b[1])}))}}));