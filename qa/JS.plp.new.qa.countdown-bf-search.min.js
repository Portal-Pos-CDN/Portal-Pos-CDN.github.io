/* DESKTOP-G9RC0RK - 06/01/2021 18:18:09 GMT */
"use strict";(function(){try{var CountdownSearchBF={init:function init(){CountdownSearchBF.applyCountdown()},applyCountdown:function applyCountdown(){var fourthBlock=$(".mz-bf-promotionbanner__background.second");var countdownBlock=$(".mz-bfscountdown.fifth");var dateInit=$("#data_init").text();var dateEnd=$("#data_end").text();console.log(dateInit,dateEnd);if(!dateInit.length||!dateEnd.length){return}CountdownSearchBF.compareteData(dateInit,dateEnd);if(!CountdownSearchBF.compareteData(dateInit,dateEnd)){return}dateEnd=CountdownSearchBF.revertEndDate(dateEnd);var rl=CountdownSearchBF.regexList();if(dateInit==""){console.log("[CountdownSearchBF] Opção Direta ------------------");$(".mz-bfscountdown.countdown").countdown(dateEnd,(function(event){$("#mz-bf-date-rendered").text(event.strftime("H{%-I} h MI{%M} min S{%S} sec"));var day=$("#mz-bf-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bf-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bf-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bf-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-bfscountdown.days-number").text(day);$(".mz-bfscountdown.hours-number").text(hours);$(".mz-bfscountdown.minu-number").text(minutes);$(".mz-bfscountdown.seg-number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-bfscountdown.days-number").text()==0){$(".mz-bfscountdown.days-number").parent().hide()}if($(".mz-bfscountdown.hours-number").text()==0){$(".mz-bfscountdown.hours-number").parent().hide()}if($(".mz-bfscountdown.minu-number").text()==0){$(".mz-bfscountdown.minu-number").parent().hide()}}));$(this).on("finish.countdown",(function(){$(".mz-bfscountdown.countdown").hide()}))}))}else if(dateInit.length==19&&dateEnd.length==19){console.log("[CountdownSearchBF] Opção Agendada ------------------");var currentDate;var formatDtInit=dateInit;formatDtInit=formatDtInit.split(rl.regexTrace);formatDtInit=formatDtInit[1]+"/"+formatDtInit[0]+"/"+formatDtInit[2];var verifyCurrentDate=setInterval((function(){var captureDate=new Date;currentDate=$.format.date(captureDate,"dd/MM/yyyy HH:mm:ss");currentDate=currentDate.split(rl.regexTrace);currentDate=currentDate[1]+"/"+currentDate[0]+"/"+currentDate[2];var dateCurrent=new Date(currentDate);var dateInitial=new Date(formatDtInit);if(dateCurrent<dateInitial){}else{clearInterval(verifyCurrentDate);fourthBlock.hide();countdownBlock.show("fast");$(".mz-bfscountdown.countdown").countdown(dateEnd,(function(event){$("#mz-bf-date-rendered").text(event.strftime("D{%-d} H{%-H} h MI{%M} min S{%S} sec"));var day=$("#mz-bf-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bf-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bf-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bf-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-bfscountdown.days-number").text(day);$(".mz-bfscountdown.hours-number").text(hours);$(".mz-bfscountdown.minu-number").text(minutes);$(".mz-bfscountdown.seg-number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-bfscountdown.days-number").text()==0){$(".mz-bfscountdown.days-number").parent().hide()}if($(".mz-bfscountdown.days-number").text()==0&&$(".mz-bfscountdown.hours-number").text()==0){$(".mz-bfscountdown.hours-number").parent().hide()}if($(".mz-bfscountdown.days-number").text()==0&&$(".mz-bfscountdown.hours-number").text()==0&&$(".mz-bfscountdown.minu-number").text()==0){$(".mz-bfscountdown.minu-number").parent().hide()}if($(".mz-bfscountdown.days-number").text()==1){$(".mz-bfscountdown.days-text").text("Dia")}if($(".mz-bfscountdown.hours-number").text()==1){$(".mz-bfscountdown.hours-text").text("Hora")}if($(".mz-bfscountdown.minu-number").text()=="01"){$(".mz-bfscountdown.minu-text").text("Minuto")}if($(".mz-bfscountdown.minu-number").text()!="01"){$(".mz-bfscountdown.minu-text").text("Minutos")}if($(".mz-bfscountdown.days-number").text()==0&&$(".mz-bfscountdown.hours-number").text()==0&&$(".mz-bfscountdown.minu-number").text()=="00"){$(".mz-bfscountdown.seg-number").addClass("finishing")}}));$(this).on("finish.countdown",(function(){console.log("Finalizado");countdownBlock.hide("fast");fourthBlock.show("fast")}))}))}}),1e3)}else{console.error("[CountdownSearchBF] Alguma Data na formato errado! Verifique o tamanho.")}},revertEndDate:function revertEndDate(dateEnd){var rl={regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g};var dateToReverse=dateEnd.match(rl.regexDateEnd)[0];dateToReverse=dateToReverse.split(rl.regexTrace);var dateHours=dateEnd.split(" ")[1];var day=dateToReverse[0];var mont=dateToReverse[1];var year=dateToReverse[2];var dateUnify=year+"/"+mont+"/"+day+" "+dateHours;return dateUnify},compareteData:function compareteData(dateOne,dateTwo){var rl=CountdownSearchBF.regexList();dateOne=dateOne.split(rl.regexTrace);dateOne=dateOne[1]+"/"+dateOne[0]+"/"+dateOne[2];dateTwo=dateTwo.split(rl.regexTrace);dateTwo=dateTwo[1]+"/"+dateTwo[0]+"/"+dateTwo[2];var formatedDataOne=new Date(dateOne);var formatedDataTwo=new Date(dateTwo);if(formatedDataOne>formatedDataTwo){console.error("[CountdownSearchBF] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(formatedDataOne.length<19&&formatedDataTwo.length<19){console.error("[CountdownSearchBF] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(formatedDataOne=="Invalid Date"&&formatedDataTwo=="Invalid Date"){console.error("[CountdownSearchBF] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return true}},regexList:function regexList(){var rl={regexDigit:/\d+/g,regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g,regexTime:{mont:/MT{[0-9]{1,2}}/g,week:/W{[0-9]{1,2}}/g,day:/D{[0-9]{1,2}}/g,hours:/H{[0-9]{1,3}/g,minutes:/MI{[0-9]{1,2}/g,seconds:/S{[0-9]{2}/}};return rl}};$(document).ready(CountdownSearchBF.init)}catch(e){console.log("Erro na instancia [CountdownSearchBF]: ",e)}})();