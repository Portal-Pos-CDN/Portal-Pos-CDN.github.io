/* MEWTWO - 24/11/2020 15:46:51 GMT */
"use strict";(function(){try{var CountdownBFLP={init:function init(){CountdownBFLP.applyCountdown()},applyCountdown:function applyCountdown(){var fourthBlock=$(".mz-bf-promotionbanner__background.second");var countdownBlock=$(".mz-lpbf-countdowns.fifth");var dateInit=$("#data_init").text();var dateEnd=$("#data_end").text();console.log(dateInit,dateEnd);if(!dateInit.length||!dateEnd.length){return}CountdownBFLP.compareteData(dateInit,dateEnd);if(!CountdownBFLP.compareteData(dateInit,dateEnd)){return}dateEnd=CountdownBFLP.revertEndDate(dateEnd);var rl=CountdownBFLP.regexList();if(dateInit==""){console.log("[CountdownBFLP] Opção Direta ------------------");$(".mz-lpbf-countdowns.block-countdown").countdown(dateEnd,function(event){$("#mz-bf-date-rendered").text(event.strftime("H{%-I} h MI{%M} min S{%S} sec"));var day=$("#mz-bf-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bf-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bf-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bf-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-lpbf-countdowns.days-number").text(day);$(".mz-lpbf-countdowns.hours-number").text(hours);$(".mz-lpbf-countdowns.minu-number").text(minutes);$(".mz-lpbf-countdowns.seg-number").text(seconds);$(this).on("update.countdown",function(){if($(".mz-lpbf-countdowns.days-number").text()==0){$(".mz-lpbf-countdowns.days-number").parent().hide()}if($(".mz-lpbf-countdowns.hours-number").text()==0){$(".mz-lpbf-countdowns.hours-number").parent().hide()}if($(".mz-lpbf-countdowns.minu-number").text()==0){$(".mz-lpbf-countdowns.minu-number").parent().hide()}});$(this).on("finish.countdown",function(){$(".mz-lpbf-countdowns.block-countdown").hide()})})}else if(dateInit.length==19&&dateEnd.length==19){console.log("[CountdownBFLP] Opção Agendada ------------------");var currentDate;var formatDtInit=dateInit;formatDtInit=formatDtInit.split(rl.regexTrace);formatDtInit=formatDtInit[1]+"/"+formatDtInit[0]+"/"+formatDtInit[2];var verifyCurrentDate=setInterval(function(){var captureDate=new Date;currentDate=$.format.date(captureDate,"dd/MM/yyyy HH:mm:ss");currentDate=currentDate.split(rl.regexTrace);currentDate=currentDate[1]+"/"+currentDate[0]+"/"+currentDate[2];var dateCurrent=new Date(currentDate);var dateInitial=new Date(formatDtInit);if(dateCurrent<dateInitial){}else{clearInterval(verifyCurrentDate);console.log("Entrando no cronometro...");fourthBlock.hide();countdownBlock.show("fast");$(".mz-lpbf-countdowns.block-countdown").countdown(dateEnd,function(event){$("#mz-bf-date-rendered").text(event.strftime("D{%-d} H{%-H} h MI{%M} min S{%S} sec"));var day=$("#mz-bf-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bf-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bf-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bf-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-lpbf-countdowns.days-number").text(day);$(".mz-lpbf-countdowns.hours-number").text(hours);$(".mz-lpbf-countdowns.minu-number").text(minutes);$(".mz-lpbf-countdowns.seg-number").text(seconds);$(this).on("update.countdown",function(){if($(".mz-lpbf-countdowns.days-number").text()==0){$(".mz-lpbf-countdowns.days-number").parent().hide()}if($(".mz-lpbf-countdowns.days-number").text()==0&&$(".mz-lpbf-countdowns.hours-number").text()==0){$(".mz-lpbf-countdowns.hours-number").parent().hide()}if($(".mz-lpbf-countdowns.days-number").text()==0&&$(".mz-lpbf-countdowns.hours-number").text()==0&&$(".mz-lpbf-countdowns.minu-number").text()==0){$(".mz-lpbf-countdowns.minu-number").parent().hide()}if($(".mz-lpbf-countdowns.days-number").text()==1){$(".mz-lpbf-countdowns.days-text").text("Dia")}if($(".mz-lpbf-countdowns.hours-number").text()==1){$(".mz-lpbf-countdowns.hours-text").text("Hora")}if($(".mz-lpbf-countdowns.minu-number").text()=="01"){$(".mz-lpbf-countdowns.minu-text").text("Minuto")}if($(".mz-lpbf-countdowns.minu-number").text()!="01"){$(".mz-lpbf-countdowns.minu-text").text("Minutos")}if($(".mz-lpbf-countdowns.days-number").text()==0&&$(".mz-lpbf-countdowns.hours-number").text()==0&&$(".mz-lpbf-countdowns.minu-number").text()=="00"){$(".mz-lpbf-countdowns.seg-number").addClass("finishing")}});$(this).on("finish.countdown",function(){countdownBlock.hide("fast");fourthBlock.show("fast")})})}},1e3)}else{console.error("[CountdownBFLP] Alguma Data na formato errado! Verifique o tamanho.")}},revertEndDate:function revertEndDate(dateEnd){var rl={regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g};var dateToReverse=dateEnd.match(rl.regexDateEnd)[0];dateToReverse=dateToReverse.split(rl.regexTrace);var dateHours=dateEnd.split(" ")[1];var day=dateToReverse[0];var mont=dateToReverse[1];var year=dateToReverse[2];var dateUnify=year+"/"+mont+"/"+day+" "+dateHours;return dateUnify},compareteData:function compareteData(dateOne,dateTwo){var rl=CountdownBFLP.regexList();dateOne=dateOne.split(rl.regexTrace);dateOne=dateOne[1]+"/"+dateOne[0]+"/"+dateOne[2];dateTwo=dateTwo.split(rl.regexTrace);dateTwo=dateTwo[1]+"/"+dateTwo[0]+"/"+dateTwo[2];var formatedDataOne=new Date(dateOne);var formatedDataTwo=new Date(dateTwo);if(formatedDataOne>formatedDataTwo){console.error("[CountdownBFLP] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(formatedDataOne.length<19&&formatedDataTwo.length<19){console.error("[CountdownBFLP] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(formatedDataOne=="Invalid Date"&&formatedDataTwo=="Invalid Date"){console.error("[CountdownBFLP] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return true}},regexList:function regexList(){var rl={regexDigit:/\d+/g,regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g,regexTime:{mont:/MT{[0-9]{1,2}}/g,week:/W{[0-9]{1,2}}/g,day:/D{[0-9]{1,2}}/g,hours:/H{[0-9]{1,3}/g,minutes:/MI{[0-9]{1,2}/g,seconds:/S{[0-9]{2}/}};return rl}};$(document).ready(CountdownBFLP.init)}catch(e){console.log("Erro na instancia [CountdownBFLP]: ",e)}})();