/* LAPTOP-NRL05KQC - 22/07/2021 14:01:44 GMT */
"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function mz_number_format(n,t,e,i){n=(n+"").replace(/[^0-9+\-Ee.]/g,""),n=isFinite(+n)?+n:0,i=void 0===i?",":i,e=void 0===e?".":e;var r="";r=function r(n,t){var e=Math.pow(10,t);return""+(Math.round(n*e)/e).toFixed(t)};return 3<(r=((t=isFinite(+t)?Math.abs(t):0)?r(n,t):""+Math.round(n)).split("."))[0].length&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(r[1]||"").length<t&&(r[1]=r[1]||"",r[1]+=Array(t-r[1].length+1).join("0")),r.join(e)}(function(){try{var Product={init:function init(){Product.bringAllData();Product.applyShareActions();Product.applyAccordions();Product.applyEbookModal();Product.openInstallments();Product.getTeachers();Product.chooseFirstTimeLocationUnit();Product.changeLocationUnit();Product.applyLinkToGoogleMaps();Product.applyUnitTour();Product.getCourseDetail();Product.callDataUnit();Product.addProductInCheckout();Product.addEbookInCheckout();Product.toggleEbook();Product.togglePodcast();Product.toggleVideo();Product.submitEbookForm();Product.consultorsButtons();Product.applySelect2();Product.toggleDetailsMobile();Product.toggleDetailsDesktop();Product.changePrivallyPosition();Product.getLocationBySelect()},ready:function ready(){Product.applyMasks()},onScroll:function onScroll(){Product.setFloatingClass()},bgOverlay:"mz-mdlocation-on",dataAll:{dataProduct:"",dataEbook:"",dataUf:"",dataCity:"",idModalidade:"",dataUnitID:"",dataUnitPoloID:"",dataUnitBrandID:"",dataBrandID:"",dataBrandName:"",dataOfferID:"",dataOfferPlanPoloID:"",dataDetailsDuration:"",dataDetailsMeetings:"",dataConsultorID:"",dataUnitAddress:"",dataRegionID:"",dataCourseID:"",dataAffiliationID:"",dataInstallmentID:"",dataSkuNameInst:"",dataMestreIndica:"",selectedPaymentValue:"",dataAdress:{address:"",city:"",complement:"",idCounty:"",name:"",number:"",tel:"",uf:""},dataVoucher:{code:"",name:""},orderData:""},libRegex:{eadWrong:/[0-9]{1,2} - [0-9]{1,2}\d\ meses/g,eadFormated:/[0-9]{1,2} - /g},changePrivallyPosition:function changePrivallyPosition(){$("#oPrivallyApp-OptionBar").attr("style","margin-left:87% !important; bottom:40px !important;")},applyShareActions:function applyShareActions(){$("#mz-share-button").on("click",(function(){$(".mz-product__banner.to-share").slideToggle()}))},applyAccordions:function applyAccordions(){$("#mz-about-course").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.about-course").offset().top-200},1e3)}));$("#mz-subjects").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.subjects").offset().top-200},1e3)}));$("#mz-certification").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.certification").offset().top-200},1e3)}));$("#mz-modality").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.modality").offset().top-200},1e3)}));$("#mz-mec").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.mec").offset().top-200},1e3)}));$("#mz-soft-skills").on("click",(function(){$("html, body").animate({scrollTop:$(".texts.soft-skills").offset().top-200},1e3)}))},setBrandImage:function setBrandImage(){var currentBrand=(Product.dataAll.dataBrandName||"").toLowerCase();if(!currentBrand.length){$(".mz-product__brand").addClass("brand-platos");return}var isLFG=currentBrand=="lfg";var nameImage="portalpos-logo-".concat(currentBrand,"-dark").concat(isLFG?"-2":"");var urlImage="https://portalpos2.vteximg.com.br/arquivos/".concat(nameImage,".png");$(".mz-product__brand img").attr("src",urlImage)},bringAllData:function bringAllData(){var productUrl=window.location.pathname;$.ajax({type:"GET",method:"GET",url:"/api/catalog_system/pub/products/search".concat(productUrl),dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done((function(dataSku){Product.dataAll.dataProduct=dataSku[0];var headingOne=(Product.dataAll.dataProduct["Nome Curso"]||[""])[0];var fullBanner=Product.dataAll.dataProduct.items[0].images[1].imageUrl;var modality=(Product.dataAll.dataProduct["Modalidade"]||[""])[0];var duration=(Product.dataAll.dataProduct["Duração"]||[""])[0];var initCourse=(Product.dataAll.dataProduct["Previsão de início"]||[""])[0];var area=(Product.dataAll.dataProduct["Área de Estudo"]||[""])[0];var productID=Product.dataAll.dataProduct.productId;Product.dataAll.dataBrandID=Product.dataAll.dataProduct.brandId;Product.dataAll.dataBrandName=Product.dataAll.dataProduct.brand;window.thisCourseModality=(Product.dataAll.dataProduct["Modalidade"]||[""])[0];$(window).trigger("mzModalityLoaded",modality);if(duration.match(Product.libRegex.eadWrong)){duration=duration.replace(Product.libRegex.eadFormated,"")}$(".mz-product__infos h1").text(headingOne);$(".mz-product-extrainfo__titlespan").text(headingOne);$("#mz-main-banner").attr("src",fullBanner);$("#mz-main-banner").show("fast");$(".infos.modality").text(modality);if(modality!="Presencial"){$(".infos.duration").text(duration);$(".infos.course").text(initCourse)}else{$(".infos.duration").prev("strong").append("<span>*</span>");$(".infos.course").prev("strong").append("<span>*</span>")}$(".infos.area").text(area);Product.buildTextContent();Product.setBrandImage();Product.setSocialLink();if(window.location.search&&window.location.search.indexOf("homeSearch")>-1){Product.getLocationByHomeSearch()}else{Product.getLocationByLocalStorage();$(window).on("MZ.geolocationSelected",Product.getLocationByLocalStorage)}Product.applyEbookInfos();Product.buildTextCursosEAD(modality)}))},buildTextCursosEAD:function buildTextCursosEAD(modalidadi){var modalidade=modalidadi;var textCHWrapper=$("[data-text-cargaHoraria]");var CHNormal=$("[data-cargaHoraria-normal]");var modalidadeEAD=modalidade.split(" ");console.log(modalidadeEAD);if(modalidadeEAD[0]==="EAD"){textCHWrapper.css("display","block");CHNormal.css("display","none")}},buildTextContent:function buildTextContent(){var targetPublic=(Product.dataAll.dataProduct["Público Alvo"]||[""])[0];if(targetPublic.length){$(".publico-alvo").next().text(targetPublic)}else{$(".publico-alvo").hide();$(".publico-alvo").next().hide()}var description=Product.dataAll.dataProduct.description||"";if(description.length){var objetivosGerais=null;var objetivosEspecificos=null;if(description.match("Objetivos Gerais")){if(description.match("Objetivos Específicos")){objetivosGerais=description.split("Objetivos Específicos")[0]}else{objetivosGerais=description}objetivosGerais=objetivosGerais.trim();if(objetivosGerais.match(/·\s|\•/g)){objetivosGerais=objetivosGerais.replace(/·\s|\•/g,"")}}if(description.match("Objetivos Específicos")){objetivosEspecificos=description.split("Objetivos Específicos")[1];objetivosEspecificos=objetivosEspecificos.trim().split(/·\s|•\s|\n/g)}if(objetivosGerais!=null&&objetivosGerais!=""){objetivosGerais=objetivosGerais.replace(/Objetivos Gerais/g,"");$(".objetivos-gerais").next().text(objetivosGerais);$(".objetivos-gerais").show("fast");$(".objetivos-gerais").next().show("fast")}else{$(".objetivos-gerais").hide();$(".objetivos-gerais").next().hide()}if(objetivosEspecificos!=null&&objetivosEspecificos!=""){var newObjectives=[];objetivosEspecificos.forEach((function(item){if(item!=""){newObjectives.push(item.replace(/\.|\;/g,""))}}));newObjectives.map((function(descItem){var formatedText=_?_.capitalize(descItem.trim()):descItem.trim();if(formatedText!=""){var liText="<li>".concat(formatedText,".</li>");$(".objetivos-especificos").next().append(liText)}$(".objetivos-especificos").show("fast");$(".objetivos-especificos").next().show("fast")}))}else{$(".objetivos-especificos").hide();$(".objetivos-especificos").next().hide()}}else{$(".objetivos-gerais, .objetivos-especificos").hide();$(".objetivos-gerais, .objetivos-especificos").next().hide()}var certification=(Product.dataAll.dataProduct["Certificação"]||[""])[0];if(certification.length){Product.applyCertificationContent()}else{$(".texts.certification").hide();$("#mz-certification").parent().hide()}var modality=(Product.dataAll.dataProduct["Modalidade"]||[""])[0];if(modality.length){var modalityWrapper=$(".modality.descriptions");if(modality==="EAD - 10 meses"||modality==="EAD - 6 meses"){modalityWrapper.find(".text-ead").show()}if(modality==="Semi-presencial"){modalityWrapper.find(".text-semipresencial").show()}if(modality==="Presencial"){modalityWrapper.find(".text-presencial").show()}}else{$("#mz-modality, .texts.modality").hide()}},getLocationByHomeSearch:function getLocationByHomeSearch(){var _window$storeHelpers$=window.storeHelpers.generic.getSearchLocation(),locationType=_window$storeHelpers$.locationType,locationName=_window$storeHelpers$.locationName;var selectedUF;var selectedCity;if(!locationType||!locationName){Product.getLocationByLocalStorage();$(window).off("MZ.geolocationSelected").on("MZ.geolocationSelected",Product.getLocationByLocalStorage);return}var prevSelectedUf="";var prevSelectedCity="";if(locationType==="codUF"){prevSelectedUf=locationName}if(locationType.toLowerCase()==="cidade"){prevSelectedCity=locationName.split("-")[0].trim();prevSelectedUf=locationName.split("-")[1]}if(locationType==="nomeUF"||locationType.toLowerCase()==="estado"){prevSelectedUf=Product.ufs[locationName]||""}selectedUF=prevSelectedUf;selectedCity=prevSelectedCity;if(!selectedUF&&!selectedCity){Product.getLocationByLocalStorage();$(window).off("MZ.geolocationSelected").on("MZ.geolocationSelected",Product.getLocationByLocalStorage);return}$("#mz-modal-select-city").attr("disabled",true);$("#mz-modal-select-unit").attr("disabled",true);var uf=selectedUF;var estado=Product.states[uf]||"";var cidade=selectedCity;var nomeCurso=Product.dataAll.dataProduct["Nome Curso"][0];var marca=Product.dataAll.dataProduct.brandId;var modalidade=Product.getModality(Product.dataAll.dataProduct["Modalidade"][0]);var whereClause="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND codUF='").concat(uf,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"')");if($.cookie("marcaOrigem")==="uniderp"){whereClause="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND codUF='").concat(uf,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"' AND idUnidade='789')")}Product.dataAll.dataUf=uf;Product.dataAll.previousHomeState=estado;Product.dataAll.previousHomeCity=cidade;Product.getLocationBySelect(estado)},getLocationByLocalStorage:function getLocationByLocalStorage(){if(localStorage&&localStorage.mzGeoInfo&&localStorage.mzGeoInfo.length){var locationSeted=JSON.parse(localStorage.mzGeoInfo);var estado=locationSeted.state.toUpperCase();Product.getLocationBySelect(estado)}else{Product.getLocationBySelect()}},getLocationBySelect:function getLocationBySelect(state){$("#mz-modal-select-city").attr("disabled",true);$("#mz-modal-select-unit").attr("disabled",true);$(document.body).addClass("mz-mdlocation-on");if(Product.dataAll.dataProduct["Nome Curso"]===undefined||Product.dataAll.dataProduct["Nome Curso"]===""){return}if(!$("body").hasClass("MZ-filterstates-on")){var nomeCurso=Product.dataAll.dataProduct["Nome Curso"][0];var marca=Product.dataAll.dataProduct.brandId;var modalidade=Product.getModality(Product.dataAll.dataProduct["Modalidade"][0]);var whereClauseEstate="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"')");Product.getEstates(whereClauseEstate,state)}$("#mz-modal-select-state").on("change",(function(){var $t=$(this);var estado=Product.ufs[$t.val()||""];var cidade=null;var nomeCurso=Product.dataAll.dataProduct["Nome Curso"][0];var marca=Product.dataAll.dataProduct.brandId;var modalidade=Product.getModality(Product.dataAll.dataProduct["Modalidade"][0]);if(!estado){return}var whereClause="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND codUF='").concat(estado,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"')");var whereClauseEstate="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"')");if($.cookie("marcaOrigem")==="uniderp"){whereClauseEstate="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"')");whereClause="?whereClause=(nomeCurso='".concat(nomeCurso,"' AND codUF='").concat(estado,"' AND idModalidade='").concat(modalidade,"' AND idMarca='").concat(marca,"' AND idUnidade='789')")}Product.dataAll.dataUf=estado;$("#mz-modal-select-city").attr("disabled",true);$("#mz-modal-select-unit").attr("disabled",true);if(Product.dataAll.previousHomeCity){cidade=Product.dataAll.previousHomeCity;Product.dataAll.previousHomeCity=null}Product.getLocation(estado,cidade,nomeCurso,marca,modalidade,whereClause);console.log(estado,cidade,nomeCurso,marca,modalidade,whereClause)}));if(state){$("#mz-modal-select-state").val(state)}},getEstates:function getEstates(whereClauseEstate,state){var url="".concat(window.storeConfig.middleware.url,"/ofertas/localidades/").concat(whereClauseEstate);$.ajax({url:url,type:"GET",dataType:"json",success:function success(stateResponse){window.storeHelpers.generic.setCacheData(url,stateResponse);var thisUF="-".concat(Product.dataAll.dataUf);var thisRegex=new RegExp("".concat(thisUF));var selectState=$("#mz-modal-select-state");selectState.html("");for(var _state in stateResponse[1].facets){_state=_state.replace(thisRegex,"");var options='<option value="'.concat(_state,'">').concat(_state,"</option>");selectState.append(options)}$("#mz-modal-select-state").val(state);$("#mz-modal-select-state").trigger("change");$("body").addClass("MZ-filterstates-on")}})},getLocation:function getLocation(estado,cidade,nomeCurso,marca,modalidade,whereClause){try{var url="".concat(window.storeConfig.middleware.url,"/ofertas/localidades/").concat(whereClause);var currentCities=window.storeHelpers.generic.getCacheDataFromKey(url);if(currentCities){Product.getCities(estado,cidade,nomeCurso,marca,modalidade,whereClause,currentCities)}else{$.ajax({url:url,type:"GET",dataType:"json",success:function success(cityResponse){window.storeHelpers.generic.setCacheData(url,cityResponse);Product.getCities(estado,cidade,nomeCurso,marca,modalidade,whereClause,cityResponse)}})}}catch(e){console.log("Erro: ",e.message)}},getCities:function getCities(estado,cidade,nomeCurso,marca,modalidade,whereClause,cityResponse){var selectCity=$("#mz-modal-select-city");var selectUnit=$("#mz-modal-select-unit");var options;selectCity.empty();selectUnit.empty();selectCity.removeAttr("disabled");if(cityResponse[2].facets.length==0){return}var thisUF="-".concat(Product.dataAll.dataUf);var thisRegex=new RegExp("".concat(thisUF));selectCity.append('<option selected="true" value="">Selecione uma cidade</option>');for(var city in cityResponse[2].facets){city=city.replace(thisRegex,"");options='<option value="'.concat(city,'">').concat(city,"</option>");selectCity.append(options)}$(document.body).addClass("mz-mdlocation-on");selectCity.off("change.mzGetUnit").on("change.mzGetUnit",(function(){var $t=$(this);var thisCity=$t.val();if(thisCity!="Selecione uma cidade"){$(".select-city-error").hide("fast")}var params="?nomeCurso=".concat(nomeCurso,"&codUF=").concat(estado,"&idModalidade=").concat(modalidade,"&idMarca=").concat(marca,"&cidade=").concat(thisCity,"-").concat(estado);if($.cookie("marcaOrigem")==="uniderp"){params="?nomeCurso=".concat(nomeCurso,"&codUF=").concat(estado,"&idModalidade=").concat(modalidade,"&idMarca=").concat(marca,"&cidade=").concat(thisCity,"-").concat(estado,"&idUnidade=789")}if(~window.location.search.indexOf("superbusca")){params="?nomeCurso=".concat(nomeCurso,"&codUF=").concat(estado,"&idModalidade=").concat(modalidade,"&idMarca=").concat(marca,"&cidade=").concat(thisCity,"|").concat(estado);if($.cookie("marcaOrigem")==="uniderp"){params="?nomeCurso=".concat(nomeCurso,"&codUF=").concat(estado,"&idModalidade=").concat(modalidade,"&idMarca=").concat(marca,"&cidade=").concat(thisCity,"|").concat(estado,"&idUnidade=789")}}selectUnit.attr("disabled",true);selectUnit.html("");$.ajax({url:"".concat(window.storeConfig.middleware.url,"/ofertas/unidades").concat(params),type:"GET",dataType:"json",success:function success(unitsResponse){selectUnit.html("");if(unitsResponse.length>1){selectUnit.append('<option selected="true" value="">Selecione uma unidade/polo</option>');unitsResponse.forEach((function(unit){options='<option data-id-course="'.concat(unit.idCurso,'" data-id-affiliation="').concat(unit.afiliacao,'" data-id-offer=').concat(unit.idOfertaPolo,' data-id-unit="').concat(unit.idUnidade,'" data-id-polo="').concat(unit.idOferta,'" data-brand-unit-id-"').concat(unit.idMarca,'" value="').concat(unit.nomeUnidade,'">').concat(unit.nomeUnidade,"</option>");selectUnit.append(options)}))}else if(unitsResponse.length==1){unitsResponse.forEach((function(unit){options='<option data-id-course="'.concat(unit.idCurso,'" data-id-affiliation="').concat(unit.afiliacao,'" data-id-offer=').concat(unit.idOfertaPolo,' data-id-unit="').concat(unit.idUnidade,'" data-id-polo="').concat(unit.idOferta,'" data-brand-unit-id-"').concat(unit.idMarca,'" value="').concat(unit.nomeUnidade,'">').concat(unit.nomeUnidade,"</option>");selectUnit.append(options)}));selectUnit.val(unitsResponse[0].nomeUnidade);$(".mz-product__modal.location button").removeAttr("disabled")}selectUnit.removeAttr("disabled")}});Product.dataAll.idModalidade=Product.getModality(Product.dataAll.dataProduct["Modalidade"][0]);Product.dataAll.dataUf=estado;Product.dataAll.dataCity=thisCity}));selectUnit.on("change",(function(){$(".mz-product__modal.location button").removeAttr("disabled")}));if(cidade){selectCity.val(cidade);selectCity.trigger("change");Product.dataAll.previousHomeCity=null}Product.applyAsideBox()},getTeachers:function getTeachers(){$(window).on("mzSetUnitConfirmed",(function(evt,data){var thisId=Product.dataAll.dataOfferID;var cookie=$.cookie("TKOSMOS");var urlFormated=encodeURI("".concat(window.storeConfig.kosmos.url,"/vtex/pos/disciplinas/").concat(thisId,"?access_token=").concat(cookie));$.ajax({type:"GET",method:"GET",url:urlFormated,dataType:"json"}).done((function(responseSubjects){var line="";var group="";if(responseSubjects.length){responseSubjects.forEach((function(item,ix){line="\n                                    <li ".concat(ix%2!=0?'class="striped"':"",'>\n                                        <div class="info-instructor">\n                                            <span class="info-name">').concat(item.nome,"</span>\n                                            ").concat(item.professor!=null?'\n                                            <div class="info-instructor-data">\n                                                <span>'.concat(item.professor.titulacao||"","</span>\n                                                <span>").concat(item.professor.nome||"",'</span>\n                                                <span class="resume">(<a href="').concat(item.professor.lattes||"",'" target="_blank">Ver currículo</a>)</span>\n                                            </div>'):"",'\n                                        </div>\n                                        <div class="info-time">\n                                            <span>').concat(item.cargaHoraria!=0?item.cargaHoraria+"h":"","</span>\n                                        </div>\n                                    </li>\n                                ");group=group+line}));var listSubjects="\n                                <ul>".concat(group,'</ul>\n                                <h3>Trabalho de conclusão de curso:</h3> \n                                <p class="striped">De acordo com a Resolução de abril de 2018, emitida pelo Conselho Nacional de Educação (CNE), o trabalho de conclusão de curso (TCC) não é mais requisito obrigatório para certificação de especialização, com exceção de alguns cursos da área da saúde e engenharia em que o conselho de classe determina.</p>\n                            ');$(".subjects.descriptions").html(listSubjects);$(".texts.subjects").show("fast")}}))}))},applyCertificationContent:function applyCertificationContent(){$(window).on("mzSetedUnitData",(function(evt,data){var certificationText="";var certificacaoLFG=function certificacaoLFG(){if(Product.dataAll.dataUnitBrandID==16||Product.dataAll.dataUnitBrandID==12||Product.dataAll.dataUnitBrandID==19){$(".certification.descriptions").html("<p>A certificação na modalidade EaD têm a mesma validade que um curso presencial. Os cursos de Pós-Graduação a distância são certificados pela Faculdade Anhanguera-Uniderp.</p>")}if(Product.dataAll.dataUnitBrandID==1||Product.dataAll.dataUnitBrandID==4||Product.dataAll.dataUnitBrandID==5||Product.dataAll.dataUnitBrandID==7||Product.dataAll.dataUnitBrandID==8){$(".certification.descriptions").html("<p>A certificação na modalidade EaD têm a mesma validade que um curso presencial. Os cursos de Pós-Graduação a distância são certificados pela Universidade Pitágoras Unopar.</p>")}$(".texts.certification").removeAttr("style")};if(Product.dataAll.dataBrandName==="LFG"){return certificacaoLFG()}if(Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 10 meses"||Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 6 meses"){certificationText="A certificação na modalidade EaD têm a mesma validade que um curso presencial. Os cursos de Pós-Graduação a distância são certificados pela ";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}else if(Product.dataAll.dataProduct["Modalidade"][0]==="Semi-presencial"){certificationText="A certificação na modalidade semipresencial têm a mesma validade que um curso presencial. Os cursos de Pós-Graduação semipresencial são certificados pela ";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}else{certificationText="Os cursos de Pós-Graduação presencial são certificados pela "+Product.dataAll.dataBrandName;$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}if((Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 10 meses"||Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 6 meses")&&(Product.dataAll.dataBrandName==="Anhanguera"||Product.dataAll.dataBrandName==="Uniderp")){certificationText+="Faculdade Anhanguera-Uniderp.";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}else if(Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 10 meses"||Product.dataAll.dataProduct["Modalidade"][0]==="EAD - 6 meses"){certificationText+="Universidade Pitágoras Unopar.";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}if(Product.dataAll.dataProduct["Modalidade"][0]==="Semi-presencial"&&(Product.dataAll.dataBrandName==="Anhanguera"||Product.dataAll.dataBrandName==="Uniderp")){certificationText+="Faculdade Anhanguera-Uniderp.";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}else if(Product.dataAll.dataProduct["Modalidade"][0]==="Semi-presencial"){certificationText+="Universidade Pitágoras Unopar.";$(".certification.descriptions").html("<p>".concat(certificationText,"</p>"))}$(".texts.certification").removeAttr("style")}))},applyAsideBox:function applyAsideBox(){$("#mz-location-unity-confirm").on("click",(function(e){e.preventDefault();var thisSelectedCity=$("select#mz-modal-select-city").find(":selected");var thisSelectedUnit=$("select#mz-modal-select-unit").find(":selected");if(thisSelectedCity.text()=="Selecione uma cidade"){$(".select-city-error").show("fast");return}else{$(".select-city-error").hide("fast")}if(thisSelectedUnit.text()=="Selecione uma unidade/polo"){$(".select-unit-error").show("fast");return}else{$(".select-unit-error").hide("fast")}var unitSelected=$("#mz-modal-select-unit").find(":selected").attr("data-id-unit");var unitSelectedOfferPlanID=$("#mz-modal-select-unit").find(":selected").attr("data-id-offer");var unitSelectedCourseID=$("#mz-modal-select-unit").find(":selected").attr("data-id-course");var unitSelectedAffiliatonID=$("#mz-modal-select-unit").find(":selected").attr("data-id-affiliation");var unitSelectedOfferID=$("#mz-modal-select-unit").find(":selected").attr("data-id-polo");Product.dataAll.dataUnitID=unitSelected;Product.dataAll.dataOfferID=unitSelectedOfferID;Product.dataAll.dataOfferPlanPoloID=unitSelectedOfferPlanID;Product.dataAll.dataOfferPlanPoloID=parseInt(Product.dataAll.dataOfferPlanPoloID);Product.dataAll.dataCourseID=unitSelectedCourseID;Product.dataAll.dataAffiliationID=unitSelectedAffiliatonID;Product.applyInstallments();$(".payment.chose-unit").hide("fast");$(".payment.chose-unit .mz-loader").show();Product.getExtraInfo();try{$.ajax({url:"".concat(window.storeConfig.middleware.url,"/unidades/?id=").concat(unitSelected),type:"GET"}).done((function(response){console.log("".concat(window.storeConfig.middleware.url,"/unidades/?id=").concat(unitSelected));console.log(response);if(!response.length){console.log("Nenhum dado retornado.");return}$(window).trigger("mzSetUnitConfirmed",response[0]);Product.dataAll.dataAdress.address=response[0].endereco;Product.dataAll.dataAdress.city=response[0].cidade;Product.dataAll.dataAdress.complement=response[0].complemento;Product.dataAll.dataAdress.idCounty=response[0].id_municipio;Product.dataAll.dataAdress.name=response[0].nome;Product.dataAll.dataAdress.number=response[0].numero;Product.dataAll.dataAdress.tel=response[0].tel;Product.dataAll.dataAdress.uf=response[0].uf;console.log(Product.dataAll.dataAdress.idCounty+" "+Product.dataAll.dataAdress.number);var adressNumber=Product.dataAll.dataAdress.number;var adress="".concat(Product.dataAll.dataAdress.address,", ").concat(Product.dataAll.dataAdress.number," - ").concat(Product.dataAll.dataAdress.city,"/").concat(Product.dataAll.dataAdress.uf);var phone="Telefone: ".concat(Product.dataAll.dataAdress.tel);if(adressNumber===""||adressNumber===null||adressNumber===undefined){console.log(adress);console.log(Product.dataAll.dataAdress.city,Product.dataAll.dataAdress.uf);$(".payment.location").addClass("nopolo");$(".location.name-univercity").text(Product.dataAll.dataAdress.name);$(".location.address-univercity").hide();$(".location.phone").html("<strong>Telefone:</strong>".concat(Product.dataAll.dataAdress.tel));if($(".payment.location.nopolo .location.fyi").length<=0){$(".location.phone").after(' \n                                    <span class="location fyi">  \n                                        <br/> \n                                        Suporte e apoio acadêmico 100% online ao aluno via A.V.A (Ambiente Virtual de Aprendizagem), através da unidade física da Anhanguera Educacional Valinhos - SP\n                                    </span>  \n                                    ');$(".mz-product__content .texts.subjects h2").after(' \n                                        <span class="location fyi"> \n                                            <br/>  \n                                            <strong>Disciplina de Ambientação.</strong>\n                                            Para direcionamento e orientações de toda a jornada acadêmica pelo A.V.A (Ambiente Virtual de Aprendizagem).\n                                        </span>\n                                    ')}}else{$(".payment.location").removeClass("nopolo");$(".location.fyi").remove();$(".location.name-univercity").text(Product.dataAll.dataAdress.name);$(".location.address-univercity").text(adress);$(".location.phone").text(phone);$(".location.address-univercity").show()}$("#mz-not-consultor")[0].checked=false;$("#mz-yes-consultor")[0].checked=false;$(".payment.attendance div").hide();$(".mz-product__aside .mz-loader").hide("fast");$(".mz-product__floatingcta").show();$(".payment.location").show("fast");$(".payment.price").show("fast");$(".payment.ebook").show("fast");$("#mz-not-consultor").click();if(localStorage){var prevProdInfo={productId:Product.dataAll.dataProduct.productId,state:Product.states[Product.dataAll.dataUf],city:Product.dataAll.dataCity,unit:Product.dataAll.dataUnitID};localStorage.setItem("mzPrevProductInfo",JSON.stringify(prevProdInfo))}Product.getConsultors();Product.voucherVerifyCampaign()}))}catch(e){console.log("Erro na busca das informações unidade: ",e.message)}$(document.body).removeClass(Product.bgOverlay)}))},getModality:function getModality(modalidade){switch(modalidade){case"EAD - 10 meses":return"EAD";case"Educação a distância":return"EAD";case"Semi-presencial":return"SEMI_PRESENCIAL";case"Presencial":return"PRESENCIAL";case"EAD - 6 meses":return"INTENSIVO"}},applySelect2:function applySelect2(){$("#mz-modal-select-state").select2({placeholder:"Selecione um Estado...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhum estado encontrado!"}},dropdownParent:$("#mz-modal-select-state").parent()});$("#mz-modal-select-city").select2({placeholder:"Selecione uma Cidade...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma cidade encontrada!"}},dropdownParent:$("#mz-modal-select-city").parent()});$("#mz-modal-select-unit").select2({placeholder:"Selecione uma Unidade...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma unidade encontrada!"}},dropdownParent:$("#mz-modal-select-unit").parent()})},getConsultors:function getConsultors(){var selectConsultors=$("#mz-attendance-consultor");var options;try{$.ajax({url:"".concat(window.storeConfig.middleware.url,"/consultores"),type:"POST",dataType:"json",data:'{"idUnidade":"'.concat(Product.dataAll.dataUnitID,'"}'),cache:true}).done((function(responseConsultor){if(!responseConsultor&&!responseConsultor.length){$(".payment.attendance").hide();return}selectConsultors.empty();selectConsultors.append('<option selected="true" value="">Selecione o consultor que te atendeu</option>');responseConsultor.consultores.forEach((function(item){options='<option value="'.concat(item.id,'">').concat(item.nome,"</option>");selectConsultors.append(options)}));selectConsultors.select2({placeholder:"Selecione o consultor que te atendeu",language:{noResults:function noResults(){return"Nenhum consultor encontrado."}},dropdownParent:selectConsultors.parent()});$(".payment.attendance").show("fast")})).fail((function(e){if(e.status=="404"){$(".payment.attendance").hide();$(".payment.attendance div").hide();return}}))}catch(e){console.log("Erro na request de consultores.")}},consultorsButtons:function consultorsButtons(){$("#mz-not-consultor").on("change",(function(){$(".payment.attendance div").hide("fast");Product.dataAll.dataConsultorID="";$("#mz-attendance-consultor").val("").trigger("change")}));$("#mz-yes-consultor").on("change",(function(){$(".payment.attendance div").show("fast")}))},applyInstallments:function applyInstallments(){var regexList=Product.regexList();var cookie=$.cookie("TKOSMOS");var urlFormated=encodeURI("".concat(window.storeConfig.kosmos.url,"/vtex/pos/inscricao/planos/ofertaPolo/").concat(Product.dataAll.dataOfferPlanPoloID,"?access_token=").concat(cookie));var listUl=$(".list-installments.installments");var agroupHtml="";var itemLi,onePayment;$.ajax({type:"GET",method:"GET",url:urlFormated,dataType:"json"}).done((function(response){var list=response;var largestInstallment;list=list.sort((function(a,b){return a.parcelas-b.parcelas}));list.forEach((function(parc){var totalPrice=parc.parcelas*parc.valorParcela;totalPrice=mz_number_format(totalPrice,2,",",".");if(parc.parcelas>1){itemLi=' \n                            <li>\n                                <label for="inp_'.concat(parc.id,'" data-names-sku="').concat(parc.parcelas,"x de R$ ").concat(parc.valorParcela.replace(regexList.dot,","),'">\n                                    <input type="radio" id="inp_').concat(parc.id,'" data-parc-id="').concat(parc.id,'" data-parc="').concat(parc.parcelas,'" data-value="').concat(parc.valorParcela,'" data-sku="').concat(parc.valorPrimeiraParcela,'" name="inp_parc" />\n                                    ').concat(parc.parcelas,"x R$ ").concat(parc.valorParcela.replace(regexList.dot,","),'\n                                </label>\n                                <label id="valueTotal">R$ ').concat(totalPrice,"</label>\n                            </li>\n                            ");agroupHtml=agroupHtml+itemLi}else if(parc.parcelas==1){largestInstallment=list[list.length-1];var valueLargestInstallment=largestInstallment.valorParcela*largestInstallment.parcelas;$(".price.block-price .installment").text("".concat(largestInstallment.parcelas,"x"));$(".price.block-price .value").text("R$ ".concat(mz_number_format(largestInstallment.valorParcela,2,",",".")));var valueSaved=valueLargestInstallment-parc.valorParcela;if(parc.parcelas==1&&Product.dataAll.dataProduct.brand!=="LFG"){valueSaved="(economize até R$ ".concat(mz_number_format(valueSaved,2,",","."),")")}else if(parc.parcelas==1&&Product.dataAll.dataProduct.brand==="LFG"){valueSaved="(10% de desconto)"}onePayment=' \n                            <li>\n                                <label for="inp_'.concat(parc.id,'" class="one-payment-seted" data-names-sku="').concat(parc.parcelas,"x de R$ ").concat(parc.valorParcela.replace(regexList.dot,","),'">\n                                    <input type="radio" id="inp_').concat(parc.id,'" data-parc-id="').concat(parc.id,'" data-parc="').concat(parc.parcelas,'" data-value="').concat(parc.valorParcela,'" data-sku="').concat(parc.valorPrimeiraParcela,'" name="inp_parc" />\n                                    À vista - R$ ').concat(parc.valorParcela.replace(regexList.dot,","),'\n                                </label>\n                                <label id="valueTotal" class="one-payment">\n                                    R$ ').concat(totalPrice,'\n                                    <span class="value-economic">').concat(valueSaved,'</span>\n                                </label>\n                                <span style="display:none;" id="one-payment-formated">R$ ').concat(parc.valorParcela.replace(regexList.dot,","),"</span>\n                            </li>\n                            ")}}));agroupHtml=agroupHtml+onePayment;listUl.html(agroupHtml);if(largestInstallment){$('input[name="inp_parc"][data-parc="'.concat(largestInstallment.parcelas,'"]')).click()}$(".mz-product__modal.payment .mz-loader").hide("fast");window.countChanged++}))},openInstallments:function openInstallments(){$("#mz-price-installements, .mz-price-installments").on("click",(function(){$(document.body).addClass("mz-mdpayment-on");$(".mz-product__modal.payment .mz-loader").show("fast")}));$(document).on("click",".list-installments.installments label[for]",(function(){$(".mz-product__floatingcta--payment").show();$(".list-installments.installments label[for]").removeClass("ativo");$(this).addClass("ativo");$(".price.first-text").text("Valor da parcela:");if($(this).is(".one-payment-seted")){var value=$("#one-payment-formated").text();$(".price.block-price .installment").text("À vista -");$(".price.block-price .value").text(value)}else{var installment=$(this).find("input").attr("data-parc");var _value=$(this).find("input").attr("data-value");installment="".concat(installment,"x");_value="R$ ".concat(mz_number_format(_value,2,",","."));$(".price.block-price .installment").text(installment);$(".price.block-price .value").text(_value)}$(document.body).removeClass("mz-mdpayment-on")}));var buttonsClose=$(".mz-product__modal.payment .mz-modal__close button, .mz-bgoverlay");buttonsClose.on("click",(function(){$(document.body).removeClass("mz-mdpayment-on")}))},applyEbookInfos:function applyEbookInfos(){var codCurso=Product.dataAll.dataProduct["Código Curso"];var modalidade=Product.dataAll.dataProduct["Modalidade"];var ebookSpecificationFilterId=window.storeConfig.ebookSpecificationFilterId;var ebookSalesChannel=window.storeConfig.ebookSalesChannel;var urlTarget="/api/catalog_system/pub/products/search/"+codCurso+"/?map=specificationFilter_"+ebookSpecificationFilterId+"&sc="+ebookSalesChannel;if(modalidade=="EAD - 10 meses"||modalidade=="EAD - 6 meses"){$.ajax({type:"GET",method:"GET",url:urlTarget,dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done((function(response){if(!response||!response.length){$(".payment.ebook").addClass("hide-book");return}Product.dataAll.dataEbook=response[0];var price=mz_number_format(response[0].items[0].sellers[0].commertialOffer.Price,2,",",".");$(".mz-modal.mz-product__modal.ebook .price").text(price);var name=Product.dataAll.dataProduct["Nome Curso"][0];name=name.split("|")[0];$(".mz-modal.mz-product__modal.ebook .name-course").text(name)}))}},applyEbookModal:function applyEbookModal(){$("#mz-ebook-link").on("click",(function(){$(document.body).addClass("mz-mdebook-on")}));$(".mz-modal.mz-product__modal.ebook .mz-modal__close button, .mz-bgoverlay").on("click",(function(){$(document.body).removeClass("mz-mdebook-on")}))},chooseFirstTimeLocationUnit:function chooseFirstTimeLocationUnit(){var buttonUnit=$("#mz-chose-unit");buttonUnit.on("click",(function(){$(document.body).addClass("mz-mdlocation-on")}))},changeLocationUnit:function changeLocationUnit(){var buttonChangeUnit=$("#mz-location-change, #mz-location-change-float");buttonChangeUnit.on("click",(function(){$(document.body).addClass("mz-mdlocation-on")}))},getEbookAndPodcast:function getEbookAndPodcast(dataIdCourse){$.ajax({type:"GET",method:"GET",url:"https://www.portalpos.com.br/api/dataentities/adminprodinfo/search?idproduto=".concat(dataIdCourse,"&_schema=mz-body&an=portalpos2"),dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done((function(response){if(!response||!response.length){console.log("Nenhum Podcast cadastrado a esse produto.");return}}))},applyLinkToGoogleMaps:function applyLinkToGoogleMaps(){var linkMaps=$("#mz-location-maps, #mz-location-maps-float");var link;$(window).on("mzSetUnitConfirmed",(function(evt,data){link="http://maps.google.com/?q=".concat(data.endereco,",").concat(data.numero," - ").concat(data.cidade,"/").concat(data.uf);linkMaps.attr("href",link);linkMaps.attr("target","_blank")}))},applyUnitTour:function applyUnitTour(){$(window).on("mzSetUnitConfirmed",(function(){var unitSelected=$("#mz-modal-select-unit").find(":selected").attr("data-id-unit");var accountName=window.storeConfig.accountName||"portalpos2";$.ajax({url:"/api/dataentities/TT/search?unidadeid=".concat(unitSelected,"&_fields=unidadevideo&an=").concat(accountName),type:"GET"}).done((function(response){if(!response.length){$(".location.tour").hide()}else{$(".location.tour").attr("href",response[0].unidadevideo)}}))}))},callDataUnit:function callDataUnit(){$(window).on("mzSetUnitConfirmed",(function(){var unitSelected=$("#mz-modal-select-unit").find(":selected").attr("data-id-unit");try{$.ajax({url:"".concat(window.storeConfig.middleware.url,"/unidades/?id=").concat(unitSelected),type:"GET"}).done((function(response){if(!response.length){console.log("Nenhum dado retornado.");return}Product.dataAll.dataUnitID=unitSelected;Product.dataAll.dataUnitBrandID=response[0].idMarca;Product.dataAll.dataAdress.address=response[0].endereco;Product.dataAll.dataAdress.city=response[0].cidade;Product.dataAll.dataAdress.complement=response[0].complemento;Product.dataAll.dataAdress.idCounty=response[0].id_municipio;Product.dataAll.dataAdress.name=response[0].nome;Product.dataAll.dataAdress.number=response[0].numero;Product.dataAll.dataAdress.tel=response[0].tel;Product.dataAll.dataAdress.uf=response[0].uf;$(window).trigger("mzSetedUnitData",response[0])}))}catch(e){console.log("Erro na busca das informações unidade: ",e.message)}}))},getCourseDetail:function getCourseDetail(){$(window).on("mzSetUnitConfirmed",(function(){var params="?nomeCurso=".concat(Product.dataAll.dataProduct["Nome Curso"][0],"&codUF=").concat(Product.dataAll.dataUf,"&idModalidade=").concat(Product.dataAll.idModalidade,"&idMarca=").concat(Product.dataAll.dataBrandID,"&cidade=").concat(Product.dataAll.dataCity,"-").concat(Product.dataAll.dataUf,"&idUnidade=").concat(Product.dataAll.dataUnitID);if(~window.location.search.indexOf("superbusca")){params="?nomeCurso=".concat(Product.dataAll.dataProduct["Nome Curso"][0],"&codUF=").concat(Product.dataAll.dataUf,"&idModalidade=").concat(Product.dataAll.idModalidade,"&idMarca=").concat(Product.dataAll.dataBrandID,"&cidade=").concat(Product.dataAll.dataCity,"|").concat(Product.dataAll.dataUf,"&idUnidade=").concat(Product.dataAll.dataUnitID)}$.ajax({url:"".concat(window.storeConfig.middleware.url,"/ofertas/cursos/detalhes").concat(params),type:"GET"}).done((function(response){if(!response||!response.length){console.log("Nenhum dado retornado de: Detalhes de Curso.");return}Product.dataAll.dataDetailsMeetings=response[0].encontros;Product.dataAll.dataDetailsDuration=response[0].duracao;if(Product.dataAll.idModalidade=="PRESENCIAL"){$(".infos.duration").text(response[0].duracao);$(".infos.course").text(response[0].dataInicio);$(".infos.duration").prev("strong").find("span").remove();$(".infos.course").prev("strong").find("span").remove()}}))}))},applyShotsBF:function applyShotsBF(){var regex=Product.regexList();var thisModality=Product.dataAll.dataProduct["Modalidade"][0];if(thisModality.match(regex.findEAD)){$(".price.block-flag").show("fast");$(".payment.fourth-text").removeAttr("style");$(".mz-product__aside.bf-texts").show("fast");$(".mz-product__aside.campaign.brands").show("fast")}else{$(".mz-product__aside.campaign.brands").hide()}},addProductInCheckout:function addProductInCheckout(){var buyButton=$("#mz-buy-button, .mz-buy-button");var regexList=Product.regexList();buyButton.one("click",(function(){$(".mz-product__floatingcta").hide();$(".payment.chose-unit, .payment.location, .payment.voucher, .payment.price, .payment.ebook, .payment.attendance").slideUp("fast");$(".mz-loader").show("fast");$(".mz-loader span").show("fast");$(".mz-loader span").css({display:"block"});var idPolo=$("#mz-modal-select-unit").find(":selected").attr("data-id-offer");var cookie=$.cookie("TKOSMOS");var urlFormated=encodeURI("".concat(window.storeConfig.kosmos.url,"/vtex/pos/inscricao/planos/ofertaPolo/").concat(idPolo,"?access_token=").concat(cookie));$.ajax({type:"GET",method:"GET",url:urlFormated,dataType:"json"}).done((function(response){var firstInstallment=[];response.forEach((function(parc){firstInstallment.push(parc.parcelas)}));firstInstallment=response.sort();firstInstallment=firstInstallment[0];var unidadeEndereco=Product.dataAll.dataAdress.address;if(Product.dataAll.dataAdress.number){unidadeEndereco+=", "+Product.dataAll.dataAdress.number}if(Product.dataAll.dataAdress.complement){unidadeEndereco+=" - "+Product.dataAll.dataAdress.complement}unidadeEndereco+=" - "+Product.dataAll.dataAdress.city+"/"+Product.dataAll.dataAdress.uf;Product.dataAll.dataUnitAddress=unidadeEndereco;Product.dataAll.dataRegionID=Product.dataAll.dataAdress.idCounty;var consultorSelected=$("#mz-attendance-consultor").find(":selected").attr("value");Product.dataAll.dataConsultorID=consultorSelected?consultorSelected||"-":"-";if(Product.dataAll.dataConsultorID!="-"){Product.dataAll.dataConsultorID=parseInt(Product.dataAll.dataConsultorID)}var valorParcela,valorParcelaOriginal,qtdParcelas,valorMatriculaPresencial,nameSku;var valorTotal=0;var parcelas=[];if(!$('input[name="inp_parc"]:checked').length){console.log("Parcela não selecionada");valorParcelaOriginal=firstInstallment.valorParcela;valorParcela=firstInstallment.valorParcela;valorParcela=valorParcela.replace(regexList.dot,"");valorParcela=valorParcela/100;qtdParcelas=firstInstallment.parcelas;valorMatriculaPresencial=valorParcela;Product.dataAll.selectedPaymentValue=valorMatriculaPresencial;Product.dataAll.selectedPaymentValue=valorParcelaOriginal.replace(regexList.dot,"");Product.dataAll.selectedPaymentValue=Product.dataAll.selectedPaymentValue.toString();valorTotal=valorParcela;nameSku="".concat(qtdParcelas,"x de R$ ").concat(valorParcelaOriginal.replace(regexList.dot,","));for(var i=1;i<=qtdParcelas;i++){parcelas.push({parcela:i,desconto:0,percentaul:0,valor:valorParcela,valorOriginal:valorParcela});valorTotal+=valorParcela}valorTotal=parseFloat(valorTotal);Product.dataAll.dataInstallmentID=firstInstallment.id;Product.dataAll.dataSkuNameInst=nameSku}else if($('input[name="inp_parc"]:checked').length){console.log("Parcela Selecionada");valorParcela=$('input[name="inp_parc"]:checked').attr("data-value");qtdParcelas=$('input[name="inp_parc"]:checked').attr("data-parc");valorMatriculaPresencial=$('input[name="inp_parc"]:checked').attr("data-sku");nameSku=$('input[name="inp_parc"]:checked').parent().attr("data-names-sku");Product.dataAll.selectedPaymentValue=valorMatriculaPresencial.replace(regexList.dot,"");Product.dataAll.dataInstallmentID=$('input[name="inp_parc"]:checked').attr("data-parc-id");Product.dataAll.dataSkuNameInst=nameSku;valorParcela=valorParcela.replace(regexList.dot,"");valorParcela=valorParcela/100;valorMatriculaPresencial=valorMatriculaPresencial.replace(regexList.dot,"");valorMatriculaPresencial=valorMatriculaPresencial/100;for(var i=1;i<=qtdParcelas;i++){parcelas.push({parcela:i,desconto:0,percentaul:0,valor:valorParcela,valorOriginal:valorParcela});valorTotal+=valorParcela}valorTotal=parseFloat(valorTotal)}switch(Product.dataAll.idModalidade.toLowerCase()){case"ead":case"intensivo":valorMatriculaPresencial:0;break}Product.dataAll.orderData=_objectSpread(_objectSpread({},window.storeHelpers.generic.getResetedOrderData()),{},{payment:{valorMatricula:valorMatriculaPresencial,valorTotal:valorTotal,valorMatriculaPresencial:valorMatriculaPresencial,valorSku:valorMatriculaPresencial,parcelas:parcelas},idOfertaPlano:Product.dataAll.dataInstallmentID,idModalidade:Product.dataAll.idModalidade,modalityVtexName:Product.dataAll.dataProduct["Modalidade"][0],nomesku:Product.dataAll.dataSkuNameInst,courseName:Product.dataAll.dataProduct["Nome Curso"][0],productId:Product.dataAll.dataProduct.productId,productArea:Product.dataAll.dataProduct["Área de Estudo"][0],brand:Product.dataAll.dataProduct.brand,brandId:Product.dataAll.dataProduct.brandId,regiao:Product.dataAll.dataRegionID,unidadeEndereco:Product.dataAll.dataUnitAddress,unidadeID:Product.dataAll.dataUnitID,unidadeNome:Product.dataAll.dataAdress.name.toLowerCase(),encontros:Product.dataAll.dataDetailsMeetings,duracao:Product.dataAll.dataDetailsDuration,consultor:Product.dataAll.dataConsultorID,courseUrl:"/".concat(Product.dataAll.dataProduct.linkText,"/p"),category:Product.dataAll.dataProduct.categories[0].replace(/^\/|\/$/g,""),categories:Product.dataAll.dataProduct.categories[0].replace(/^\/|\/$/g,"").split("/"),categoriesIds:Product.dataAll.dataProduct.categoriesIds[0].replace(/^\/|\/$/g,"").split("/"),vtexSkuId:Product.dataAll.dataProduct.items[0].itemId,vtexSkuName:Product.dataAll.dataProduct.items[0].nameComplete,vtexSkuPrice:Product.dataAll.dataProduct.items[0].sellers[0].commertialOffer.Price,vtexSkuVariant:Product.dataAll.dataProduct.items[0].name,vtexSellerId:Product.dataAll.dataProduct.items[0].sellers[0].sellerId});Product.dataAll.orderData.mestreIndica={codigo:Product.dataAll.dataVoucher.code||"-",professor:Product.dataAll.dataVoucher.name||"-"};localStorage.setItem("orderData",JSON.stringify(Product.dataAll.orderData));localStorage.removeItem("mzPrevProductInfo");var _window$storeHelpers$2=window.storeHelpers.generic,clearCart=_window$storeHelpers$2.clearCart,addUtms=_window$storeHelpers$2.addUtms;clearCart().then((function(){addUtms().then(Product.addToCart)}))}))}))},addToCart:function addToCart(){var item={id:Product.dataAll.dataProduct.items[0].itemId,quantity:1,seller:Product.dataAll.dataProduct.items[0].sellers[0].sellerId};vtexjs.checkout.addToCart([item],null,jssalesChannel).done(Product.changePrice)},changePrice:function changePrice(orderForm){var thisData={orderFormId:orderForm.orderFormId,price:Product.dataAll.selectedPaymentValue};$.ajax({url:"".concat(window.storeConfig.middleware.url,"/checkout/price"),type:"POST",data:JSON.stringify(thisData),dataType:"json",success:function success(data){console.log("Sucesso! Data: ",data)},error:function error(data,statusText){console.warn("Erro na Mudança do Orderform");var responseText=JSON.parse(data.responseText||"{}");var error=responseText.error||"";console.warn("Mensagem de erro do servidor: ",error)}}).done((function(data){Product.sendAttachment()}));$(window).trigger("MZ.productAddedToCart",[])},sendAttachment:function sendAttachment(){var itemIndex=0;var attachment="Dados da compra";var attachmentContent={"Codigo da Afiliacao Cielo":Product.dataAll.dataAffiliationID,codigoMestreIndica:Product.dataAll.orderData.mestreIndica.codigo!==null?Product.dataAll.orderData.mestreIndica.codigo:"-",Consultor:Product.dataAll.dataConsultorID,"Endereço Unidade":Product.dataAll.dataUnitAddress,Ibge:"-","Id da Oferta":Product.dataAll.dataOfferID,"Id da OfertaPolo":Product.dataAll.dataOfferPlanPoloID.toString(),IsentaPrimeiroPagamento:false,Unidade:"Regiao: "+Product.dataAll.dataRegionID+" - Nome: "+Product.dataAll.dataAdress.name,"Id Unidade":Product.dataAll.dataUnitID,"Valor Inscrição":"ID: "+Product.dataAll.dataInstallmentID+" - "+Product.dataAll.dataSkuNameInst,Voucher:"-",idCurso:Product.dataAll.dataCourseID};$.removeCookie("Voucher");$.removeCookie("ValorVoucher");vtexjs.checkout.addItemAttachment(itemIndex,attachment,attachmentContent).then((function(){return vtexjs.checkout.sendAttachment("openTextField",{value:""})})).done((function(){window.location.href="/checkout/#/email"}))},addEbookInCheckout:function addEbookInCheckout(){$("#mz-ebook-buybutton").one("click",(function(){var orderData=_objectSpread(_objectSpread({},window.storeHelpers.generic.getResetedOrderData()),{},{isEbook:true,payment:{valorSku:Product.dataAll.dataEbook.items[0].sellers[0].commertialOffer.Price,valorTotal:Product.dataAll.dataEbook.items[0].sellers[0].commertialOffer.Price},courseName:Product.dataAll.dataEbook.productName,courseUrl:"/".concat(Product.dataAll.dataProduct.linkText,"/p"),ebookImg:Product.dataAll.dataEbook.items[0].images[0].imageUrl});localStorage.setItem("orderData",JSON.stringify(orderData));window.storeHelpers.generic.clearCart().then((function(){window.storeHelpers.generic.addUtms().then(Product.addEbookToCart())}))}))},addEbookToCart:function addEbookToCart(){var ebookSalesChannel=4;var item={id:Product.dataAll.dataEbook.items[0].itemId,quantity:1,seller:Product.dataAll.dataEbook.items[0].sellers[0].sellerId};vtexjs.checkout.getOrderForm().then((function(orderForm){vtexjs.checkout.addToCart([item],null,ebookSalesChannel).done(Product.addEbookUrl())}))},addEbookUrl:function addEbookUrl(){var ebookUrl=Product.dataAll.dataEbook.ebookUrl[0];if(ebookUrl){vtexjs.checkout.getOrderForm().then((function(){return vtexjs.checkout.sendAttachment("openTextField",{value:ebookUrl})})).then((function(){window.location.href="/checkout/#/email"}))}else{window.location.href="/checkout/#/email"}},getExtraInfo:function getExtraInfo(){$.ajax({type:"GET",url:"https://www.portalpos.com.br/api/dataentities/adminprodinfo/search?idproduto=".concat(Product.dataAll.dataCourseID,"&_schema=mz-body"),dataType:"json",headers:{accept:"application/json","REST-Range":"resources=0-1000","content-type":"application/json"}}).done((function(data){if(!data||!data.length){return}var currentData=data[0];$(".mz-product-extrainfo__block").hide();if(!currentData.imagem&&!currentData.ebook&&!currentData.ebookuniderp&&!currentData.video&&!currentData.podcast){return}var image=currentData.imagem;var video=currentData.video;var podcast=currentData.podcast;var ebookuniderp=currentData.ebookuniderp;var ebook=currentData.ebook;if(image){$(".mz-product-extrainfo__img").html('<img src="'.concat(image,'" />'));$(".mz-product-extrainfo__img").show()}if(video){var $video='<video class="mz-product-video__modal--video" controls src="'.concat(video,'"></video>');if(video.indexOf("mdstrm.com/embed")>-1){$video='<div class="mz-product-video__modal--video-embed embed-responsive embed-responsive-16by9">\n                                           <iframe class="mz-product-video__modal--video-iframe embed-responsive-item" src="'.concat(video,'"></iframe>\n                                      </div>')}$(".mz-product-video__modal--video-wrapper").html($video);$(".mz-product-extrainfo__video").show()}if(podcast){$(".mz-product-extrainfo__podcast-wrapper").html(podcast);$(".mz-product-extrainfo__podcast").show()}if($.cookie("marcaOrigem")=="uniderp"||$.cookie("marcaOrigem")=="anhanguera"){if(ebookuniderp){$(".mz-product-extrainfo__ebook").attr("data-ebook",ebookuniderp);$(".mz-product-extrainfo__ebook").show()}}else if(ebook){$(".mz-product-extrainfo__ebook").attr("data-ebook",ebook);$(".mz-product-extrainfo__ebook").show()}$(document.body).addClass("mz-ei-on")}))},toggleVideo:function toggleVideo(){$(".mz-product-extrainfo__video").click((function(){$(".mz-product-video__modal").addClass("modal-pos-visible");$(document.body).addClass("mz-product-video-on");var currentVideo=$(".mz-product-video__modal--video")[0];if(!currentVideo){return}currentVideo.play()}));$(".mz-product-video__modal--btnClose").click((function(){$(".mz-product-video__modal").removeClass("modal-pos-visible");$(document.body).removeClass("mz-product-video-on");var currentVideo=$(".mz-product-video__modal--video")[0];if(!currentVideo){return}currentVideo.pause()}));$(".modal-pos-backdrop").click((function(){$(document.body).removeClass("mz-product-video-on");var currentVideo=$(".mz-product-video__modal--video")[0];if(!currentVideo){return}currentVideo.pause()}))},toggleEbook:function toggleEbook(){$(".mz-product-extrainfo__ebook").click((function(){$(".mz-product-ebook__modal").addClass("modal-pos-visible");$(document.body).addClass("mz-product-ebook-on")}));$(".mz-product-ebook__modal--btnClose").click((function(){$(".mz-product-ebook__modal").removeClass("modal-pos-visible");$(document.body).removeClass("mz-product-ebook-on")}))},togglePodcast:function togglePodcast(){$(".mz-product-extrainfo__podcast").click((function(){$(".mz-product-extrainfo__podcast-wrapper").slideToggle()}))},applyMasks:function applyMasks(){if(!$.fn.mask){return}var SPMaskBehavior=function SPMaskBehavior(val){return val.replace(/\D/g,"").length===11?"(00) 00000-0000":"(00) 0000-00009"};$('input[name="telefone"]').mask(SPMaskBehavior,{onKeyPress:function onKeyPress(val,e,field,options){field.mask(SPMaskBehavior.apply({},arguments),options)}})},submitEbookForm:function submitEbookForm(){if(!$.fn.validate){return}$(".mz-product-ebook__modal--form").validate({rules:{email:{required:true,email:true}},messages:{email:{required:"Preencha o e-mail",email:"E-mail inválido"},name:"Preencha o nome"},submitHandler:function submitHandler(form,event){event.preventDefault();var $form=$(form);var isValid=$form.valid();if(!isValid){return}var ebook=$(".mz-product-extrainfo__ebook").attr("data-ebook");var formData=$form.serializeObject();$.ajax({url:"/api/checkout/pub/postal-code/BRA/"+formData.cep,type:"GET",dataType:"json",success:function success(data){console.log("data",data);var mdData=_objectSpread(_objectSpread({},formData),{},{cidade:formData.city,estado:formData.state,bairro:formData.neighborhood,ebook:ebook,marca:$.cookie("marcaOrigem")||"PortalPos",url:window.location.hostname});Product.sendEbookMasterData(mdData)},error:function error(e){swal({icon:"error",text:"Erro ao enviar o formulário!"});console.log(e)}});window.storeHelpers.chaordic.updateUserEmail(formData.name,formData.email)},errorPlacement:function errorPlacement(error,element){element.closest(".mz-product-ebook__modal--form-group").append(error)}})},sendEbookMasterData:function sendEbookMasterData(mdData){$.ajax({url:"/api/dataentities/ebookdial/documents?_schema=mz-body&an="+window.storeConfig.accountName,type:"POST",dataType:"json",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(mdData),complete:function complete(jqXHR,textStatus){var lead=Product.getCallCenterLead(mdData);if(lead.celular){window.storeHelpers.goodSale.senderLead(lead)}Product.formEbookSuccess(mdData.ebook)}})},getCallCenterLead:function getCallCenterLead(prmData){var orderForm=window.storeHelpers.generic.getOrderForm();var marca=window.storeHelpers.generic.getMarca();var lead={f_campoUnico:"email",f_fila:window.storeConfig.goodSale.idFila,f_atualizaRegistro:true,f_campanhaTelemarketing:window.storeConfig.goodSale.idCampanhaCataLead,f_cadastraOrigem:true,origem:"PortalPos",f_cadastraCategoria:true,categoria:"Cataleads",f_cadastraTipo:true,tipo:"Lead",nome:prmData.nome,email:prmData.email,celular:window.storeHelpers.goodSale.normalizeTel(prmData.telefone),observacoes:"Página: "+window.location.href+"\nMarca Site: "+marca+" \nCatalead: Ebook Baixar\nE-book: "+prmData.ebook,cidade:prmData.cidade,cep:prmData.cep,estado:prmData.estado,bairro:prmData.bairro};if(orderForm.marketingData){lead=_objectSpread(_objectSpread({},lead),{},{ext_utmsource:orderForm.marketingData.utmSource,ext_utmmedium:orderForm.marketingData.utmMedium,ext_utmcampaign:orderForm.marketingData.utmCampaign,ext_utmicampaign:orderForm.marketingData.utmiCampaign})}return lead},formEbookSuccess:function formEbookSuccess(ebook){$(".mz-product-ebook__modal--form input").val("");$(".mz-product-ebook__modal").addClass("mz-success");$(".mz-product-ebook__modal--btnOk").off("click").on("click",(function(){$(".mz-product-ebook__modal").removeClass("modal-pos-visible");$(".mz-product-ebook__modal").removeClass("mz-success");$(document.body).removeClass("mz-product-ebook-on");window.open(ebook,"_blank")}))},voucherVerifyCampaign:function voucherVerifyCampaign(){var cookie=$.cookie("TKOSMOS");$.get("".concat(window.storeConfig.kosmos.url,"/vtex/pos/mestre-indica/campaign/active?access_token=").concat(cookie)).done((function(response){if(response&&response.isActive){var utmCode=$.cookie("utm_voceindica");var regex=Product.regexList();var thisPage=window.location.href;Product.voucherUserApplyCode();Product.voucherUserRemoveCode();if(thisPage.match(regex.voucher)||utmCode){Product.voucherLoadApplyCode(utmCode)}$(".payment.voucher, .mz-product__floatingcta--voucher").show()}else{$(".payment.voucher, .mz-product__floatingcta--voucher").hide()}}))},voucherLoadApplyCode:function voucherLoadApplyCode(code){var cookie=$.cookie("TKOSMOS");$.get("".concat(window.storeConfig.kosmos.url,"/vtex/pos/mestre-indica/validate/").concat(code,"?access_token=").concat(cookie)).done((function(response){if(response&&response.valid){Product.dataAll.dataVoucher.code=code;Product.dataAll.dataVoucher.name=response.professor;$("#mz-button-voucher").hide("fast");$("#mz-button-voucher-remove").show("fast");$("#mz-input-voucher").val(code);$("#mz-voucher-code").text(code);$("#mz-voucher-name").text(response.professor);$("#mz-input-voucher").addClass("input-success");$(".voucher-success").show("fast");$(".payment.voucher, .mz-product__floatingcta--voucher").show("fast")}else{$(".voucher-success, .voucher-wrong").hide("fast");$("#mz-input-voucher").addClass("input-wrong");$(".voucher-invalid").show("fast")}})).fail((function(e){$(".voucher-success, .voucher-invalid").hide("fast");$("#mz-button-voucher").hide("fast");$("#mz-button-voucher-remove").show("fast");$(".voucher-wrong").show("fast");$("#vtexIdContainer").remove();$("#vtexIdContainer").hide();setTimeout((function(){$("#vtexIdContainer, #vtexIdUI-global-loader").remove();$("#vtexIdUI-auth-selector").hide();$("#vtexIdUI-auth-selector").remove()}),2500)}))},voucherUserApplyCode:function voucherUserApplyCode(){$("#mz-button-voucher").on("click",(function(){var codeInserted=$("#mz-input-voucher").val();var cookie=$.cookie("TKOSMOS");$.get("".concat(window.storeConfig.kosmos.url,"/vtex/pos/mestre-indica/validate/").concat(codeInserted,"?access_token=").concat(cookie)).done((function(response){if(response&&response.valid){$("#mz-button-voucher").hide("fast");$("#mz-input-voucher").removeClass("input-wrong");$(".voucher-invalid, .voucher-wrong").hide("fast");$("#mz-button-voucher-remove").show("fast");$("#mz-voucher-code").text(codeInserted);$("#mz-voucher-name").text(response.professor);$("#mz-input-voucher").addClass("input-success");$(".voucher-success").show("fast");Product.dataAll.dataVoucher.code=codeInserted;Product.dataAll.dataVoucher.name=response.professor}else{$(".voucher-success, .voucher-wrong").hide("fast");$("#mz-button-voucher").hide("fast");$("#mz-button-voucher-remove").show("fast");$("#mz-input-voucher").addClass("input-wrong");$(".voucher-invalid").show("fast")}})).fail((function(e){$(".voucher-success, .voucher-invalid").hide("fast");$("#mz-button-voucher").hide("fast");$("#mz-button-voucher-remove").show("fast");$(".voucher-wrong").show("fast");$("#vtexIdContainer").remove();$("#vtexIdContainer").hide();setTimeout((function(){$("#vtexIdContainer, #vtexIdUI-global-loader").remove();$("#vtexIdUI-auth-selector").hide();$("#vtexIdUI-auth-selector").remove()}),2500)}))}))},voucherUserRemoveCode:function voucherUserRemoveCode(){$("#mz-button-voucher-remove").on("click",(function(){$(this).hide();$(".voucher-success, .voucher-invalid, .voucher-wrong").hide();$("#mz-input-voucher").removeClass("input-success");$("#mz-input-voucher").removeClass("input-wrong");$("#mz-button-voucher").show("fast");$("#mz-input-voucher").val("");$("#mz-voucher-code").text("");$("#mz-voucher-name").text("");Product.dataAll.dataVoucher.code="";Product.dataAll.dataVoucher.name=""}))},setSocialLink:function setSocialLink(){var productLink=encodeURIComponent(window.location.href);var productName=encodeURIComponent(Product.dataAll.dataProduct["Nome Curso"][0]);$(".share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u=".concat(productLink,"&quote=").concat(productName,"&display=popup"));$(".share-twitter").attr("href","http://twitter.com/share?text=".concat(productName,"&url=").concat(productLink));$(".share-whatsapp").attr("href","https://api.whatsapp.com/send?text=".concat(productName," ").concat(productLink))},setAffix:function setAffix(){setTimeout((function(){if($(window).width()>=992){var box=$(".mz-product__aside.wrapper");box.QD_affix({topSpacing:140,bottomSpacing:1,bottomLimitSeletor:$(".MZnewsletter"),css:{position:"absolute",transition:"top .5s","margin-top":$(".payment.location").height()+5+"px"}});if(innerWidth<=1366){box.css("margin-top",$(".payment.location").height()+5+"px")}}}),1e3)},setFloatingClass:function setFloatingClass(){var docViewBottom=$(window).scrollTop()+$(window).height();var elemBottom=$(".MZnewsletter").offset().top+$(".MZnewsletter").height();if(elemBottom<=docViewBottom){$(document.body).addClass("mz-floating-on")}else{$(document.body).removeClass("mz-floating-on")}},setMenuClass:function setMenuClass(){return;var wrapperTabs=$(".mz-product__content .content.tabs-acordion > ul > li > a");var wrapperAccordion=$(".mz-product__content .content.texts");var docViewTop=$(window).scrollTop();var docViewBottom=docViewTop+$(window).height();var currentElem=null;var currentElemOffset=9999999;wrapperTabs.each((function(){var $t=$(this);var $id=$t.attr("id").replace("mz-","");var elem=wrapperAccordion.find(".texts.".concat($id," > h2"));var elemTop=elem.offset().top;var elemBottom=elemTop+elem.height();if(elemBottom<=docViewBottom&&elem.offset().top<currentElemOffset){currentElem=$t;currentElemOffset=elem.offset().top;console.log("teste",$id);console.log("teste",elem.offset().top)}else{console.log("not teste",$id)}}));if(currentElem){wrapperTabs.removeClass("mz-on");currentElem.addClass("mz-on")}},toggleDetailsMobile:function toggleDetailsMobile(){$(".mz-product__floatingcta--details").click((function(){if($(this).is(".desktop")){$(document.body).toggleClass("mz-details-desktop-on");$(".mz-product__floatingcta--details.desktop").toggleClass("clicked")}else{$(document.body).toggleClass("mz-details-on")}}))},toggleDetailsDesktop:function toggleDetailsDesktop(){$(document.body).toggleClass("mz-details-desktop-on");$(".mz-product__floatingcta--wrapper").on("mouseenter",(function(){setTimeout((function(){$(document.body).removeClass("mz-details-desktop-on")}),100)}));$(".mz-product__floatingcta--wrapper").on("mouseleave",(function(){setTimeout((function(){$(document.body).addClass("mz-details-desktop-on")}),100)}))},regexList:function regexList(){var rl={dot:/\./g,voucher:/utm_voceindica=\w+/g,findEAD:/EAD/g};return rl},ufs:{ACRE:"AC",ALAGOAS:"AL","AMAPÁ":"AP",AMAZONAS:"AM",BAHIA:"BA","CEARÁ":"CE","DISTRITO FEDERAL":"DF","ESPÍRITO SANTO":"ES","GOIÁS":"GO","MARANHÃO":"MA","MATO GROSSO":"MT","MATO GROSSO DO SUL":"MS","MINAS GERAIS":"MG","PARÁ":"PA","PARAÍBA":"PB","PARANÁ":"PR",PERNAMBUCO:"PE","PIAUÍ":"PI","RIO DE JANEIRO":"RJ","RIO GRANDE DO NORTE":"RN","RIO GRANDE DO SUL":"RS","RONDÔNIA":"RO",RORAIMA:"RR","SANTA CATARINA":"SC","SÃO PAULO":"SP",SERGIPE:"SE",TOCANTINS:"TO"},states:{AC:"ACRE",AL:"ALAGOAS",AP:"AMAPÁ",AM:"AMAZONAS",BA:"BAHIA",CE:"CEARÁ",DF:"DISTRITO FEDERAL",ES:"ESPÍRITO SANTO",GO:"GOIÁS",MA:"MARANHÃO",MT:"MATO GROSSO",MS:"MATO GROSSO DO SUL",MG:"MINAS GERAIS",PA:"PARÁ",PB:"PARAÍBA",PR:"PARANÁ",PE:"PERNAMBUCO",PI:"PIAUÍ",RJ:"RIO DE JANEIRO",RN:"RIO GRANDE DO NORTE",RS:"RIO GRANDE DO SUL",RO:"RONDÔNIA",RR:"RORAIMA",SC:"SANTA CATARINA",SP:"SÃO PAULO",SE:"SERGIPE",TO:"TOCANTINS"}};Product.init();$(document).ready(Product.ready);$(window).on("MZ.scrollEvent",Product.onScroll)}catch(e){console.error("Erro na instancia [Product]: ",e)}})();(function(){try{var BringBrands={init:function init(){BringBrands.selectBrandCampaign();BringBrands.applyCopyCode()},selectBrandCampaign:function selectBrandCampaign(){var brandCoockie=$.cookie("marcaOrigem");var nameBrand=".mz-marca-".concat(brandCoockie);var blockRender=$(".mz-product__aside.campaign.brands");var blockLoaded=$("#mz-campaigns-loaded");var campaign;if(nameBrand.length){if(nameBrand==".mz-marca-undefined"){nameBrand=".mz-marca-portal"}if(blockLoaded.find(".mz-marca-todos").length){campaign=blockLoaded.find(".mz-marca-todos");blockRender.append(campaign)}else if(!blockRender.find(".mz-marca-todos").length){var block=blockLoaded.find(nameBrand);if(block.length==0){console.log("Promoção/Marca desativada.");return}campaign=blockLoaded.find(nameBrand);blockRender.append(campaign)}else{console.log("Produto: Nenhuma campanha/promoção cadastrada.");return}}},bringData:function bringData(){if(!$.cookie){return}var urlGeneral="/mz-campanhamarcas-produto";var brandCoockie=$.cookie("marcaOrigem");var nameBrand=".mz-marca-".concat(brandCoockie);if(nameBrand.length){if(nameBrand==".mz-marca-undefined"){nameBrand=".mz-marca-portal"}try{$.ajax({type:"GET",method:"GET",url:urlGeneral,dataType:"html"}).done((function(data){var $data=$(data);if($data.find(".mz-marca-todos").length){var newBrandDefault=$data.find(".mz-marca-todos");var wrapperProduct=$(".mz-product__aside.campaign.brands");wrapperProduct.html(newBrandDefault);wrapperProduct.removeAttr("style")}else if(!$data.find(".mz-marca-todos").length){var block=$data.find(nameBrand);if(block.length==0){console.log("Promoção/Marca desativada.");return}else if($(document.body).is(".produto")){var _newBrandDefault=$data.find(nameBrand);var _wrapperProduct=$(".mz-product__aside.campaign.brands");_wrapperProduct.html(_newBrandDefault);_wrapperProduct.removeAttr("style")}}else{console.log("Produto: Nenhuma campanha/promoção cadastrada.");return}}))}catch(e){console.log("Erro na request de Campanha por Marcas: ",e)}}},applyCopyCode:function applyCopyCode(){$(document).on("click",".mz-product__aside.campaign .right a, .mz-promotionbrands-mobile .copy-voucher, .mz-promotionbrands .copy-voucher",(function(e){e.preventDefault();if(!$(document.body).is(".produto")){var codeWrapper=$(".mz-promotionbrands .voucher-coupon");BringBrands.copyTextToClipboard(codeWrapper.text());$(this).addClass("copied")}else{var thisCode=$(this).prev().text();BringBrands.copyTextToClipboard($(this),thisCode);$(this).next().addClass("copied")}}));if($(window).width()<767){$(".mz-countdown__wrapper--info").find("br").remove()}},copyTextToClipboard:function copyTextToClipboard(thisButton,text){if(!navigator.clipboard){BringBrands.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then((function(){thisButton.hide();thisButton.next().show("fast");console.log("Async: Copying to clipboard was successful!")}),(function(err){console.error("Async: Could not copy text: ",err)}))},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+msg)}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)}};BringBrands.init()}catch(e){console.log(e)}})();(function(){try{var CountdownProductBF={init:function init(){CountdownProductBF.applyCountdown()},applyCountdown:function applyCountdown(){$(".mz-bfpcountdown.main").hide();$(window).on("mzModalityLoaded",(function(evt,data){if(!data.match(/EAD/g)){console.log("Presencial. Cronometro nao aplicado.");return}var dateInit=$("#data_init").text();var dateEnd=$("#data_end").text();if(!dateInit.length||!dateEnd.length){return}CountdownProductBF.compareteData(dateInit,dateEnd);if(!CountdownProductBF.compareteData(dateInit,dateEnd)){return}dateEnd=CountdownProductBF.revertEndDate(dateEnd);var rl=CountdownProductBF.regexList();if(dateInit==""){console.log("[CountdownProductBF] Opção Direta ------------------");$(".mz-bfpcountdown.main").countdown(dateEnd,(function(event){$("#mz-bfp-date-rendered").text(event.strftime("H{%-I} h MI{%M} min S{%S} sec"));var day=$("#mz-bfp-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bfp-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bfp-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bfp-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-bfpcountdown.days-number").text(day);$(".mz-bfpcountdown.hours-number").text(hours);$(".mz-bfpcountdown.minu-number").text(minutes);$(".mz-bfpcountdown.seg-number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-bfpcountdown.days-number").text()==0){$(".mz-bfpcountdown.days-number").parent().hide()}if($(".mz-bfpcountdown.hours-number").text()==0){$(".mz-bfpcountdown.hours-number").parent().hide()}if($(".mz-bfpcountdown.minu-number").text()==0){$(".mz-bfpcountdown.minu-number").parent().hide()}}));$(this).on("finish.countdown",(function(){$(".mz-bfpcountdown.main").hide()}))}))}else if(dateInit.length==19&&dateEnd.length==19){console.log("[CountdownProductBF] Opção Agendada ------------------");var currentDate;var formatDtInit=dateInit;formatDtInit=formatDtInit.split(rl.regexTrace);formatDtInit=formatDtInit[1]+"/"+formatDtInit[0]+"/"+formatDtInit[2];var verifyCurrentDate=setInterval((function(){var captureDate=new Date;currentDate=$.format.date(captureDate,"dd/MM/yyyy HH:mm:ss");var rcCurrentDate=currentDate;currentDate=currentDate.split(rl.regexTrace);currentDate=currentDate[1]+"/"+currentDate[0]+"/"+currentDate[2];var dateCurrent=new Date(currentDate);var dateInitial=new Date(formatDtInit);if(dateCurrent<dateInitial){}else{clearInterval(verifyCurrentDate);$(".mz-bfpcountdown.main").show("fast");$(".mz-bfpcountdown.main").countdown(dateEnd,(function(event){$("#mz-bfp-date-rendered").text(event.strftime("D{%-d} H{%-H} h MI{%M} min S{%S} sec"));var day=$("#mz-bfp-date-rendered").text().match(rl.regexTime.day)[0];day=day.match(rl.regexDigit)[0];var hours=$("#mz-bfp-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-bfp-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-bfp-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-bfpcountdown.days-number").text(day);$(".mz-bfpcountdown.hours-number").text(hours);$(".mz-bfpcountdown.minu-number").text(minutes);$(".mz-bfpcountdown.seg-number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-bfpcountdown.days-number").text()==0){$(".mz-bfpcountdown.days-number").parent().hide()}if($(".mz-bfpcountdown.days-number").text()==0&&$(".mz-bfpcountdown.hours-number").text()==0){$(".mz-bfpcountdown.hours-number").parent().hide()}if($(".mz-bfpcountdown.days-number").text()==0&&$(".mz-bfpcountdown.hours-number").text()==0&&$(".mz-bfpcountdown.minu-number").text()==0){$(".mz-bfpcountdown.minu-number").parent().hide()}if($(".mz-bfpcountdown.days-number").text()==1){$(".mz-bfpcountdown.days-text").text("Dia")}if($(".mz-bfpcountdown.hours-number").text()==1){$(".mz-bfpcountdown.hours-text").text("Hora")}if($(".mz-bfpcountdown.minu-number").text()=="01"){$(".mz-bfpcountdown.minu-text").text("Minuto")}if($(".mz-bfpcountdown.minu-number").text()!="01"){$(".mz-bfpcountdown.minu-text").text("Minutos")}if($(".mz-bfpcountdown.days-number").text()==0&&$(".mz-bfpcountdown.hours-number").text()==0&&$(".mz-bfpcountdown.minu-number").text()=="00"){$(".mz-bfpcountdown.seg-number").addClass("finishing")}}));$(this).on("finish.countdown",(function(){$(".mz-bfpcountdown.main").hide()}))}))}}),1e3)}else{console.error("[CountdownProductBF] Alguma Data na formato errado! Verifique o tamanho.")}}))},revertEndDate:function revertEndDate(dateEnd){var rl={regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g};var dateToReverse=dateEnd.match(rl.regexDateEnd)[0];dateToReverse=dateToReverse.split(rl.regexTrace);var dateHours=dateEnd.split(" ")[1];var day=dateToReverse[0];var mont=dateToReverse[1];var year=dateToReverse[2];var dateUnify=year+"/"+mont+"/"+day+" "+dateHours;return dateUnify},compareteData:function compareteData(dateOne,dateTwo){var rl=CountdownProductBF.regexList();dateOne=dateOne.split(rl.regexTrace);dateOne=dateOne[1]+"/"+dateOne[0]+"/"+dateOne[2];dateTwo=dateTwo.split(rl.regexTrace);dateTwo=dateTwo[1]+"/"+dateTwo[0]+"/"+dateTwo[2];var formatedDataOne=new Date(dateOne);var formatedDataTwo=new Date(dateTwo);if(formatedDataOne>formatedDataTwo){console.error("[CountdownProductBF] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(formatedDataOne.length<19&&formatedDataTwo.length<19){console.error("[CountdownProductBF] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(formatedDataOne=="Invalid Date"&&formatedDataTwo=="Invalid Date"){console.error("[CountdownProductBF] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return true}},regexList:function regexList(){var rl={regexDigit:/\d+/g,regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g,regexTime:{mont:/MT{[0-9]{1,2}}/g,week:/W{[0-9]{1,2}}/g,day:/D{[0-9]{1,2}}/g,hours:/H{[0-9]{1,3}/g,minutes:/MI{[0-9]{1,2}/g,seconds:/S{[0-9]{2}/}};return rl}};$(document).ready(CountdownProductBF.init)}catch(e){console.log("Erro na instancia [CountdownProductBF]: ",e)}})();var DateFormat={};!function(e){var I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],a={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;DateFormat.format=function(){function o(e){return a[e]||e}function i(e){var a,r,t,n,s,o=e,i="";return-1!==o.indexOf(".")&&(o=(n=o.split("."))[0],i=n[n.length-1]),3<=(s=o.split(":")).length?(a=s[0],r=s[1],t=s[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),hour:a,minute:r,second:t,millis:i}):{time:"",hour:"",minute:"",second:"",millis:""}}function D(e,a){for(var r=a-String(e).length,t=0;t<r;t++){e="0"+e}return e}return{parseDate:function parseDate(e){var a,r,t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=i(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(u))a=e.split(/[T\+-]/),t.year=a[0],t.month=a[1],t.dayOfMonth=a[2],t.time=i(a[3].split(".")[0]);else switch(6===(a=e.split(" ")).length&&isNaN(a[5])&&(a[a.length]="()"),a.length){case 6:t.year=a[5],t.month=o(a[1]),t.dayOfMonth=a[2],t.time=i(a[3]);break;case 2:r=a[0].split("-"),t.year=r[0],t.month=r[1],t.dayOfMonth=r[2],t.time=i(a[1]);break;case 7:case 9:case 10:t.year=a[3];var n=parseInt(a[1]),s=parseInt(a[2]);n&&!s?(t.month=o(a[2]),t.dayOfMonth=a[1]):(t.month=o(a[1]),t.dayOfMonth=a[2]),t.time=i(a[4]);break;case 1:r=a[0].split(""),t.year=r[0]+r[1]+r[2]+r[3],t.month=r[5]+r[6],t.dayOfMonth=r[8]+r[9],t.time=i(r[13]+r[14]+r[15]+r[16]+r[17]+r[18]+r[19]+r[20]);break;default:return null}return t.time?t.date=new Date(t.year,t.month-1,t.dayOfMonth,t.time.hour,t.time.minute,t.time.second,t.time.millis):t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function date(a,e){try{var r=this.parseDate(a);if(null===r)return a;for(var t,n=r.year,s=r.month,o=r.dayOfMonth,i=r.dayOfWeek,u=r.time,c="",h="",l="",m=!1,y=0;y<e.length;y++){var d=e.charAt(y),f=e.charAt(y+1);if(m)"'"==d?(h+=""===c?"'":c,c="",m=!1):c+=d;else switch(l="",c+=d){case"ddd":h+=(S=i,I[parseInt(S,10)]||S),c="";break;case"dd":if("d"===f)break;h+=D(o,2),c="";break;case"d":if("d"===f)break;h+=parseInt(o,10),c="";break;case"D":h+=o=1==o||21==o||31==o?parseInt(o,10)+"st":2==o||22==o?parseInt(o,10)+"nd":3==o||23==o?parseInt(o,10)+"rd":parseInt(o,10)+"th",c="";break;case"MMMM":h+=(M=s,void 0,g=parseInt(M,10)-1,w[g]||M),c="";break;case"MMM":if("M"===f)break;h+=(k=s,void 0,p=parseInt(k,10)-1,v[p]||k),c="";break;case"MM":if("M"===f)break;h+=D(s,2),c="";break;case"M":if("M"===f)break;h+=parseInt(s,10),c="";break;case"y":case"yyy":if("y"===f)break;h+=c,c="";break;case"yy":if("y"===f)break;h+=String(n).slice(-2),c="";break;case"yyyy":h+=n,c="";break;case"HH":h+=D(u.hour,2),c="";break;case"H":if("H"===f)break;h+=parseInt(u.hour,10),c="";break;case"hh":h+=D(t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,2),c="";break;case"h":if("h"===f)break;t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,h+=parseInt(t,10),c="";break;case"mm":h+=D(u.minute,2),c="";break;case"m":if("m"===f)break;h+=parseInt(u.minute,10),c="";break;case"ss":h+=D(u.second.substring(0,2),2),c="";break;case"s":if("s"===f)break;h+=parseInt(u.second,10),c="";break;case"S":case"SS":if("S"===f)break;h+=c,c="";break;case"SSS":h+=D(u.millis.substring(0,3),3),c="";break;case"a":h+=12<=u.hour?"PM":"AM",c="";break;case"p":h+=12<=u.hour?"p.m.":"a.m.",c="";break;case"E":h+=(b=i,O[parseInt(b,10)]||b),c="";break;case"'":c="",m=!0;break;default:h+=d,c=""}}return h+=l}catch(e){return console&&console.log&&console.log(e),a}var b,k,p,M,g,S},prettyDate:function prettyDate(e){var a,r,t,n,s;if("string"!=typeof e&&"number"!=typeof e||(a=new Date(e)),"object"==_typeof(e)&&(a=new Date(e.toString())),r=((new Date).getTime()-a.getTime())/1e3,t=Math.abs(r),n=Math.floor(t/86400),!isNaN(n))return s=r<0?"from now":"ago",t<60?0<=r?"just now":"in a moment":t<120?"1 minute "+s:t<3600?Math.floor(t/60)+" minutes "+s:t<7200?"1 hour "+s:t<86400?Math.floor(t/3600)+" hours "+s:1===n?0<=r?"Yesterday":"Tomorrow":n<7?n+" days "+s:7===n?"1 week "+s:n<31?Math.ceil(n/7)+" weeks "+s:"more than 5 weeks "+s},toBrowserTimeZone:function toBrowserTimeZone(e,a){return this.date(new Date(e),a||"MM/dd/yyyy HH:mm:ss")}}}()}(),jQuery.format=DateFormat.format;(function(){try{var dailyoffer={init:function init(){dailyoffer.applydailyoffer();dailyoffer.applyCopyCode();dailyoffer.applyCountdown()},applydailyoffer:function applydailyoffer(){var wrapper=$(".mz-product__banner.lightningoffer .left");var list=$(".mz-daily-load li");var found=false;list.each((function(){var $t=$(this);console.log(this);if($t.attr("data-id")==dailyoffer.data.productId){console.log("found");var color=$t.find(".mz-offer-color").text();var text=$t.find(".mz-offer-flag-text").text();var percentage=$t.find(".mz-offer-flag-percentage").text();console.log(text+" "+percentage);if(text.length&&percentage.length){console.log(!text.length+" "+!percentage.length);$(".price.block-flag").html('<span class="block-flag line mz-on loaded"></span>');$(".price.block-flag").find(".block-flag.line").append('<span class="mz-bflag-text">'.concat(text,"</span>"));$(".price.block-flag").find(".block-flag.line").append('<span class="mz-bflag-price">'.concat(percentage,"</span>"));$(".price.block-flag").show();console.log("isit")}if(color.length){$(".mz-product__banner.lightningoffer").css("background",color);$(".block-flag.line .mz-bflag-text").css("background",color)}$t.children().appendTo(wrapper);found=true}return}));if(found){console.log("founderer");$(".mz-product__banner.lightningoffer").addClass("thunder-offer")}},applyCopyCode:function applyCopyCode(){$(document).on("click",".mz-product__banner.lightningoffer button",(function(e){e.preventDefault();var codeWrapper=$(".mz-product__banner.lightningoffer .left #mz-code-offer");dailyoffer.copyTextToClipboard(codeWrapper.text());$(".copy-success").addClass("copied")}))},applyCountdown:function applyCountdown(){var wrapper=$(".mz-dailyoffer-countdown");if(!wrapper.length||!$.fn.countdown){return}var currentProductWrapper=wrapper.find('[data-id="'.concat(dailyoffer.data.productId,'"]'));if(!currentProductWrapper.length){return}var startDate=currentProductWrapper.find(".data_init").text();var finalDate=currentProductWrapper.find(".data_end").text();if(!startDate.length||!finalDate.length){return}var formattedDates=dailyoffer.formatDates(startDate,finalDate);if(!formattedDates){return}var countdownWrapper=$(".mz-product__countdown.main");var verifyCurrentDate=setInterval((function(){var currentDate=new Date;var dateOne=formattedDates.dateOne,dateTwo=formattedDates.dateTwo;if(currentDate>dateOne){clearInterval(verifyCurrentDate);countdownWrapper.countdown(dateTwo,dailyoffer.countdownUpdateEvent).on("finish.countdown",(function(){countdownWrapper.hide()}))}}),1e3)},countdownUpdateEvent:function countdownUpdateEvent(event){var daysNumber=$(".mz-product__countdown.days-number");var hoursNumber=$(".mz-product__countdown.hours-number");var minutesNumber=$(".mz-product__countdown.minu-number");var secondsNumber=$(".mz-product__countdown.seg-number");var daysText=$(".mz-product__countdown.days-text");var hoursText=$(".mz-product__countdown.hours-text");var minutesText=$(".mz-product__countdown.minu-text");var secondsText=$(".mz-product__countdown.seg-text");var _event$offset=event.offset,days=_event$offset.days,hours=_event$offset.hours,minutes=_event$offset.minutes,seconds=_event$offset.seconds;daysNumber.html(days);hoursNumber.html(hours);minutesNumber.html(minutes);secondsNumber.html(seconds);if(days==1){daysText.text("Dia")}else{daysText.text("Dias")}if(hours==1){hoursText.text("Hora")}else{hoursText.text("Horas")}if(minutes==1){minutesText.text("Minuto")}else{minutesText.text("Minutos")}if(seconds==1){secondsText.text("Segundo")}else{secondsText.text("Segundos")}if(days==0){daysNumber.parent().hide()}if(days==0&&hours==0){hoursNumber.parent().hide()}if(days==0&&hours==0&&minutes==0){minutesNumber.parent().hide()}},formatDates:function formatDates(dateOneText,dateTwoText){var dateOneSplit=dateOneText.split("/");var dateOneString=dateOneSplit[1]+"/"+dateOneSplit[0]+"/"+dateOneSplit[2];var dateTwoSplit=dateTwoText.split("/");var dateTwoString=dateTwoSplit[1]+"/"+dateTwoSplit[0]+"/"+dateTwoSplit[2];var dateOne=new Date(dateOneString);var dateTwo=new Date(dateTwoString);if(dateOne>dateTwo){console.error("[dailyoffer] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(dateOne.length<19&&dateTwo.length<19){console.error("[dailyoffer] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(dateOne=="Invalid Date"&&dateTwo=="Invalid Date"){console.error("[dailyoffer] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return{dateOne:dateOne,dateTwo:dateTwo}}},copyTextToClipboard:function copyTextToClipboard(text){if(!navigator.clipboard){dailyoffer.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then((function(){console.log("[dailyoffer] Async: Copying to clipboard was successful!")}),(function(err){console.error("[dailyoffer] Async: Could not copy text: ",err)}))},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+msg)}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)},data:{productId:skuJson.productId,idList:null,idText:null}};$(document).ready(dailyoffer.init)}catch(e){console.log("Erro na instancia [dailyoffer]: ",e)}})();(function(){try{var LightningOffer={init:function init(){LightningOffer.applyLightningOffer();LightningOffer.applyCopyCode();LightningOffer.applyCountdown()},applyLightningOffer:function applyLightningOffer(){var wrapper=$(".mz-product__banner.lightningoffer .left");var list=$(".mz-lightningoffer-load li");var found=false;list.each((function(){var $t=$(this);if($t.attr("data-id")==LightningOffer.data.productId){var color=$t.find(".mz-offer-color").text();var text=$t.find(".mz-offer-flag-text").text();var percentage=$t.find(".mz-offer-flag-percentage").text();if(text.length&&percentage.length){$(".price.block-flag").html('<span class="lightning-block-flag"></span>');$(".price.block-flag").find(".lightning-block-flag").append('<span class="mz-flag-text">'.concat(text,"</span>"));$(".price.block-flag").find(".lightning-block-flag").append('<span class="mz-flag-price">'.concat(percentage,"</span>"));$(".price.block-flag").show()}if(color.length){$(".mz-product__banner.lightningoffer").css("background",color);$(".lightning-block-flag .mz-flag-text").css("background",color)}$t.children().appendTo(wrapper);found=true}}));if(found){$(".mz-product__aside.campaign, .block-flag.line").remove();$(".mz-product__banner.lightningoffer").addClass("thunder-offer")}},applyCopyCode:function applyCopyCode(){$(document).on("click",".mz-product__banner.lightningoffer button",(function(e){e.preventDefault();var codeWrapper=$(".mz-product__banner.lightningoffer .left #mz-code-offer");LightningOffer.copyTextToClipboard(codeWrapper.text());$(".copy-success").addClass("copied")}))},applyCountdown:function applyCountdown(){var wrapper=$(".mz-lightningoffer-countdown");if(!wrapper.length||!$.fn.countdown){return}var currentProductWrapper=wrapper.find('[data-id="'.concat(LightningOffer.data.productId,'"]'));if(!currentProductWrapper.length){return}var startDate=currentProductWrapper.find(".data_init").text();var finalDate=currentProductWrapper.find(".data_end").text();if(!startDate.length||!finalDate.length){return}var formattedDates=LightningOffer.formatDates(startDate,finalDate);if(!formattedDates){return}var countdownWrapper=$(".mz-product__countdown.main");var verifyCurrentDate=setInterval((function(){var currentDate=new Date;var dateOne=formattedDates.dateOne,dateTwo=formattedDates.dateTwo;if(currentDate>dateOne){clearInterval(verifyCurrentDate);countdownWrapper.countdown(dateTwo,LightningOffer.countdownUpdateEvent).on("finish.countdown",(function(){countdownWrapper.hide()}))}}),1e3)},countdownUpdateEvent:function countdownUpdateEvent(event){var daysNumber=$(".mz-product__countdown.days-number");var hoursNumber=$(".mz-product__countdown.hours-number");var minutesNumber=$(".mz-product__countdown.minu-number");var secondsNumber=$(".mz-product__countdown.seg-number");var daysText=$(".mz-product__countdown.days-text");var hoursText=$(".mz-product__countdown.hours-text");var minutesText=$(".mz-product__countdown.minu-text");var secondsText=$(".mz-product__countdown.seg-text");var _event$offset2=event.offset,days=_event$offset2.days,hours=_event$offset2.hours,minutes=_event$offset2.minutes,seconds=_event$offset2.seconds;daysNumber.html(days);hoursNumber.html(hours);minutesNumber.html(minutes);secondsNumber.html(seconds);if(days==1){daysText.text("Dia")}else{daysText.text("Dias")}if(hours==1){hoursText.text("Hora")}else{hoursText.text("Horas")}if(minutes==1){minutesText.text("Minuto")}else{minutesText.text("Minutos")}if(seconds==1){secondsText.text("Segundo")}else{secondsText.text("Segundos")}if(days==0){daysNumber.parent().hide()}if(days==0&&hours==0){hoursNumber.parent().hide()}if(days==0&&hours==0&&minutes==0){minutesNumber.parent().hide()}},formatDates:function formatDates(dateOneText,dateTwoText){var dateOneSplit=dateOneText.split("/");var dateOneString=dateOneSplit[1]+"/"+dateOneSplit[0]+"/"+dateOneSplit[2];var dateTwoSplit=dateTwoText.split("/");var dateTwoString=dateTwoSplit[1]+"/"+dateTwoSplit[0]+"/"+dateTwoSplit[2];var dateOne=new Date(dateOneString);var dateTwo=new Date(dateTwoString);if(dateOne>dateTwo){console.error("[LightningOffer] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(dateOne.length<19&&dateTwo.length<19){console.error("[LightningOffer] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(dateOne=="Invalid Date"&&dateTwo=="Invalid Date"){console.error("[LightningOffer] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return{dateOne:dateOne,dateTwo:dateTwo}}},copyTextToClipboard:function copyTextToClipboard(text){if(!navigator.clipboard){LightningOffer.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then((function(){console.log("[LightningOffer] Async: Copying to clipboard was successful!")}),(function(err){console.error("[LightningOffer] Async: Could not copy text: ",err)}))},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+msg)}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)},data:{productId:skuJson.productId,idList:null,idText:null}};$(document).ready(LightningOffer.init)}catch(e){console.log("Erro na instancia [LightningOffer]: ",e)}})();(function(){try{var Wishlist={init:function init(){Wishlist.onReady();Wishlist.setLoading(true);Wishlist.getUser((function(profile){Wishlist.data.profile=profile;if(profile.IsUserDefined){Wishlist.getProductsFromMasterData((function(products){Wishlist.setProducts(products);Wishlist.triggerIsReady();Wishlist.posLoginVerification();Wishlist.addWishlistedProducts()}))}else{Wishlist.setLoading(false);Wishlist.triggerIsReady()}}));Wishlist.addToWishlist()},addToWishlist:function addToWishlist(){$(document).on("click",".mz-storefront__wishlist, #mz-whishlist-button",(function(){var $t=$(this);var productId=$t.closest(".mz-storefront").find(".mz-storefront__productid").val();if($(document.body).is(".produto")){console.log("Produto!");productId=skuJson.productId}$t.toggleClass("mz-on");$t.addClass("mz-animate");setTimeout((function(){$t.removeClass("mz-animate")}),1e3);if(!productId){return}$.ajax({url:"/api/catalog_system/pub/products/search?fq=productId:".concat(productId),type:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},success:function success(data){if(!data.length){return}var productReference=data[0].productReference;Wishlist.toggleProducts(productReference,productId)}})}))},posLoginVerification:function posLoginVerification(){if(~window.location.pathname.indexOf("/account")){var posLoginProductReference=sessionStorage.getItem("posLoginProductReference");sessionStorage.removeItem("productReferenceToFav");if(posLoginProductReference&&!Wishlist.isFavorited(posLoginProductReference)){Wishlist.toggleProducts(posLoginProductReference)}}},setProducts:function setProducts(products){Wishlist.data.products=products;Wishlist.triggerUpdateProducts()},getProducts:function getProducts(){return Wishlist.data.products},triggerUpdateProducts:function triggerUpdateProducts(){setTimeout((function(){$(window).trigger("mz.favorites-updated",[Wishlist.getProducts()])}),200);Wishlist.setLoading(false)},triggerIsReady:function triggerIsReady(){$(window).trigger("mz.favorites-is-ready")},onReady:function onReady(){return new Promise((function(resolve,reject){if(Wishlist.data.isReady){resolve()}$(window).on("mz.favorites-is-ready",(function(){Wishlist.data.isReady=true;resolve()}));setTimeout((function(){reject()}),2e4)}))},setLoading:function setLoading(loadingStatus){Wishlist.data.isLoading=loadingStatus;var eventName=loadingStatus?"mz.favorites-load-start":"mz.favorites-load-end";$(window).trigger(eventName)},toggleProducts:function toggleProducts(productReference,productId){if(Wishlist.data.isLoading){return}Wishlist.setLoading(true);if(Wishlist.isLogged()){if(Wishlist.isFavorited(productReference)){Wishlist.removeProduct(productReference)}else{Wishlist.addProduct(productReference,productId)}}else{swal({title:"Você precisa logar para adicionar um curso aos favoritos.",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png",className:"swal-wishlist",buttons:["Cancelar","Logar"]}).then((function(goToWishlist){if(goToWishlist){sessionStorage.setItem("posLoginProductReference",productReference);if(~window.location.href.lastIndexOf("busca.")||~window.location.href.lastIndexOf(".neemu.com")){window.location.href="https://www.portalpos.com.br/login?ReturnUrl=/_secure/account/favorites"}else{window.location.href="/login?ReturnUrl=/_secure/account/favorites"}}}));Wishlist.setLoading(false)}},getProductsFromMasterData:function getProductsFromMasterData(fn){$.ajax({url:"/api/dataentities/FV/documents/".concat(Wishlist.data.profile.UserId,"?_fields=id,products&an=").concat(window.storeConfig.accountName),type:"GET",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},success:function success(data){if(data&&data.products){fn(JSON.parse(data.products))}else{fn([])}}})},getUser:function getUser(fn){$.ajax({url:"/no-cache/profileSystem/getProfile",type:"GET",success:fn})},isLogged:function isLogged(){var profile=Wishlist.data.profile;if(profile){return profile.IsUserDefined}return false},isFavorited:function isFavorited(productReference){return Wishlist.getProducts().filter((function(product){if(product.productReference==productReference){return product}})).length>0},removeProduct:function removeProduct(productReference){var newProducts=Wishlist.getProducts().filter((function(product){return product.productReference!=productReference}));Wishlist.updateList(newProducts)},addProduct:function addProduct(productReference,productId){var newProducts=Wishlist.getProducts();newProducts.push({sc:jssalesChannel,productReference:productReference,productId:productId||""});Wishlist.updateList(newProducts)},updateList:function updateList(newProducts){$.ajax({url:"/api/dataentities/FV/documents?an=".concat(window.storeConfig.accountName),type:"PATCH",data:JSON.stringify({id:Wishlist.data.profile.UserId,products:JSON.stringify(newProducts)}),headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},success:function success(data){Wishlist.setProducts(newProducts)},error:function error(_error){swal({type:"error",text:"Ocorreu um erro ao atualizar a lista"})}})},addWishlistedProducts:function addWishlistedProducts(){var products=Wishlist.getProducts();if(!products){return}for(var i=0;i<products.length;i++){var productId=products[i].productId;if(!productId){continue}var wrapper=$(".mz-storefront__wishlist[data-id=".concat(productId,"]"));if(wrapper&&wrapper.length){wrapper.addClass("mz-on")}}},data:{profile:null,products:[],isLoading:true,isReady:false}};$(document).ready(Wishlist.init);$(window).on("mz.favorites-updated",(function(evt,products){console.warn(products)}));$(window).on("QuatroDigital.sr_shelfCallback",Wishlist.addWishlistedProducts);$(window).on("QuatroDigital.is_Callback",Wishlist.addWishlistedProducts);$(window).on("mz.favorites-load-start",(function(evt,products){console.warn("mz.favorites-load-start")}));$(window).on("mz.favorites-load-end",(function(evt,products){console.warn("mz.favorites-load-end")}))}catch(e){console.log("Erro na instancia [Wishlist]: ",e)}})();(function(){try{var Flags={init:function init(){if(!$(document.body).is(".produto, .product")){Flags.showDiscountPercentage();$(window).on("MZ.shelfChange",Flags.showDiscountPercentage)}else{Flags.showDiscountPercentageProduct()}},global:{regexFlag:/collection\-flag\-(.+)/i},showDiscountPercentage:function showDiscountPercentage(){var wrapper=$(".mz-storefront");if($("body").hasClass("dailysale")||$("body").hasClass("flashsale")){return}wrapper.each((function(){var $this=$(this);if($this.is(".mz-discount-on")){return}var courseId=$this.find(".mz-storefront__productcoursecode ul li").text().trim().toLowerCase();$this.find(".mz-storefront__image .image-stamps .stamps-highlight .flag").each((function(){var text=$(this).text();if(!text.length){$this.addClass("mz-discount-on");return}var discountText=(text.match(Flags.global.regexFlag)||[""]).pop();if(!discountText.length){$this.addClass("mz-discount-on");return}var discountArray=discountText.split("-")||[];if(!discountArray.length){$this.addClass("mz-discount-on");return}var flagText=discountArray[0]||"";var percentageText=discountArray[1]||"";if(!flagText.length){$this.addClass("mz-discount-on");return}var flagWrapper=$('<div class="mz-storefront__customflagtop">Voucher '.concat(flagText,"</div>"));var percentageWrapper=$('<div class="mz-storefront__customflag">'.concat(percentageText,"%</div>"));var flagColor=discountArray[2]||"";var percentageColor=discountArray[3]||"";if(flagColor.length>0){flagWrapper.css("background-color","#".concat(flagColor))}if(percentageColor.length>0){percentageWrapper.css("background-color","#".concat(percentageColor))}if(percentageText.length<=0){percentageWrapper.css("display","none")}$this.find(".mz-storefront__image").append(flagWrapper);$this.find(".mz-storefront__image").append(percentageWrapper);var oldPriceString=$this.find(".mz-storefront__price--best .best-price").text()||"";var oldPriceNum=(oldPriceString.match(/(\d+\,\d+)/i)||[""]).pop().replace(",",".").trim();var oldPriceAfter=qd_number_format(oldPriceNum,2,",",".");var currentPercentageNum=percentageText/100;var newPriceNum=oldPriceNum*currentPercentageNum;var newPriceAfter=qd_number_format(oldPriceNum-newPriceNum,2,",",".");if(percentageText.length>1){$this.find(".installment-text").html("Parcelas a partir de: <span>R$ ".concat(oldPriceAfter,"</span>"));$this.find(".best-price").addClass("smart-price");$this.find(".best-price").html("<span>Por:</span> <span>R$ ".concat(newPriceAfter," *</span>"))}$this.addClass("mz-discount-on")}));if(courseId){var productCat=$this.find(".mz-storefront__productcategory").val();var specialPricing=$('.mz-special-pricing__price[data-course-id="'.concat(courseId,'"]'));if(specialPricing.length>0){if(productCat==="EAD - 6 meses"){var listPrice=specialPricing.find(".mz-special-pricing__listprice6meses").text().trim()||"";var bestPrice=specialPricing.find(".mz-special-pricing__bestprice6meses").text().trim()||"";var percentage=specialPricing.find(".mz-special-pricing__percentage6meses").text().trim()||"";var oldPrice=qd_number_format(listPrice,2,",",".");var newPrice=qd_number_format(bestPrice,2,",",".");var flagWrapper=$('<div class="mz-storefront__customflagtop">SUPER PROMOÇÃO</div>');var specialFalg=specialPricing.find(".mz-special-pricing__flag").text();if(specialFalg!==""){flagWrapper=$('<div class="mz-storefront__customflagtop">'.concat(specialFalg,"</div>"))}var percentageWrapper=$('<div class="mz-storefront__customflag">'.concat(percentage,"%</div>"));$this.find(".installment-text").html("Parcelas a partir de: <span>R$ ".concat(oldPrice,"</span>"));$this.find(".best-price").addClass("smart-price");$this.find(".best-price").html("<span>Por:</span> <span>R$ ".concat(newPrice," *</span>"));$this.find(".mz-storefront__image").append(flagWrapper);$this.find(".mz-storefront__image").append(percentageWrapper);$this.find(".mz-storefront__customflag").hide();$this.addClass("mz-discount-on")}else{var _listPrice=specialPricing.find(".mz-special-pricing__listprice10meses").text().trim()||"";var _bestPrice=specialPricing.find(".mz-special-pricing__bestprice10meses").text().trim()||"";var _percentage=specialPricing.find(".mz-special-pricing__percentage10meses").text()||"";var _oldPrice=qd_number_format(_listPrice,2,",",".");var _newPrice=qd_number_format(_bestPrice,2,",",".");var _flagWrapper=$('<div class="mz-storefront__customflagtop">SUPER PROMOÇÃO</div>');var _specialFalg=specialPricing.find(".mz-special-pricing__flag").text();if(_specialFalg!==""){_flagWrapper=$('<div class="mz-storefront__customflagtop">'.concat(_specialFalg,"</div>"))}var _percentageWrapper=$('<div class="mz-storefront__customflag">'.concat(_percentage,"%</div>"));$this.find(".installment-text").html("Parcelas a partir de: <span>R$ ".concat(_oldPrice,"</span>"));$this.find(".best-price").addClass("smart-price");$this.find(".best-price").html("<span>Por:</span> <span>R$ ".concat(_newPrice," *</span>"));$this.find(".mz-storefront__image").append(_flagWrapper);$this.find(".mz-storefront__image").append(_percentageWrapper);$this.find(".mz-storefront__customflag").hide();$this.addClass("mz-discount-on")}return}}}))},isBdp:function isBdp(){return $(".mz-product-highlight .flag.colecao-comece-sua-pos---aedu, .mz-product-highlight .flag.colecao-comece-sua-pos---dm").length>0},isCustomBDP:function isCustomBDP(){return $(".mz-product-highlight .flag.dm-colecao-nichada-superbolsa, .mz-product-highlight .flag.aedu-colecao-nichada-superbolsa, .mz-product-highlight .flag.lfg-colecao-nichada-superbolsa").length>0},showDiscountPercentageProduct:function showDiscountPercentageProduct(){var discountHighlight=$(".mz-product-highlight .flag");var deskCTA=$(".mz-product__floatingcta--wrapper.desktop");var wrapper=$(".price.block-flag .block-flag.line");if(Flags.isBdp()){var block='\n                        <span style="color: #FFFFFF;background-color: rgb(66, 78, 245);" class="mz-bflag-text">SUPER PROMOÇÃO</span>\n                    ';$(".price.block-flag .block-flag").empty();$(".price.block-flag .block-flag").append($(block));$(".price.block-flag").show("fast");wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on");$(".mz-product__aside.campaign.brands").hide();return}if(Flags.isCustomBDP()){var _block='\n                        <span style="color: #FFFFFF;background-color: rgb(66, 78, 245);" class="mz-bflag-text">SUPER PROMOÇÃO</span>\n                    ';$(".price.block-flag .block-flag").empty();$(".price.block-flag .block-flag").append($(_block));$(".price.block-flag").show("fast");wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on");$(".mz-product__aside.campaign.brands").hide();return}console.log(discountHighlight.length);if(!discountHighlight.length){console.log(discountHighlight.length);return}if(wrapper.is(".mz-on")){return}discountHighlight.each((function(){var $t=$(this);if(wrapper.is(".mz-on")){return}if(deskCTA.is("mz-flag-on")){return}var $text=$t.text().trim();if(!$text.length){wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on");return}var discountText=($text.match(Flags.global.regexFlag)||[""]).pop();if(!discountText.length){return}var discountArray=discountText.split("-")||[];if(!discountArray.length){wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on");return}var flagText=discountArray[0]||"";var percentageText=discountArray[1]||"";if(!flagText.length){wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on");return}var flagWrapper=$('<span class="mz-bflag-text">Voucher '.concat(flagText,"</span>"));var percentageWrapper=$('<span class="mz-bflag-price">'.concat(percentageText,"%</span>"));var flagColor=discountArray[2]||"";var percentageColor=discountArray[3]||"";if(flagColor.length>0){flagWrapper.css("background-color","#".concat(flagColor))}if(percentageColor.length>0){percentageWrapper.css("background-color","#".concat(percentageColor))}if(percentageText.length<=0){percentageWrapper.css("display","none")}if(!percentageText.length){percentageWrapper=$('<span class="mz-bflag-price" style="display:none!important;"></span>')}wrapper.empty();wrapper.append(flagWrapper);wrapper.append(percentageWrapper);$("#mz-campaign-voucher-code").html(flagText);$(".block.left .text").html('<span class="text">Use nosso voucher e ganhe bolsa de '.concat(percentageText,"%<br>nos cursos de Pós EAD.</span>"));wrapper.addClass("mz-on loaded");deskCTA.addClass("mz-flag-on")}))}};$(window).ready(Flags.init)}catch(e){console.log("Erro na instancia [Flags]: ",e)}})();!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}((function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&&!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&&(h&&h.exports!==b&&h.exports!==r[a]?r[a]=h.exports:m===b&&v||(r[a]=m))}else a&&(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(b,a,c,d):setTimeout((function(){n(b,a,c,d)}),4),o},o.config=function(a){return o(a)},a._defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",(function(){})),b.define("jquery",[],(function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b})),b.define("select2/utils",["jquery"],(function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}},k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,(function(a){return b[a]}))},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,(function(a){d=d.add(a)})),c=d}b.append(c)},c.__cache={};var e=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null==b&&(a.id?(b=a.id,a.setAttribute("data-select2-id",b)):(a.setAttribute("data-select2-id",++e),b=e.toString())),b},c.StoreData=function(a,b,d){var e=c.GetUniqueElementId(a);c.__cache[e]||(c.__cache[e]={}),c.__cache[e][b]=d},c.GetData=function(b,d){var e=c.GetUniqueElementId(b);return d?c.__cache[e]&&null!=c.__cache[e][d]?c.__cache[e][d]:a(b).data(d):c.__cache[e]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.__cache[b]&&delete c.__cache[b]},c})),b.define("select2/results",["jquery","./utils"],(function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current((function(d){var e=a.map(d,(function(a){return a.id.toString()}));c.$results.find(".select2-results__option[aria-selected]").each((function(){var c=a(this),d=b.GetData(this,"data"),f=""+d.id;null!=d.element&&d.element.selected||null==d.element&&a.inArray(f,e)>-1?c.attr("aria-selected","true"):c.attr("aria-selected","false")}))}))},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.className="select2-results__option";var e={role:"treeitem","aria-selected":"false"};c.disabled&&(delete e["aria-selected"],e["aria-disabled"]="true"),null==c.id&&delete e["aria-selected"],null!=c._resultId&&(d.id=c._resultId),c.title&&(d.title=c.title),c.children&&(e.role="group",e["aria-label"]=c.text,delete e["aria-selected"]);for(var f in e){var g=e[f];d.setAttribute(f,g)}if(c.children){var h=a(d),i=document.createElement("strong");i.className="select2-results__group";a(i);this.template(c,i);for(var j=[],k=0;k<c.children.length;k++){var l=c.children[k],m=this.option(l);j.push(m)}var n=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});n.append(j),h.append(i),h.append(n)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var e=this,f=c.id+"-results";this.$results.attr("id",f),c.on("results:all",(function(a){e.clear(),e.append(a.data),c.isOpen()&&(e.setClasses(),e.highlightFirstItem())})),c.on("results:append",(function(a){e.append(a.data),c.isOpen()&&e.setClasses()})),c.on("query",(function(a){e.hideMessages(),e.showLoading(a)})),c.on("select",(function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())})),c.on("unselect",(function(){c.isOpen()&&(e.setClasses(),e.highlightFirstItem())})),c.on("open",(function(){e.$results.attr("aria-expanded","true"),e.$results.attr("aria-hidden","false"),e.setClasses(),e.ensureHighlightVisible()})),c.on("close",(function(){e.$results.attr("aria-expanded","false"),e.$results.attr("aria-hidden","true"),e.$results.removeAttr("aria-activedescendant")})),c.on("results:toggle",(function(){var a=e.getHighlightedResults();0!==a.length&&a.trigger("mouseup")})),c.on("results:select",(function(){var a=e.getHighlightedResults();if(0!==a.length){var c=b.GetData(a[0],"data");"true"==a.attr("aria-selected")?e.trigger("close",{}):e.trigger("select",{data:c})}})),c.on("results:previous",(function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var d=c-1;0===a.length&&(d=0);var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top,h=f.offset().top,i=e.$results.scrollTop()+(h-g);0===d?e.$results.scrollTop(0):h-g<0&&e.$results.scrollTop(i)}})),c.on("results:next",(function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a),d=c+1;if(!(d>=b.length)){var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top+e.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=e.$results.scrollTop()+h-g;0===d?e.$results.scrollTop(0):h>g&&e.$results.scrollTop(i)}})),c.on("results:focus",(function(a){a.element.addClass("select2-results__option--highlighted")})),c.on("results:message",(function(a){e.displayMessage(a)})),a.fn.mousewheel&&this.$results.on("mousewheel",(function(a){var b=e.$results.scrollTop(),c=e.$results.get(0).scrollHeight-b+a.deltaY,d=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=e.$results.height();d?(e.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(e.$results.scrollTop(e.$results.get(0).scrollHeight-e.$results.height()),a.preventDefault(),a.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(c){var d=a(this),f=b.GetData(this,"data");if("true"===d.attr("aria-selected"))return void(e.options.get("multiple")?e.trigger("unselect",{originalEvent:c,data:f}):e.trigger("close",{}));e.trigger("select",{originalEvent:c,data:f})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(c){var d=b.GetData(this,"data");e.getHighlightedResults().removeClass("select2-results__option--highlighted"),e.trigger("results:focus",{data:d,element:a(this)})}))},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c})),b.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),b.define("select2/selection/base",["jquery","../utils","../keys"],(function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this._tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),c.attr("title",this.$element.attr("title")),c.attr("tabindex",this._tabindex),this.$selection=c,c},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",(function(a){d.trigger("focus",a)})),this.$selection.on("blur",(function(a){d._handleBlur(a)})),this.$selection.on("keydown",(function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()})),a.on("results:focus",(function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)})),a.on("selection:update",(function(a){d.update(a.data)})),a.on("open",(function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)})),a.on("close",(function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)})),a.on("enable",(function(){d.$selection.attr("tabindex",d._tabindex)})),a.on("disable",(function(){d.$selection.attr("tabindex","-1")}))},d.prototype._handleBlur=function(b){var c=this;window.setTimeout((function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)}),1)},d.prototype._attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,(function(c){var d=a(c.target),e=d.closest(".select2");a(".select2.select2-container--open").each((function(){a(this),this!=e[0]&&b.GetData(this,"element").select2("close")}))}))},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d})),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",(function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})})),this.$selection.on("focus",(function(a){})),this.$selection.on("blur",(function(a){})),a.on("focus",(function(b){a.isOpen()||c.$selection.focus()}))},e.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.attr("title",b.title||b.text)},e})),b.define("select2/selection/multiple",["jquery","./base","../utils"],(function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,e){var f=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(a){f.trigger("toggle",{originalEvent:a})})),this.$selection.on("click",".select2-selection__choice__remove",(function(b){if(!f.options.get("disabled")){var d=a(this),e=d.parent(),g=c.GetData(e[0],"data");f.trigger("unselect",{originalEvent:b,data:g})}}))},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.attr("title",e.title||e.text),c.StoreData(f[0],"data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d})),b.define("select2/selection/placeholder",["../utils"],(function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(d)},b})),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(a){d._handleClear(a)})),b.on("keypress",(function(a){d._handleKeyboardClear(a,b)}))},d.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var d=this.$selection.find(".select2-selection__clear");if(0!==d.length){b.stopPropagation();var e=c.GetData(d[0],"data"),f=this.$element.val();this.$element.val(this.placeholder.id);var g={data:e};if(this.trigger("clear",g),g.prevented)return void this.$element.val(f);for(var h=0;h<e.length;h++)if(g={data:e[h]},this.trigger("unselect",g),g.prevented)return void this.$element.val(f);this.$element.trigger("change"),this.trigger("toggle",{})}}},d.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},d.prototype.update=function(b,d){if(b.call(this,d),!(this.$selection.find(".select2-selection__placeholder").length>0||0===d.length)){var e=a('<span class="select2-selection__clear">&times;</span>');c.StoreData(e[0],"data",d),this.$selection.find(".select2-selection__rendered").prepend(e)}},d})),b.define("select2/selection/search",["jquery","../utils","../keys"],(function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,d,e){var f=this;a.call(this,d,e),d.on("open",(function(){f.$search.trigger("focus")})),d.on("close",(function(){f.$search.val(""),f.$search.removeAttr("aria-activedescendant"),f.$search.trigger("focus")})),d.on("enable",(function(){f.$search.prop("disabled",!1),f._transferTabIndex()})),d.on("disable",(function(){f.$search.prop("disabled",!0)})),d.on("focus",(function(a){f.$search.trigger("focus")})),d.on("results:focus",(function(a){f.$search.attr("aria-activedescendant",a.id)})),this.$selection.on("focusin",".select2-search--inline",(function(a){f.trigger("focus",a)})),this.$selection.on("focusout",".select2-search--inline",(function(a){f._handleBlur(a)})),this.$selection.on("keydown",".select2-search--inline",(function(a){if(a.stopPropagation(),f.trigger("keypress",a),f._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===f.$search.val()){var d=f.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var e=b.GetData(d[0],"data");f.searchRemoveChoice(e),a.preventDefault()}}}));var g=document.documentMode,h=g&&g<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(a){if(h)return void f.$selection.off("input.search input.searchcheck");f.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(a){if(h&&"input"===a.type)return void f.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&f.handleSearch(a)}))},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{a=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d})),b.define("select2/selection/eventRelay",["jquery"],(function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],g=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d),c.on("*",(function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}}))},b})),b.define("select2/translation",["jquery","require"],(function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c})),b.define("select2/diacritics",[],(function(){return{"â’¶":"A","ï¼¡":"A","Ã€":"A","Ã":"A","Ã‚":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ãƒ":"A","Ä€":"A","Ä‚":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã„":"A","Çž":"A","áº¢":"A","Ã…":"A","Çº":"A","Ç":"A","È€":"A","È‚":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸€":"A","Ä„":"A","Èº":"A","â±¯":"A","êœ²":"AA","Ã†":"AE","Ç¼":"AE","Ç¢":"AE","êœ´":"AO","êœ¶":"AU","êœ¸":"AV","êœº":"AV","êœ¼":"AY","â’·":"B","ï¼¢":"B","á¸‚":"B","á¸„":"B","á¸†":"B","Éƒ":"B","Æ‚":"B","Æ":"B","â’¸":"C","ï¼£":"C","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ã‡":"C","á¸ˆ":"C","Æ‡":"C","È»":"C","êœ¾":"C","â’¹":"D","ï¼¤":"D","á¸Š":"D","ÄŽ":"D","á¸Œ":"D","á¸":"D","á¸’":"D","á¸Ž":"D","Ä":"D","Æ‹":"D","ÆŠ":"D","Æ‰":"D","ê¹":"D","Ç±":"DZ","Ç„":"DZ","Ç²":"Dz","Ç…":"Dz","â’º":"E","ï¼¥":"E","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","á»€":"E","áº¾":"E","á»„":"E","á»‚":"E","áº¼":"E","Ä’":"E","á¸”":"E","á¸–":"E","Ä”":"E","Ä–":"E","Ã‹":"E","áºº":"E","Äš":"E","È„":"E","È†":"E","áº¸":"E","á»†":"E","È¨":"E","á¸œ":"E","Ä˜":"E","á¸˜":"E","á¸š":"E","Æ":"E","ÆŽ":"E","â’»":"F","ï¼¦":"F","á¸ž":"F","Æ‘":"F","ê»":"F","â’¼":"G","ï¼§":"G","Ç´":"G","Äœ":"G","á¸ ":"G","Äž":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ“":"G","êž ":"G","ê½":"G","ê¾":"G","â’½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","Èž":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","êž":"H","â’¾":"I","ï¼©":"I","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»ˆ":"I","Ç":"I","Èˆ":"I","ÈŠ":"I","á»Š":"I","Ä®":"I","á¸¬":"I","Æ—":"I","â’¿":"J","ï¼ª":"J","Ä´":"J","Éˆ":"J","â“€":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ˜":"K","â±©":"K","ê€":"K","ê‚":"K","ê„":"K","êž¢":"K","â“":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","êˆ":"L","ê†":"L","êž€":"L","Ç‡":"LJ","Çˆ":"Lj","â“‚":"M","ï¼­":"M","á¸¾":"M","á¹€":"M","á¹‚":"M","â±®":"M","Æœ":"M","â“ƒ":"N","ï¼®":"N","Ç¸":"N","Åƒ":"N","Ã‘":"N","á¹„":"N","Å‡":"N","á¹†":"N","Å…":"N","á¹Š":"N","á¹ˆ":"N","È ":"N","Æ":"N","êž":"N","êž¤":"N","ÇŠ":"NJ","Ç‹":"Nj","â“„":"O","ï¼¯":"O","Ã’":"O","Ã“":"O","Ã”":"O","á»’":"O","á»":"O","á»–":"O","á»”":"O","Ã•":"O","á¹Œ":"O","È¬":"O","á¹Ž":"O","ÅŒ":"O","á¹":"O","á¹’":"O","ÅŽ":"O","È®":"O","È°":"O","Ã–":"O","Èª":"O","á»Ž":"O","Å":"O","Ç‘":"O","ÈŒ":"O","ÈŽ":"O","Æ ":"O","á»œ":"O","á»š":"O","á» ":"O","á»ž":"O","á»¢":"O","á»Œ":"O","á»˜":"O","Çª":"O","Ç¬":"O","Ã˜":"O","Ç¾":"O","Æ†":"O","ÆŸ":"O","êŠ":"O","êŒ":"O","Æ¢":"OI","êŽ":"OO","È¢":"OU","â“…":"P","ï¼°":"P","á¹”":"P","á¹–":"P","Æ¤":"P","â±£":"P","ê":"P","ê’":"P","ê”":"P","â“†":"Q","ï¼±":"Q","ê–":"Q","ê˜":"Q","ÉŠ":"Q","â“‡":"R","ï¼²":"R","Å”":"R","á¹˜":"R","Å˜":"R","È":"R","È’":"R","á¹š":"R","á¹œ":"R","Å–":"R","á¹ž":"R","ÉŒ":"R","â±¤":"R","êš":"R","êž¦":"R","êž‚":"R","â“ˆ":"S","ï¼³":"S","áºž":"S","Åš":"S","á¹¤":"S","Åœ":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È˜":"S","Åž":"S","â±¾":"S","êž¨":"S","êž„":"S","â“‰":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","Èš":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","êž†":"T","êœ¨":"TZ","â“Š":"U","ï¼µ":"U","Ã™":"U","Ãš":"U","Ã›":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ãœ":"U","Ç›":"U","Ç—":"U","Ç•":"U","Ç™":"U","á»¦":"U","Å®":"U","Å°":"U","Ç“":"U","È”":"U","È–":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É„":"U","â“‹":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","êž":"V","É…":"V","ê ":"VY","â“Œ":"W","ï¼·":"W","áº€":"W","áº‚":"W","Å´":"W","áº†":"W","áº„":"W","áºˆ":"W","â±²":"W","â“":"X","ï¼¸":"X","áºŠ":"X","áºŒ":"X","â“Ž":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áºŽ":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","ÉŽ":"Y","á»¾":"Y","â“":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº’":"Z","áº”":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â“":"a","ï½":"a","áºš":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Äƒ":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","ÇŸ":"a","áº£":"a","Ã¥":"a","Ç»":"a","ÇŽ":"a","È":"a","Èƒ":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä…":"a","â±¥":"a","É":"a","êœ³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êœµ":"ao","êœ·":"au","êœ¹":"av","êœ»":"av","êœ½":"ay","â“‘":"b","ï½‚":"b","á¸ƒ":"b","á¸…":"b","á¸‡":"b","Æ€":"b","Æƒ":"b","É“":"b","â“’":"c","ï½ƒ":"c","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","Ã§":"c","á¸‰":"c","Æˆ":"c","È¼":"c","êœ¿":"c","â†„":"c","â““":"d","ï½„":"d","á¸‹":"d","Ä":"d","á¸":"d","á¸‘":"d","á¸“":"d","á¸":"d","Ä‘":"d","ÆŒ":"d","É–":"d","É—":"d","êº":"d","Ç³":"dz","Ç†":"dz","â“”":"e","ï½…":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»…":"e","á»ƒ":"e","áº½":"e","Ä“":"e","á¸•":"e","á¸—":"e","Ä•":"e","Ä—":"e","Ã«":"e","áº»":"e","Ä›":"e","È…":"e","È‡":"e","áº¹":"e","á»‡":"e","È©":"e","á¸":"e","Ä™":"e","á¸™":"e","á¸›":"e","É‡":"e","É›":"e","Ç":"e","â“•":"f","ï½†":"f","á¸Ÿ":"f","Æ’":"f","ê¼":"f","â“–":"g","ï½‡":"g","Çµ":"g","Ä":"g","á¸¡":"g","ÄŸ":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","êž¡":"g","áµ¹":"g","ê¿":"g","â“—":"h","ï½ˆ":"h","Ä¥":"h","á¸£":"h","á¸§":"h","ÈŸ":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº–":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ•":"hv","â“˜":"i","ï½‰":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»‰":"i","Ç":"i","È‰":"i","È‹":"i","á»‹":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â“™":"j","ï½Š":"j","Äµ":"j","Ç°":"j","É‰":"j","â“š":"k","ï½‹":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ™":"k","â±ª":"k","ê":"k","êƒ":"k","ê…":"k","êž£":"k","â“›":"l","ï½Œ":"l","Å€":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å‚":"l","Æš":"l","É«":"l","â±¡":"l","ê‰":"l","êž":"l","ê‡":"l","Ç‰":"lj","â“œ":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹ƒ":"m","É±":"m","É¯":"m","â“":"n","ï½Ž":"n","Ç¹":"n","Å„":"n","Ã±":"n","á¹…":"n","Åˆ":"n","á¹‡":"n","Å†":"n","á¹‹":"n","á¹‰":"n","Æž":"n","É²":"n","Å‰":"n","êž‘":"n","êž¥":"n","ÇŒ":"nj","â“ž":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»“":"o","á»‘":"o","á»—":"o","á»•":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹‘":"o","á¹“":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å‘":"o","Ç’":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»›":"o","á»¡":"o","á»Ÿ":"o","á»£":"o","á»":"o","á»™":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É”":"o","ê‹":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â“Ÿ":"p","ï½":"p","á¹•":"p","á¹—":"p","Æ¥":"p","áµ½":"p","ê‘":"p","ê“":"p","ê•":"p","â“ ":"q","ï½‘":"q","É‹":"q","ê—":"q","ê™":"q","â“¡":"r","ï½’":"r","Å•":"r","á¹™":"r","Å™":"r","È‘":"r","È“":"r","á¹›":"r","á¹":"r","Å—":"r","á¹Ÿ":"r","É":"r","É½":"r","ê›":"r","êž§":"r","êžƒ":"r","â“¢":"s","ï½“":"s","ÃŸ":"s","Å›":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È™":"s","ÅŸ":"s","È¿":"s","êž©":"s","êž…":"s","áº›":"s","â“£":"t","ï½”":"t","á¹«":"t","áº—":"t","Å¥":"t","á¹­":"t","È›":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Êˆ":"t","â±¦":"t","êž‡":"t","êœ©":"tz","â“¤":"u","ï½•":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Çœ":"u","Ç˜":"u","Ç–":"u","Çš":"u","á»§":"u","Å¯":"u","Å±":"u","Ç”":"u","È•":"u","È—":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê‰":"u","â“¥":"v","ï½–":"v","á¹½":"v","á¹¿":"v","Ê‹":"v","êŸ":"v","ÊŒ":"v","ê¡":"vy","â“¦":"w","ï½—":"w","áº":"w","áºƒ":"w","Åµ":"w","áº‡":"w","áº…":"w","áº˜":"w","áº‰":"w","â±³":"w","â“§":"x","ï½˜":"x","áº‹":"x","áº":"x","â“¨":"y","ï½™":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº™":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â“©":"z","ï½š":"z","Åº":"z","áº‘":"z","Å¼":"z","Å¾":"z","áº“":"z","áº•":"z","Æ¶":"z","È¥":"z","É€":"z","â±¬":"z","ê£":"z","Î†":"Î‘","Îˆ":"Î•","Î‰":"Î—","ÎŠ":"Î™","Îª":"Î™","ÎŒ":"ÎŸ","ÎŽ":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","ÏŠ":"Î¹","Î":"Î¹","ÏŒ":"Î¿","Ï":"Ï…","Ï‹":"Ï…","Î°":"Ï…","Ï‰":"Ï‰","Ï‚":"Ïƒ"}})),b.define("select2/data/base",["../utils"],(function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b})),b.define("select2/data/select",["./base","../utils","jquery"],(function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each((function(){var a=c(this),e=d.item(a);b.push(e)})),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current((function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")}));else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current((function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")}))}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",(function(a){c.select(a.data)})),a.on("unselect",(function(a){c.unselect(a.data)}))},d.prototype.destroy=function(){this.$element.find("*").each((function(){b.RemoveData(this)}))},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each((function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}})),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup"),d.label=a.text):(d=document.createElement("option"),void 0!==d.textContent?d.textContent=a.text:d.innerText=a.text),void 0!==a.id&&(d.value=a.id),a.disabled&&(d.disabled=!0),a.selected&&(d.selected=!0),a.title&&(d.title=a.title);var e=c(d),f=this._normalizeItem(a);return f.element=d,b.StoreData(d,"data",f),e},d.prototype.item=function(a){var d={};if(null!=(d=b.GetData(a[0],"data")))return d;if(a.is("option"))d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){d={text:a.prop("label"),children:[],title:a.prop("title")};for(var e=a.children("option"),f=[],g=0;g<e.length;g++){var h=c(e[g]),i=this.item(h);f.push(i)}d.children=f}return d=this._normalizeItem(d),d.element=a[0],b.StoreData(a[0],"data",d),d},d.prototype._normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d})),b.define("select2/data/array",["./select","../utils","jquery"],(function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter((function(b,c){return c.value==a.id.toString()}));0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map((function(){return e.item(c(this)).id})).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d})),b.define("select2/data/ajax",["./array","../utils","jquery"],(function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,(function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)}),(function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})}));e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d})),b.define("select2/data/tags",["jquery"],(function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this._removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){this._lastTag;this.$element.find("option[data-select2-tag]").each((function(){this.selected||a(this).remove()}))},b})),b.define("select2/data/tokenizer",["jquery"],(function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter((function(){return a(this).val()===c.id})).length){var d=g.option(c);d.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b})),b.define("select2/data/minimumInputLength",[],(function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a})),b.define("select2/data/maximumInputLength",[],(function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a})),b.define("select2/data/maximumSelectionLength",[],(function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current((function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)}))},a})),b.define("select2/dropdown",["jquery","./utils"],(function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c})),b.define("select2/dropdown/search",["jquery","../utils"],(function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",(function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()})),this.$search.on("input",(function(b){a(this).off("keyup")})),this.$search.on("keyup input",(function(a){e.handleSearch(a)})),c.on("open",(function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout((function(){e.$search.focus()}),0)})),c.on("close",(function(){e.$search.attr("tabindex",-1),e.$search.val(""),e.$search.blur()})),c.on("focus",(function(){c.isOpen()||e.$search.focus()})),c.on("results:all",(function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}}))},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c})),b.define("select2/dropdown/hidePlaceholder",[],(function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a})),b.define("select2/dropdown/infiniteScroll",["jquery"],(function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",(function(a){e.lastParams=a,e.loading=!0})),c.on("query:append",(function(a){e.lastParams=a,e.loading=!0})),this.$results.on("scroll",(function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){e.$results.offset().top+e.$results.outerHeight(!1)+50>=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&&e.loadMore()}}))},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b})),b.define("select2/dropdown/attachBody",["jquery","../utils"],(function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",(function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",(function(){d._positionDropdown(),d._resizeDropdown()})),b.on("results:append",(function(){d._positionDropdown(),d._resizeDropdown()})))})),b.on("close",(function(){d._hideDropdown(),d._detachPositioningHandler(b)})),this.$dropdownContainer.on("mousedown",(function(a){a.stopPropagation()}))},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each((function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})})),i.on(f,(function(c){var d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)})),a(window).on(f+" "+g+" "+h,(function(a){e._positionDropdown(),e._resizeDropdown()}))},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c})),b.define("select2/dropdown/minimumResultsForSearch",[],(function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b})),b.define("select2/dropdown/selectOnClose",["../utils"],(function(a){function b(){}return b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",(function(a){d._handleSelectOnClose(a)}))},b.prototype._handleSelectOnClose=function(b,c){if(c&&null!=c.originalSelect2Event){var d=c.originalSelect2Event;if("select"===d._type||"unselect"===d._type)return}var e=this.getHighlightedResults();if(!(e.length<1)){var f=a.GetData(e[0],"data");null!=f.element&&f.element.selected||null==f.element&&f.selected||this.trigger("select",{data:f})}},b})),b.define("select2/dropdown/closeOnSelect",[],(function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",(function(a){d._selectTriggered(a)})),b.on("unselect",(function(a){d._selectTriggered(a)}))},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a})),b.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ€¦"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searchingâ€¦"}}})),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(!0,this.defaults,f)},new D})),b.define("select2/options",["require","jquery","./defaults","./utils"],(function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),d.GetData(a[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(a[0],"data",d.GetData(a[0],"select2Tags")),d.StoreData(a[0],"tags",!0)),d.GetData(a[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",d.GetData(a[0],"ajaxUrl")),d.StoreData(a[0],"ajax-Url",d.GetData(a[0],"ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,d.GetData(a[0])):d.GetData(a[0]);var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e})),b.define("select2/core",["jquery","./options","./utils","./keys"],(function(a,b,c,d){var e=function(a,d){null!=c.GetData(a[0],"select2")&&c.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this._generateId(a),d=d||{},this.options=new b(d,a),e.__super__.constructor.call(this);var f=a.attr("tabindex")||0;c.StoreData(a[0],"old-tabindex",f),a.attr("tabindex","-1");var g=this.options.get("dataAdapter");this.dataAdapter=new g(a,this.options);var h=this.render();this._placeContainer(h);var i=this.options.get("selectionAdapter");this.selection=new i(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,h);var j=this.options.get("dropdownAdapter");this.dropdown=new j(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,h);var k=this.options.get("resultsAdapter");this.results=new k(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(a){l.trigger("selection:update",{data:a})})),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),c.StoreData(a[0],"select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",(function(){b.dataAdapter.current((function(a){b.trigger("selection:update",{data:a})}))})),this.$element.on("focus.select2",(function(a){b.trigger("focus",a)})),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d((function(c){a.each(c,b._syncA),a.each(c,b._syncS)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",(function(){b.toggleDropdown()})),this.selection.on("focus",(function(a){b.focus(a)})),this.selection.on("*",(function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)}))},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerEvents=function(){var a=this;this.on("open",(function(){a.$container.addClass("select2-container--open")})),this.on("close",(function(){a.$container.removeClass("select2-container--open")})),this.on("enable",(function(){a.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){a.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){a.$container.removeClass("select2-container--focus")})),this.on("query",(function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,(function(c){a.trigger("results:all",{data:c,query:b})}))})),this.on("query:append",(function(b){this.dataAdapter.query(b,(function(c){a.trigger("results:append",{data:c,query:b})}))})),this.on("keypress",(function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())}))},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current((function(a){d.trigger("selection:update",{data:a})}))}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current((function(b){a=b})),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,(function(a){return a.toString()}))),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(b[0],"element",this.$element),b},e})),b.define("jquery-mousewheel",["jquery"],(function(a){return a})),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(a,b,c,d,e){if(null==a.fn.select2){var f=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each((function(){var d=a.extend(!0,{},b);new c(a(this),d)})),this;if("string"==typeof b){var d,g=Array.prototype.slice.call(arguments,1);return this.each((function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=a[b].apply(a,g)})),a.inArray(b,f)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c})),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c}));!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}((function(a){"use strict";function b(a){if(a instanceof Date)return a;if(String(a).match(g))return String(a).match(/^[0-9]*$/)&&(a=Number(a)),String(a).match(/\-/)&&(a=String(a).replace(/\-/g,"/")),new Date(a);throw new Error("Couldn't cast `"+a+"` to a date object.")}function c(a){var b=a.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(b)}function d(a){return function(b){var d=b.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(d)for(var f=0,g=d.length;f<g;++f){var h=d[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),j=c(h[0]),k=h[1]||"",l=h[3]||"",m=null;h=h[2],i.hasOwnProperty(h)&&(m=i[h],m=Number(a[m])),null!==m&&("!"===k&&(m=e(l,m)),""===k&&m<10&&(m="0"+m.toString()),b=b.replace(j,m.toString()))}return b=b.replace(/%%/,"%")}}function e(a,b){var c="s",d="";return a&&(a=a.replace(/(:|;|\s)/gi,"").split(/\,/),1===a.length?c=a[0]:(d=a[0],c=a[1])),Math.abs(b)>1?c:d}var f=[],g=[],h={precision:100,elapse:!1,defer:!1};g.push(/^[0-9]*$/.source),g.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g=new RegExp(g.join("|"));var i={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},j=function(b,c,d){this.el=b,this.$el=a(b),this.interval=null,this.offset={},this.options=a.extend({},h),this.firstTick=!0,this.instanceNumber=f.length,f.push(this),this.$el.data("countdown-instance",this.instanceNumber),d&&("function"==typeof d?(this.$el.on("update.countdown",d),this.$el.on("stoped.countdown",d),this.$el.on("finish.countdown",d)):this.options=a.extend({},h,d)),this.setFinalDate(c),this.options.defer===!1&&this.start()};a.extend(j.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var a=this;this.update(),this.interval=setInterval((function(){a.update.call(a)}),this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),f[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(a){this.finalDate=b(a)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var a,b=new Date;return a=this.finalDate.getTime()-b.getTime(),a=Math.ceil(a/1e3),a=!this.options.elapse&&a<0?0:Math.abs(a),this.totalSecsLeft===a||this.firstTick?void(this.firstTick=!1):(this.totalSecsLeft=a,this.elapsed=b>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-b.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},void(this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish"))))},dispatchEvent:function(b){var c=a.Event(b+".countdown");c.finalDate=this.finalDate,c.elapsed=this.elapsed,c.offset=a.extend({},this.offset),c.strftime=d(this.offset),this.$el.trigger(c)}}),a.fn.countdown=function(){var b=Array.prototype.slice.call(arguments,0);return this.each((function(){var c=a(this).data("countdown-instance");if(void 0!==c){var d=f[c],e=b[0];j.prototype.hasOwnProperty(e)?d[e].apply(d,b.slice(1)):null===String(e).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(d.setFinalDate.call(d,e),d.start()):a.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,e))}else new j(this,b[0],b[1])}))}}));(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(window.jQuery||window.Zepto)})((function(g){var z=function(b,f,d){var l=this,x,y;b=g(b);f="function"===typeof f?f(b.val(),void 0,b,d):f;l.init=function(){d=d||{};l.byPassKeys=[9,16,17,18,36,37,38,39,40,91];l.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};l.translation=g.extend({},l.translation,d.translation);l=g.extend(!0,{},l,d);y=c.getRegexMask();b.each((function(){!1!==d.maxlength&&b.attr("maxlength",f.length);d.placeholder&&b.attr("placeholder",d.placeholder);b.attr("autocomplete","off");c.destroyEvents();c.events();var a=c.getCaret();c.val(c.getMasked());c.setCaret(a+c.getMaskCharactersBeforeCount(a,!0))}))};var c={getCaret:function(){var a;a=0;var e=b.get(0),c=document.selection,e=e.selectionStart;if(c&&!~navigator.appVersion.indexOf("MSIE 10"))a=c.createRange(),a.moveStart("character",b.is("input")?-b.val().length:-b.text().length),a=a.text.length;else if(e||"0"===e)a=e;return a},setCaret:function(a){if(b.is(":focus")){var e;e=b.get(0);e.setSelectionRange?e.setSelectionRange(a,a):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select())}},events:function(){b.on("keydown.mask",(function(){x=c.val()}));b.on("keyup.mask",c.behaviour);b.on("paste.mask drop.mask",(function(){setTimeout((function(){b.keydown().keyup()}),100)}));b.on("change.mask",(function(){b.data("changeCalled",!0)}));b.on("blur.mask",(function(a){a=g(a.target);a.prop("defaultValue")!==a.val()&&(a.prop("defaultValue",a.val()),a.data("changeCalled")||a.trigger("change"));a.data("changeCalled",!1)}));b.on("focusout.mask",(function(){d.clearIfNotMatch&&!y.test(c.val())&&c.val("")}))},getRegexMask:function(){var a=[],e,b,c,d,k;for(k in f)(e=l.translation[f[k]])?(b=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),c=e.optional,(e=e.recursive)?(a.push(f[k]),d={digit:f[k],pattern:b}):a.push(c||e?b+"?":b)):a.push("\\"+f[k]);a=a.join("");d&&(a=a.replace(RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(RegExp(d.digit,"g"),d.pattern));return RegExp(a)},destroyEvents:function(){b.off("keydown.mask keyup.mask paste.mask drop.mask change.mask blur.mask focusout.mask").removeData("changeCalled")},val:function(a){var e=b.is("input");return 0<arguments.length?e?b.val(a):b.text(a):e?b.val():b.text()},getMaskCharactersBeforeCount:function(a,e){for(var b=0,c=0,d=f.length;c<d&&c<a;c++)l.translation[f.charAt(c)]||(a=e?a+1:a,b++);return b},determineCaretPos:function(a,b,d,h){return l.translation[f.charAt(Math.min(a-1,f.length-1))]?Math.min(a+d-b-h,d):c.determineCaretPos(a+1,b,d,h)},behaviour:function(a){a=a||window.event;var b=a.keyCode||a.which;if(-1===g.inArray(b,l.byPassKeys)){var d=c.getCaret(),f=c.val(),n=f.length,k=d<n,p=c.getMasked(),m=p.length,q=c.getMaskCharactersBeforeCount(m-1)-c.getMaskCharactersBeforeCount(n-1);p!==f&&c.val(p);!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.determineCaretPos(d,n,m,q)),c.setCaret(d));return c.callbacks(a)}},getMasked:function(a){var b=[],g=c.val(),h=0,n=f.length,k=0,p=g.length,m=1,q="push",s=-1,r,u;d.reverse?(q="unshift",m=-1,r=0,h=n-1,k=p-1,u=function(){return-1<h&&-1<k}):(r=n-1,u=function(){return h<n&&k<p});for(;u();){var v=f.charAt(h),w=g.charAt(k),t=l.translation[v];if(t)w.match(t.pattern)?(b[q](w),t.recursive&&(-1===s?s=h:h===r&&(h=s-m),r===s&&(h-=m)),h+=m):t.optional&&(h+=m,k-=m),k+=m;else{if(!a)b[q](v);w===v&&(k+=m);h+=m}}a=f.charAt(r);n!==p+1||l.translation[a]||b.push(a);return b.join("")},callbacks:function(a){var e=c.val(),g=c.val()!==x;if(!0===g&&"function"===typeof d.onChange)d.onChange(e,a,b,d);if(!0===g&&"function"===typeof d.onKeyPress)d.onKeyPress(e,a,b,d);if("function"===typeof d.onComplete&&e.length===f.length)d.onComplete(e,a,b,d)}};l.remove=function(){var a=c.getCaret(),b=c.getMaskCharactersBeforeCount(a);c.destroyEvents();c.val(l.getCleanVal()).removeAttr("maxlength");c.setCaret(a-b)};l.getCleanVal=function(){return c.getMasked(!0)};l.init()};g.fn.mask=function(b,f){this.unmask();return this.each((function(){g(this).data("mask",new z(this,b,f))}))};g.fn.unmask=function(){return this.each((function(){try{g(this).data("mask").remove()}catch(b){}}))};g.fn.cleanVal=function(){return g(this).data("mask").getCleanVal()};g("*[data-mask]").each((function(){var b=g(this),f={};"true"===b.attr("data-mask-reverse")&&(f.reverse=!0);"false"===b.attr("data-mask-maxlength")&&(f.maxlength=!1);"true"===b.attr("data-mask-clearifnotmatch")&&(f.clearIfNotMatch=!0);b.mask(b.attr("data-mask"),f)}))}));!function(t){var i=t(window);t.fn.visible=function(t,e,o){if(!(this.length<1)){var r=this.length>1?this.eq(0):this,n=r.get(0),f=i.width(),h=i.height(),o=o?o:"both",l=e===!0?n.offsetWidth*n.offsetHeight:!0;if("function"==typeof n.getBoundingClientRect){var g=n.getBoundingClientRect(),u=g.top>=0&&g.top<h,s=g.bottom>0&&g.bottom<=h,c=g.left>=0&&g.left<f,a=g.right>0&&g.right<=f,v=t?u||s:u&&s,b=t?c||a:c&&a;if("both"===o)return l&&v&&b;if("vertical"===o)return l&&v;if("horizontal"===o)return l&&b}else{var d=i.scrollTop(),p=d+h,w=i.scrollLeft(),m=w+f,y=r.offset(),z=y.top,B=z+r.height(),C=y.left,R=C+r.width(),j=t===!0?B:z,q=t===!0?z:B,H=t===!0?R:C,L=t===!0?C:R;if("both"===o)return!!l&&p>=q&&j>=d&&m>=L&&H>=w;if("vertical"===o)return!!l&&p>=q&&j>=d;if("horizontal"===o)return!!l&&m>=L&&H>=w}}}}(jQuery);