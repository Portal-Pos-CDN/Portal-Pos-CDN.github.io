/* oliva-Latitude-3470 - 30/11/2020 19:47:38 GMT-0300 */
"use strict";(function(){try{var BringBrands={init:function init(){BringBrands.bringData();BringBrands.applyCopyCode()},bringData:function bringData(){if(!$.cookie){return}var wrapper=$(".mz-promotionbrands");var wrapperMobile=$(".mz-promotionbrands-mobile");var urlGeneral="/mz-campanhamarcas";var brandCoockie=$.cookie("marcaOrigem");var nameBrand=".mz-marca-".concat(brandCoockie);if(nameBrand.length){if(nameBrand==".mz-marca-undefined"){nameBrand=".mz-marca-portal"}try{$.ajax({type:"GET",method:"GET",url:urlGeneral,dataType:"html"}).done((function(data){var $data=$(data);if($data.find(".mz-marca-todos").length){var brandDefault=$data.find(".mz-marca-todos");wrapper.append(brandDefault);$(".mz-countdown").closest("section").hide();console.log("Promoção/Marca pra todos.");wrapper.css("display","block");var bgcolor=$(".mz-promotionbrands > div").attr("style");var title=$(".mz-promotionbrands h3").text();var text=$(".mz-promotionbrands p").text();var code=$(".mz-promotionbrands .voucher-coupon").text();$(".mz-promotionbrands-mobile h3").text(title);$(".mz-promotionbrands-mobile p").text(text);$(".mz-promotionbrands-mobile .voucher-coupon").text(code);$(".mz-promotionbrands-mobile > div").removeAttr("style");$(".mz-promotionbrands-mobile > div").attr("style",bgcolor);$(".mz-promotionbrands-mobile > div").attr("style",bgcolor);wrapperMobile.css("display","block");wrapperMobile.css("padding-bottom","20px")}else if(!$data.find(".mz-marca-todos").length){var block=$data.find(nameBrand);if(block.length==0){console.log("Promoção/Marca desativada.");return}console.log("Promoção/Marca - Ativada: ".concat(brandCoockie));wrapper.append(block);wrapper.css("display","block");$(".mz-countdown").closest("section").hide();var _bgcolor=$(".mz-promotionbrands > div").attr("style");var _title=$(".mz-promotionbrands h3").text();var _text=$(".mz-promotionbrands p").text();var _code=$(".mz-promotionbrands .voucher-coupon").text();$(".mz-promotionbrands-mobile h3").text(_title);$(".mz-promotionbrands-mobile p").text(_text);$(".mz-promotionbrands-mobile .voucher-coupon").text(_code);$(".mz-promotionbrands-mobile > div").removeAttr("style");$(".mz-promotionbrands-mobile > div").attr("style",_bgcolor);$(".mz-promotionbrands-mobile > div").attr("style",_bgcolor)}else{console.log("Nenhuma campanha cadastrada.");return}}))}catch(e){console.log("Erro na request de Campanha por Marcas: ",e)}}},applyCopyCode:function applyCopyCode(){$(document).on("click",".mz-promotionbrands-mobile .copy-voucher, .mz-promotionbrands .copy-voucher",(function(e){e.preventDefault();var codeWrapper=$(".mz-promotionbrands .voucher-coupon");BringBrands.copyTextToClipboard(codeWrapper.text());$(this).addClass("copied")}));if($(window).width()<767){$(".mz-countdown__wrapper--info").find("br").remove()}},copyTextToClipboard:function copyTextToClipboard(text){if(!navigator.clipboard){BringBrands.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(err){console.error("Async: Could not copy text: ",err)}))},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+msg)}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)}};BringBrands.init()}catch(e){console.log(e)}})();