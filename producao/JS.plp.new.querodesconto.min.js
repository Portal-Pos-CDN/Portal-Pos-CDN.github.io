/* geovane - 30/06/2021 09:44:05 GMT */
"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}(function(){try{var QueroDesconto={init:function init(){QueroDesconto.fixBrands();QueroDesconto.getLandingPageData();QueroDesconto.getUnits();QueroDesconto.applyMasks();QueroDesconto.applySelect2();QueroDesconto.onChangeSelects();QueroDesconto.applyValidate()},fixBrands:function fixBrands(){if(window.location.pathname.indexOf("lfg-querodesconto")>-1){$.cookie("marcaOrigem","lfg",{expires:2});$(".MZh__n-brand img").attr("src","https://portalpos2.vteximg.com.br/arquivos/portalpos2.logo-secondadry-lfg-1.png")}else if(window.location=="https://www.portalpos.com.br/querodesconto"){$.removeCookie("marcaOrigem")}},getLandingPageData:function getLandingPageData(){var brand=$.cookie("marcaOrigem");if(brand!="anhanguera"&&brand!="lfg"){brand="portalpos"}$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"https://www.portalpos.com.br/api/dataentities/admincontquerodesconto/search?marca=".concat(brand,"&_schema=mz-body"),type:"GET",dataType:"json",contentType:"application/json"}).done((function(data){if(!data){return}var $data=data[0];$(".mz-lpqd-textabove__h1").html($data.titulopagina);$(".mz-lpqd-textabove__h2").html($data.subtitulopagina);$(".mz-lpqd-textabove__text").html($data.textoacimaicones);$(".mz-lpqd-textbelow__text").html($data.textoabaixoicones);$(".mz-lpqd-textasterisks__text").html($data.textoastericos);$(".mz-lpqd-textasterisks__priceinfo").html($data.infopreco);$(".mz-lpqd-seoblockone.seoblockone").css("background-image",'url("'.concat($data.bannerfundo,'")'));if(!$(document.body).is(".new-quero-desconto")){$(".mz-lpqd-banner--desktop").html('<img src="'.concat($data.bannerdesktop,'" title="Banner desktop" alt="Banner desktop" />'));$(".mz-lpqd-banner--mobile").html('<img src="'.concat($data.bannermobile,'" title="Banner Mobile" alt="Banner Mobile">'));$(".mz-lpqd-textbelow__img").html('<img src="'.concat($data.imagemabaixoicones,'" title="Banner abaixo dos icones" alt="Banner abaixo dos icones"/>'))}$(document.body).addClass("mz-lpqd-on")}))},onChangeSelects:function onChangeSelects(){$("#mz-select-state").on("change",(function(){$("#mz-select-unit").attr("disabled","disabled");var cities=QueroDesconto.getCities($("#mz-select-state").find(":selected").val());$("#mz-select-city").empty();$("#mz-select-city").append('<option selected="true" value="">Selecione uma cidade</option>');for(var i=0;i<cities.length;i++){$("#mz-select-city").append('<option value="'.concat(cities[i],'">').concat(cities[i],"</option>"))}}));$("#mz-select-city").on("change",(function(){$("#mz-select-unit").removeAttr("disabled");$("#mz-select-unit").empty();$("#mz-select-unit").append('<option selected="true" value="">Selecione uma unidade/polo</option>');var unitsFiltered=QueroDesconto.getUnitsFiltered($("#mz-select-state").find(":selected").val(),$("#mz-select-city").find(":selected").val());for(var i=0;i<unitsFiltered.length;i++){$("#mz-select-unit").append('<option value="'.concat(unitsFiltered[i],'">').concat(unitsFiltered[i],"</option>"))}}))},getUnits:function getUnits(){$.ajax({url:"https://middleware.portalpos.com.br/api/v1/unidades/",type:"GET",dataType:"json"}).done((function(unidades){if($.cookie("marcaOrigem")=="anhanguera"){QueroDesconto.data.units=unidades.filter((function(info){return info.uf!=null&&info.cidade!=null&&(info.idMarca==QueroDesconto.data.institutions["uniderp"]||info.idMarca==QueroDesconto.data.institutions["anhanguera"])}))}else{QueroDesconto.data.units=unidades.filter((function(info){return info.uf!=null&&info.cidade!=null&&info.idMarca!=QueroDesconto.data.institutions["uniderp"]&&info.idMarca!=QueroDesconto.data.institutions["anhanguera"]}))}QueroDesconto.data.states=QueroDesconto.getUFs();var ufs=QueroDesconto.data.states;$("#mz-select-state").append('<option selected="true" value="">Selecione um estado</option>');for(var i=0;i<ufs.length;i++){$("#mz-select-state").append('<option value="'.concat(ufs[i],'">').concat(ufs[i],"</option>"))}}))},getUFs:function getUFs(){return _toConsumableArray(new Set(QueroDesconto.data.units.map((function(obj){return obj.uf})))).sort()},getCities:function getCities(stateUF){var cities=_toConsumableArray(new Set(QueroDesconto.data.units.filter((function(obj){return obj.uf.toLowerCase()==stateUF.toLowerCase()})).map((function(obj){return obj.cidade})))).sort();if(!cities.length){console.error("[QueroDesconto] Cidades não encontradas!");return[]}return cities},getUnitsFiltered:function getUnitsFiltered(stateUF,city){var unitsFilt=_toConsumableArray(new Set(QueroDesconto.data.units.filter((function(obj){return obj.uf.toLowerCase()==stateUF.toLowerCase()&&obj.cidade.toLowerCase()==city.toLowerCase()})).map((function(obj){return obj.nome})))).sort().sort((function(a,b){return a.toLowerCase().indexOf("polo")<b.toLowerCase().indexOf("polo")?-1:1}));if(!unitsFilt.length){console.error("[QueroDesconto] Unidades não encontradas!");return[]}return unitsFilt},applySelect2:function applySelect2(){$("#mz-select-state").select2({placeholder:"Selecione um estado",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhum estado encontrado!"}},dropdownParent:$("#mz-select-state").parent()});$("#mz-select-city").select2({placeholder:"Selecione uma cidade...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma cidade encontrada!"}},dropdownParent:$("#mz-select-city").parent()});$("#mz-select-unit").select2({placeholder:"Selecione Unidade/Polo...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma unidade encontrada!"}},dropdownParent:$("#mz-select-unit").parent()})},applyMasks:function applyMasks(){var SPMaskBehavior=function SPMaskBehavior(val){return val.replace(/\D/g,"").length===11?"(00) 00000-0000":"(00) 0000-00009"};$("#id-phone-first").mask(SPMaskBehavior,{onKeyPress:function onKeyPress(val,e,field,options){field.mask(SPMaskBehavior.apply({},arguments),options)}})},applyValidate:function applyValidate(){if(!$.fn.validate){return}var form=$("#mz-first-form");form.validate({rules:{nome:{required:true},email:{required:true,email:true},telefone:{required:true},estado:{required:true},cidade:{required:true},unidadepolo:{required:true}},submitHandler:function submitHandler(form,event){event.preventDefault();var $form=$(form);var isValid=$form.valid();if(!isValid){return}var formData=$form.serializeObject();QueroDesconto.sendToCallCenter(formData);QueroDesconto.sendDataToMD(formData)},errorPlacement:function errorPlacement(error,element){if(element.attr("name")=="estado"){element.closest(".fields-state").append(error)}if(element.attr("name")=="cidade"){element.closest(".fields-city").append(error)}if(element.attr("name")!=="cidade"||element.attr("estado")!=="estado"){element.closest(".fields").append(error)}}})},sendToCallCenter:function sendToCallCenter(prmData){if(prmData.reberofertas){prmData.reberofertas=true}else{prmData.reberofertas=false}var orderForm=window.storeHelpers.generic.getOrderForm();var fullName=prmData.nome.split(" ");var firstName=fullName.shift();var lastName=fullName.join(" ");var receberOfertas=prmData.reberofertas;var lead={options:{somente_lead:true},lead:{attributes:{firstname:firstName,lastname:lastName,emailaddress1:prmData.email,mobilephone:window.storeHelpers.callCenter.normalizeTel(prmData.telefone),crmeduc_aceito_receber_emails_com_novidades:receberOfertas,crmeduc_origem_platos:191030022,crmeduc_faculdade_marca:window.storeHelpers.callCenter.getMarcaId(prmData.unidade),address2_stateorprovince:prmData.estado,address1_city:prmData.cidade,cad_mensagem:prmData.unidadepolo,cad_campaignname:orderForm.marketingData?orderForm.marketingData.utmCampaign:"",cad_campaigncontent:orderForm.marketingData?orderForm.marketingData.utmiCampaign:"",cad_campaignmedium:orderForm.marketingData?orderForm.marketingData.utmMedium:"",cad_campaignsource:orderForm.marketingData?orderForm.marketingData.utmSource:""}},concurso:{attributes:{cad_codigo:window.storeHelpers.callCenter.getConcursoId()}}};window.storeHelpers.callCenter.senderLead(lead)},sendDatalayerConfirmation:function sendDatalayerConfirmation(){window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"Generic LP Submit",category:"Formulario",action:"formularioQueroDesconto",label:"Cadastro efetuado com sucesso"})},sendDataToMD:function sendDataToMD(dataJson){if(dataJson.reberofertas=="on"){dataJson.reberofertas=true}dataJson["urlenviada"]=window.location.href;$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},url:"https://www.portalpos.com.br/api/dataentities/leadsquerodesconto/documents?_schema=mz-body&an=portalpos2",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(dataJson)}).done((function(response){QueroDesconto.sendDatalayerConfirmation();swal({title:"Agradecemos seu cadastro!",icon:"success"}).then((function(){window.location.reload()}))})).fail((function(){swal({icon:"error",text:"Erro ao cadastrar no guia de carreiras."})}))},data:{units:[],states:[],cities:[],unitsFiltered:[],institutions:{anhanguera:"12",fama:"7",lfg:"19",pitagoras:"4",unic:"5",uniderp:"16",unime:"8",unopar:"1"}}};$(document).ready(QueroDesconto.init)}catch(e){console.log("Erro na instancia [QueroDesconto]: ",e)}})();(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(window.jQuery||window.Zepto)})((function(g){var z=function(b,f,d){var l=this,x,y;b=g(b);f="function"===typeof f?f(b.val(),void 0,b,d):f;l.init=function(){d=d||{};l.byPassKeys=[9,16,17,18,36,37,38,39,40,91];l.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};l.translation=g.extend({},l.translation,d.translation);l=g.extend(!0,{},l,d);y=c.getRegexMask();b.each((function(){!1!==d.maxlength&&b.attr("maxlength",f.length);d.placeholder&&b.attr("placeholder",d.placeholder);b.attr("autocomplete","off");c.destroyEvents();c.events();var a=c.getCaret();c.val(c.getMasked());c.setCaret(a+c.getMaskCharactersBeforeCount(a,!0))}))};var c={getCaret:function(){var a;a=0;var e=b.get(0),c=document.selection,e=e.selectionStart;if(c&&!~navigator.appVersion.indexOf("MSIE 10"))a=c.createRange(),a.moveStart("character",b.is("input")?-b.val().length:-b.text().length),a=a.text.length;else if(e||"0"===e)a=e;return a},setCaret:function(a){if(b.is(":focus")){var e;e=b.get(0);e.setSelectionRange?e.setSelectionRange(a,a):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select())}},events:function(){b.on("keydown.mask",(function(){x=c.val()}));b.on("keyup.mask",c.behaviour);b.on("paste.mask drop.mask",(function(){setTimeout((function(){b.keydown().keyup()}),100)}));b.on("change.mask",(function(){b.data("changeCalled",!0)}));b.on("blur.mask",(function(a){a=g(a.target);a.prop("defaultValue")!==a.val()&&(a.prop("defaultValue",a.val()),a.data("changeCalled")||a.trigger("change"));a.data("changeCalled",!1)}));b.on("focusout.mask",(function(){d.clearIfNotMatch&&!y.test(c.val())&&c.val("")}))},getRegexMask:function(){var a=[],e,b,c,d,k;for(k in f)(e=l.translation[f[k]])?(b=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),c=e.optional,(e=e.recursive)?(a.push(f[k]),d={digit:f[k],pattern:b}):a.push(c||e?b+"?":b)):a.push("\\"+f[k]);a=a.join("");d&&(a=a.replace(RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(RegExp(d.digit,"g"),d.pattern));return RegExp(a)},destroyEvents:function(){b.off("keydown.mask keyup.mask paste.mask drop.mask change.mask blur.mask focusout.mask").removeData("changeCalled")},val:function(a){var e=b.is("input");return 0<arguments.length?e?b.val(a):b.text(a):e?b.val():b.text()},getMaskCharactersBeforeCount:function(a,e){for(var b=0,c=0,d=f.length;c<d&&c<a;c++)l.translation[f.charAt(c)]||(a=e?a+1:a,b++);return b},determineCaretPos:function(a,b,d,h){return l.translation[f.charAt(Math.min(a-1,f.length-1))]?Math.min(a+d-b-h,d):c.determineCaretPos(a+1,b,d,h)},behaviour:function(a){a=a||window.event;var b=a.keyCode||a.which;if(-1===g.inArray(b,l.byPassKeys)){var d=c.getCaret(),f=c.val(),n=f.length,k=d<n,p=c.getMasked(),m=p.length,q=c.getMaskCharactersBeforeCount(m-1)-c.getMaskCharactersBeforeCount(n-1);p!==f&&c.val(p);!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.determineCaretPos(d,n,m,q)),c.setCaret(d));return c.callbacks(a)}},getMasked:function(a){var b=[],g=c.val(),h=0,n=f.length,k=0,p=g.length,m=1,q="push",s=-1,r,u;d.reverse?(q="unshift",m=-1,r=0,h=n-1,k=p-1,u=function(){return-1<h&&-1<k}):(r=n-1,u=function(){return h<n&&k<p});for(;u();){var v=f.charAt(h),w=g.charAt(k),t=l.translation[v];if(t)w.match(t.pattern)?(b[q](w),t.recursive&&(-1===s?s=h:h===r&&(h=s-m),r===s&&(h-=m)),h+=m):t.optional&&(h+=m,k-=m),k+=m;else{if(!a)b[q](v);w===v&&(k+=m);h+=m}}a=f.charAt(r);n!==p+1||l.translation[a]||b.push(a);return b.join("")},callbacks:function(a){var e=c.val(),g=c.val()!==x;if(!0===g&&"function"===typeof d.onChange)d.onChange(e,a,b,d);if(!0===g&&"function"===typeof d.onKeyPress)d.onKeyPress(e,a,b,d);if("function"===typeof d.onComplete&&e.length===f.length)d.onComplete(e,a,b,d)}};l.remove=function(){var a=c.getCaret(),b=c.getMaskCharactersBeforeCount(a);c.destroyEvents();c.val(l.getCleanVal()).removeAttr("maxlength");c.setCaret(a-b)};l.getCleanVal=function(){return c.getMasked(!0)};l.init()};g.fn.mask=function(b,f){this.unmask();return this.each((function(){g(this).data("mask",new z(this,b,f))}))};g.fn.unmask=function(){return this.each((function(){try{g(this).data("mask").remove()}catch(b){}}))};g.fn.cleanVal=function(){return g(this).data("mask").getCleanVal()};g("*[data-mask]").each((function(){var b=g(this),f={};"true"===b.attr("data-mask-reverse")&&(f.reverse=!0);"false"===b.attr("data-mask-maxlength")&&(f.maxlength=!1);"true"===b.attr("data-mask-clearifnotmatch")&&(f.clearIfNotMatch=!0);b.mask(b.attr("data-mask"),f)}))}));!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}((function(a){"use strict";function b(a){if(a instanceof Date)return a;if(String(a).match(g))return String(a).match(/^[0-9]*$/)&&(a=Number(a)),String(a).match(/\-/)&&(a=String(a).replace(/\-/g,"/")),new Date(a);throw new Error("Couldn't cast `"+a+"` to a date object.")}function c(a){var b=a.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(b)}function d(a){return function(b){var d=b.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(d)for(var f=0,g=d.length;f<g;++f){var h=d[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),j=c(h[0]),k=h[1]||"",l=h[3]||"",m=null;h=h[2],i.hasOwnProperty(h)&&(m=i[h],m=Number(a[m])),null!==m&&("!"===k&&(m=e(l,m)),""===k&&m<10&&(m="0"+m.toString()),b=b.replace(j,m.toString()))}return b=b.replace(/%%/,"%")}}function e(a,b){var c="s",d="";return a&&(a=a.replace(/(:|;|\s)/gi,"").split(/\,/),1===a.length?c=a[0]:(d=a[0],c=a[1])),Math.abs(b)>1?c:d}var f=[],g=[],h={precision:100,elapse:!1,defer:!1};g.push(/^[0-9]*$/.source),g.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g=new RegExp(g.join("|"));var i={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},j=function(b,c,d){this.el=b,this.$el=a(b),this.interval=null,this.offset={},this.options=a.extend({},h),this.firstTick=!0,this.instanceNumber=f.length,f.push(this),this.$el.data("countdown-instance",this.instanceNumber),d&&("function"==typeof d?(this.$el.on("update.countdown",d),this.$el.on("stoped.countdown",d),this.$el.on("finish.countdown",d)):this.options=a.extend({},h,d)),this.setFinalDate(c),this.options.defer===!1&&this.start()};a.extend(j.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var a=this;this.update(),this.interval=setInterval((function(){a.update.call(a)}),this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),f[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(a){this.finalDate=b(a)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var a,b=new Date;return a=this.finalDate.getTime()-b.getTime(),a=Math.ceil(a/1e3),a=!this.options.elapse&&a<0?0:Math.abs(a),this.totalSecsLeft===a||this.firstTick?void(this.firstTick=!1):(this.totalSecsLeft=a,this.elapsed=b>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-b.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},void(this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish"))))},dispatchEvent:function(b){var c=a.Event(b+".countdown");c.finalDate=this.finalDate,c.elapsed=this.elapsed,c.offset=a.extend({},this.offset),c.strftime=d(this.offset),this.$el.trigger(c)}}),a.fn.countdown=function(){var b=Array.prototype.slice.call(arguments,0);return this.each((function(){var c=a(this).data("countdown-instance");if(void 0!==c){var d=f[c],e=b[0];j.prototype.hasOwnProperty(e)?d[e].apply(d,b.slice(1)):null===String(e).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(d.setFinalDate.call(d,e),d.start()):a.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,e))}else new j(this,b[0],b[1])}))}}));(function(){try{var Countdown={init:function init(){Countdown.bringInfoThisBrand()},bringInfoThisBrand:function bringInfoThisBrand(){if(!$.cookie){return}var wrapper=$(".mz-countdown__wrapper");var brandCoockie=$.cookie("marcaOrigem");var nameBrand=".mz-marca-".concat(brandCoockie);var defaultBrand=".mz-marca-default";var dateBrand=".mz-data-".concat(brandCoockie);var dateDefault=".mz-data-default";var urlCronometro="/mz-cronometro";var urlCronometroData="/mz-cronometro-data";var url=window.location.href;url=url.split("/").pop();if(url=="egressos"){return}try{$.ajax({type:"GET",method:"GET",url:urlCronometro,dataType:"html"}).done((function(response){var $data=$(response);if($data.find(nameBrand).length){wrapper.prepend($data.find(nameBrand))}else if($data.find(defaultBrand).length){wrapper.prepend($data.find(defaultBrand))}else if($data.find(defaultBrand).length==1&&$data.find(nameBrand).length==0){wrapper.prepend($data.find(defaultBrand))}$.ajax({type:"GET",method:"GET",url:urlCronometroData,dataType:"html"}).done((function(responseData){var $date=$(responseData);var dateElement;var wrapperDate=$("#mz-countdown__dates");if($date.find(dateBrand).length){dateElement=$date.find(dateBrand);wrapperDate.append(dateElement)}else{dateElement=$date.find(dateDefault);wrapperDate.append(dateElement)}Countdown.applyCountDown(nameBrand,defaultBrand,dateElement);Countdown.applyCopyCode()}))}))}catch(e){console.error("[COUNTDOWN] Erro na request de Cronometro: ",e)}},fallbackCopyTextToClipboard:function fallbackCopyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.value=text;textArea.style.top="0";textArea.style.left="0";textArea.style.position="fixed";document.body.appendChild(textArea);textArea.focus();textArea.select();try{var successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("[COUNTDOWN] Fallback: Cópia feita com sucesso! Mensagem: "+msg)}catch(err){console.error("[COUNTDOWN] Fallback: Erro: ",err)}document.body.removeChild(textArea)},copyTextToClipboard:function copyTextToClipboard(text){if(!navigator.clipboard){Countdown.fallbackCopyTextToClipboard(text);return}navigator.clipboard.writeText(text).then((function(){console.log("[COUNTDOWN] Cópia feita com sucesso!")}),(function(err){console.error("[COUNTDOWN] Erro: ",err)}))},applyCopyCode:function applyCopyCode(){$(".mz-countdown__wrapper--info .code a").click((function(e){e.preventDefault();var codeWrapper=$(".mz-countdown__wrapper--info .span-codigo");Countdown.copyTextToClipboard(codeWrapper.text());codeWrapper.parent().addClass("copied")}));if($(window).width()<767){$(".mz-countdown__wrapper--info").find("br").remove()}},applyCountDown:function applyCountDown(nameBrand,defaultBrand,dateElement){if(!$(".mz-countdown__wrapper--chronometer").length){return}var dateInit=$("#data_init").text();var dateEnd=$("#data_end").text();if(!dateInit.length||!dateEnd.length){return}Countdown.compareteData(dateInit,dateEnd);if(!Countdown.compareteData(dateInit,dateEnd)){return}dateEnd=Countdown.revertEndDate(dateEnd);var rl=Countdown.regexList();if(dateInit==""){console.log("[COUNTDOWN] Opção Direta ------------------");$(".mz-countdown").removeAttr("style");$(".mz-countdown__wrapper--chronometer").countdown(dateEnd,(function(event){$("#mz-date-rendered").text(event.strftime("H{%-I} h MI{%M} min S{%S} sec"));var hours=$("#mz-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-chronometer .mz-cr__hours--number").text(hours);$(".mz-chronometer .mz-cr__minu--number").text(minutes);$(".mz-chronometer .mz-cr__seg--number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-cr__mont--number").text()==0){$(".mz-cr__mont--number").parent().hide()}if($(".mz-cr__week--number").text()==0){$(".mz-cr__week--number").parent().hide()}}));$(this).on("finish.countdown",(function(){$(".mz-countdown").hide()}))}))}else if(dateInit.length==19&&dateEnd.length==19){console.log("[COUNTDOWN] Opção Agendada ------------------");var currentDate;var formatDtInit=dateInit;formatDtInit=formatDtInit.split(rl.regexTrace);formatDtInit=formatDtInit[1]+"/"+formatDtInit[0]+"/"+formatDtInit[2];var verifyCurrentDate=setInterval((function(){var captureDate=new Date;currentDate=$.format.date(captureDate,"dd/MM/yyyy HH:mm:ss");var rcCurrentDate=currentDate;currentDate=currentDate.split(rl.regexTrace);currentDate=currentDate[1]+"/"+currentDate[0]+"/"+currentDate[2];var dateCurrent=new Date(currentDate);var dateInitial=new Date(formatDtInit);if(dateCurrent<dateInitial){$(".mz-countdown").hide()}else{clearInterval(verifyCurrentDate);$(".mz-countdown").removeAttr("style");$(".mz-countdown").show();$(".mz-countdown__wrapper--chronometer").countdown(dateEnd,(function(event){$("#mz-date-rendered").text(event.strftime("H{%-I} h MI{%M} min S{%S} sec"));var hours=$("#mz-date-rendered").text().match(rl.regexTime.hours)[0];hours=hours.match(rl.regexDigit)[0];var minutes=$("#mz-date-rendered").text().match(rl.regexTime.minutes)[0];minutes=minutes.match(rl.regexDigit)[0];var seconds=$("#mz-date-rendered").text().match(rl.regexTime.seconds)[0];seconds=seconds.match(rl.regexDigit)[0];$(".mz-chronometer .mz-cr__hours--number").text(hours);$(".mz-chronometer .mz-cr__minu--number").text(minutes);$(".mz-chronometer .mz-cr__seg--number").text(seconds);$(this).on("update.countdown",(function(){if($(".mz-cr__mont--number").text()==0){$(".mz-cr__mont--number").parent().hide()}if($(".mz-cr__week--number").text()==0){$(".mz-cr__week--number").parent().hide()}}));$(this).on("finish.countdown",(function(){$(".mz-countdown").hide()}))}))}}),1e3)}else{console.error("[COUNTDOWN] Alguma Data na formato errado! Verifique o tamanho.")}},revertEndDate:function revertEndDate(dateEnd){var rl={regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g};var dateToReverse=dateEnd.match(rl.regexDateEnd)[0];dateToReverse=dateToReverse.split(rl.regexTrace);var dateHours=dateEnd.split(" ")[1];var day=dateToReverse[0];var mont=dateToReverse[1];var year=dateToReverse[2];var dateUnify=year+"/"+mont+"/"+day+" "+dateHours;return dateUnify},compareteData:function compareteData(dateOne,dateTwo){var rl=Countdown.regexList();dateOne=dateOne.split(rl.regexTrace);dateOne=dateOne[1]+"/"+dateOne[0]+"/"+dateOne[2];dateTwo=dateTwo.split(rl.regexTrace);dateTwo=dateTwo[1]+"/"+dateTwo[0]+"/"+dateTwo[2];var formatedDataOne=new Date(dateOne);var formatedDataTwo=new Date(dateTwo);if(formatedDataOne>formatedDataTwo){console.error("[COUNTDOWN] Erro no cadastro, a data agendada é maior que a data de encerramento.");return false}else if(formatedDataOne.length<19&&formatedDataTwo.length<19){console.error("[COUNTDOWN] Erro no cadastro, as datas não estão nos formatos corretos. [length]");return false}else if(formatedDataOne=="Invalid Date"&&formatedDataTwo=="Invalid Date"){console.error("[COUNTDOWN] Erro no cadastro, as datas não estão nos formatos corretos. [invalid]");return false}else{return true}},regexList:function regexList(){var rl={regexDigit:/\d+/g,regexTrace:/\//g,regexDateEnd:/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/g,regexTime:{mont:/MT{[0-9]{1,2}}/g,week:/W{[0-9]{1,2}}/g,day:/D{[0-9]{1,2}}/g,hours:/H{[0-9]{1,3}/g,minutes:/MI{[0-9]{1,2}/g,seconds:/S{[0-9]{2}/}};return rl}};$(document).ready(Countdown.init)}catch(e){console.log("Erro na instancia [Countdown]: ",e)}})();var DateFormat={};!function(e){var I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],a={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;DateFormat.format=function(){function o(e){return a[e]||e}function i(e){var a,r,t,n,s,o=e,i="";return-1!==o.indexOf(".")&&(o=(n=o.split("."))[0],i=n[n.length-1]),3<=(s=o.split(":")).length?(a=s[0],r=s[1],t=s[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),hour:a,minute:r,second:t,millis:i}):{time:"",hour:"",minute:"",second:"",millis:""}}function D(e,a){for(var r=a-String(e).length,t=0;t<r;t++){e="0"+e}return e}return{parseDate:function parseDate(e){var a,r,t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=i(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(u))a=e.split(/[T\+-]/),t.year=a[0],t.month=a[1],t.dayOfMonth=a[2],t.time=i(a[3].split(".")[0]);else switch(6===(a=e.split(" ")).length&&isNaN(a[5])&&(a[a.length]="()"),a.length){case 6:t.year=a[5],t.month=o(a[1]),t.dayOfMonth=a[2],t.time=i(a[3]);break;case 2:r=a[0].split("-"),t.year=r[0],t.month=r[1],t.dayOfMonth=r[2],t.time=i(a[1]);break;case 7:case 9:case 10:t.year=a[3];var n=parseInt(a[1]),s=parseInt(a[2]);n&&!s?(t.month=o(a[2]),t.dayOfMonth=a[1]):(t.month=o(a[1]),t.dayOfMonth=a[2]),t.time=i(a[4]);break;case 1:r=a[0].split(""),t.year=r[0]+r[1]+r[2]+r[3],t.month=r[5]+r[6],t.dayOfMonth=r[8]+r[9],t.time=i(r[13]+r[14]+r[15]+r[16]+r[17]+r[18]+r[19]+r[20]);break;default:return null}return t.time?t.date=new Date(t.year,t.month-1,t.dayOfMonth,t.time.hour,t.time.minute,t.time.second,t.time.millis):t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function date(a,e){try{var r=this.parseDate(a);if(null===r)return a;for(var t,n=r.year,s=r.month,o=r.dayOfMonth,i=r.dayOfWeek,u=r.time,c="",h="",l="",m=!1,y=0;y<e.length;y++){var d=e.charAt(y),f=e.charAt(y+1);if(m)"'"==d?(h+=""===c?"'":c,c="",m=!1):c+=d;else switch(l="",c+=d){case"ddd":h+=(S=i,I[parseInt(S,10)]||S),c="";break;case"dd":if("d"===f)break;h+=D(o,2),c="";break;case"d":if("d"===f)break;h+=parseInt(o,10),c="";break;case"D":h+=o=1==o||21==o||31==o?parseInt(o,10)+"st":2==o||22==o?parseInt(o,10)+"nd":3==o||23==o?parseInt(o,10)+"rd":parseInt(o,10)+"th",c="";break;case"MMMM":h+=(M=s,void 0,g=parseInt(M,10)-1,w[g]||M),c="";break;case"MMM":if("M"===f)break;h+=(k=s,void 0,p=parseInt(k,10)-1,v[p]||k),c="";break;case"MM":if("M"===f)break;h+=D(s,2),c="";break;case"M":if("M"===f)break;h+=parseInt(s,10),c="";break;case"y":case"yyy":if("y"===f)break;h+=c,c="";break;case"yy":if("y"===f)break;h+=String(n).slice(-2),c="";break;case"yyyy":h+=n,c="";break;case"HH":h+=D(u.hour,2),c="";break;case"H":if("H"===f)break;h+=parseInt(u.hour,10),c="";break;case"hh":h+=D(t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,2),c="";break;case"h":if("h"===f)break;t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,h+=parseInt(t,10),c="";break;case"mm":h+=D(u.minute,2),c="";break;case"m":if("m"===f)break;h+=parseInt(u.minute,10),c="";break;case"ss":h+=D(u.second.substring(0,2),2),c="";break;case"s":if("s"===f)break;h+=parseInt(u.second,10),c="";break;case"S":case"SS":if("S"===f)break;h+=c,c="";break;case"SSS":h+=D(u.millis.substring(0,3),3),c="";break;case"a":h+=12<=u.hour?"PM":"AM",c="";break;case"p":h+=12<=u.hour?"p.m.":"a.m.",c="";break;case"E":h+=(b=i,O[parseInt(b,10)]||b),c="";break;case"'":c="",m=!0;break;default:h+=d,c=""}}return h+=l}catch(e){return console&&console.log&&console.log(e),a}var b,k,p,M,g,S},prettyDate:function prettyDate(e){var a,r,t,n,s;if("string"!=typeof e&&"number"!=typeof e||(a=new Date(e)),"object"==_typeof(e)&&(a=new Date(e.toString())),r=((new Date).getTime()-a.getTime())/1e3,t=Math.abs(r),n=Math.floor(t/86400),!isNaN(n))return s=r<0?"from now":"ago",t<60?0<=r?"just now":"in a moment":t<120?"1 minute "+s:t<3600?Math.floor(t/60)+" minutes "+s:t<7200?"1 hour "+s:t<86400?Math.floor(t/3600)+" hours "+s:1===n?0<=r?"Yesterday":"Tomorrow":n<7?n+" days "+s:7===n?"1 week "+s:n<31?Math.ceil(n/7)+" weeks "+s:"more than 5 weeks "+s},toBrowserTimeZone:function toBrowserTimeZone(e,a){return this.date(new Date(e),a||"MM/dd/yyyy HH:mm:ss")}}}()}(),jQuery.format=DateFormat.format;