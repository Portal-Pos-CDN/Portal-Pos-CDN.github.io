/* geovane - 30/06/2021 09:44:01 GMT */
"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}(function(){try{var HistoriasReais={init:function init(){HistoriasReais.addValidateCPFMethod();HistoriasReais.validateForm();HistoriasReais.stepsForm();HistoriasReais.setMasksForm();HistoriasReais.setSelectData();HistoriasReais.getPreviousDataForm();HistoriasReais.getPreviousDataCPF();HistoriasReais.applySelect2();HistoriasReais.uploadVideoAmazon();HistoriasReais.showTermsModal();HistoriasReais.openVideoModal();HistoriasReais.openUploadModal()},bgoverlay:{videoModal:"mz-hr-on",uploadModal:"mz-mu-on"},data:{states:[],cities:[],units:[],unitsFiltered:[],courses:[],institutions:{number:{12:"Anhanguera",7:"Fama",19:"LFG",4:"Pitágoras",5:"Unic",16:"Uniderp",8:"Unime",1:"Unopar"},name:{Anhanguera:"12",Fama:"7",LFG:"19","Pitágoras":"4",Unic:"5",Uniderp:"16",Unime:"8",Unopar:"1"}},saved:{estado:false,cidade:false,instituicao:false,polo:false,curso:false},previousData:{data:{},saved:false}},ajaxStop:function ajaxStop(){},windowOnload:function windowOnload(){},openVideoModal:function openVideoModal(){var url=$(".mz-hr__videourl").text();if(!url){return}$(".mz-hr__modalvideo .mz-hr__modalvideo--block").html('<video controls="true" src="'.concat(url,'" style="width:100%;"></video>'));$(".mz-hr__bannerfull--image a").on("click",(function(){$(document.body).addClass(HistoriasReais.bgoverlay.videoModal);$(".mz-hr__modalvideo .mz-hr__modalvideo--block video")[0].play()}));$(".mz-hr__bgoverlay, .mz-hr__modalvideo--close button").on("click",(function(){$(document.body).removeClass(HistoriasReais.bgoverlay.videoModal);$(".mz-hr__modalvideo .mz-hr__modalvideo--block video")[0].pause()}))},openUploadModal:function openUploadModal(){$(".mz-video-wrapper--button").on("click",(function(e){e.preventDefault();$(document.body).addClass(HistoriasReais.bgoverlay.uploadModal)}));$(".mz-hr__bgoverlay, .mz-hr__modalupload--close button, .mz-hr__modalupload--closebutton").on("click",(function(){$(document.body).removeClass(HistoriasReais.bgoverlay.uploadModal)}))},addValidateCPFMethod:function addValidateCPFMethod(){$.validator.addMethod("cpf",(function(value,element){var cpf=value.replace(/[^0-9]/g,"").toString();var isValid=true;if(cpf.length==11){var v=[];v[0]=1*cpf[0]+2*cpf[1]+3*cpf[2];v[0]+=4*cpf[3]+5*cpf[4]+6*cpf[5];v[0]+=7*cpf[6]+8*cpf[7]+9*cpf[8];v[0]=v[0]%11;v[0]=v[0]%10;v[1]=1*cpf[1]+2*cpf[2]+3*cpf[3];v[1]+=4*cpf[4]+5*cpf[5]+6*cpf[6];v[1]+=7*cpf[7]+8*cpf[8]+9*v[0];v[1]=v[1]%11;v[1]=v[1]%10;if(v[0]!=cpf[9]||v[1]!=cpf[10]){isValid=false}}else{isValid=false}return isValid}),"CPF inválido")},validateForm:function validateForm(){$(".mz-hr__form--main").validate({rules:{cpf:{required:true,cpf:true},email:{required:true,email:true}},messages:{email:{email:"E-mail inválido"},cpf:{cpf:"CPF inválido!"}},submitHandler:function submitHandler(){return false},errorPlacement:function errorPlacement(error,element){element.closest(".form-group, .checkbox-group").append(error)}})},stepsForm:function stepsForm(){var form=$(".mz-hr__form--main");form.steps({headerTag:".mz-hr__form--steptitle",bodyTag:".mz-hr__form--step",transitionEffect:"fade",saveState:true,onStepChanging:function onStepChanging(event,currentIndex,newIndex){if(currentIndex>newIndex){return true}form.validate().settings.ignore=":disabled,:hidden";var isValid=form.valid();if(localStorage&&isValid){var dataSerialize=form.serializeObject();var formData=JSON.stringify(dataSerialize);localStorage.setItem("MZcurrentHRForm",formData);if(dataSerialize.nome&&dataSerialize.email){HistoriasReais.pushToLogRocket({name:dataSerialize.nome,email:dataSerialize.email})}}return isValid},onInit:function onInit(event,currentIndex){HistoriasReais.toggleSubtitleForm(currentIndex)},onStepChanged:function onStepChanged(event,currentIndex,priorIndex){HistoriasReais.toggleSubtitleForm(currentIndex)},onFinishing:function onFinishing(event,currentIndex){form.validate().settings.ignore=":disabled";var formData=form.serializeObject();if(!formData.termo){swal({text:"É preciso aceitar os termos para enviar sua história.",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png"});return false}if(!formData.textopessoal&&!formData.video){swal({text:"Você precisa enviar pelo menos um vídeo ou texto para participar da promoção.",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png"});return false}var isValid=form.valid();if(localStorage&&isValid){var formData=JSON.stringify(form.serializeObject());localStorage.setItem("MZcurrentHRForm",formData)}return isValid},onFinished:function onFinished(event,currentIndex){var formData=form.serializeObject();if(formData.termo){formData.termo=true}if(formData.mz_aluno_radio=="aluno"){formData.aluno=true;formData.exaluno=false}else{formData.aluno=false;formData.exaluno=true}formData.statusaprovacao="indef";formData.classificacao="empty";var previousID=$.cookie("MZHRFormPreviousID")||"";if(previousID.length){for(var value in formData){if(formData[value]==null){delete formData[value]}}}else{for(var _value in formData){if(formData[_value]==null){formData[_value]=""}}}delete formData.mz_aluno_radio;var urlAjax="/api/dataentities/historiasreais/documents?_schema=mz-body";if(previousID.length){urlAjax="/api/dataentities/historiasreais/documents/".concat(previousID,"?_schema=mz-body")}$.ajax({headers:{"Content-Type":"application/json"},url:urlAjax,type:"PATCH",dataType:"json",contentType:"application/json",data:JSON.stringify(formData)}).done((function(){HistoriasReais.pushToDataLayer("MZ.HistoriasReais.formSent");HistoriasReais.pushToHotjar("formSubmitSuccessful");swal({text:"Prontinho! Agora é só torcer para a sua história ser escolhida"}).then((function(){localStorage.removeItem("MZcurrentHRForm");$.removeCookie("jQu3ry_5teps_St@te_steps-uid-0");$.removeCookie("MZHRFormPreviousID");location.reload()}))})).fail((function(){HistoriasReais.pushToDataLayer("MZ.HistoriasReais.formError");HistoriasReais.pushToHotjar("formSubmitFailed");swal({icon:"error",text:"Erro ao enviar o formulário!"})}))},labels:{cancel:"Cancelar",current:"Passo Atual:",pagination:"Paginação",finish:"ENVIAR",next:"Próximo",previous:"Anterior",loading:"Carregando ..."}})},toggleSubtitleForm:function toggleSubtitleForm(index){if($(".mz-hr__form--wrapper .last.current").length||index==3){$(".mz-hr__form--subtitle").addClass("last")}else{$(".mz-hr__form--subtitle").removeClass("last")}},setMasksForm:function setMasksForm(){var form=$(".mz-hr__form--main");form.find('input[name="cpf"]').mask("000.000.000-00");var SPMaskBehavior=function SPMaskBehavior(val){return val.replace(/\D/g,"").length===11?"(00) 00000-0000":"(00) 0000-00009"};form.find('input[name="telefone"]').mask(SPMaskBehavior,{onKeyPress:function onKeyPress(val,e,field,options){field.mask(SPMaskBehavior.apply({},arguments),options)}})},setSelectData:function setSelectData(){var form=$(".mz-hr__form--main");form.find(".mz-state").attr("disabled",true);form.find(".mz-city").attr("disabled",true);form.find('[name="instituicao"]').attr("disabled",true);form.find('[name="instituicao"]').empty();form.find('[name="instituicao"]').append('<option selected="true" value="">Selecione uma das instituições</option>');form.find('[name="polo"]').attr("disabled",true);form.find('select[name="curso"]').attr("disabled",true);form.find('select[name="curso"]').empty();form.find('select[name="curso"]').append('<option selected="true" value="">Selecione o curso</option>');HistoriasReais.getUnits((function(){HistoriasReais.data.states=HistoriasReais.getUFs();var ufs=HistoriasReais.data.states;for(var i=0;i<ufs.length;i++){form.find(".mz-state").append('<option value="'.concat(ufs[i],'">').concat(ufs[i],"</option>"))}form.find(".mz-state").attr("disabled",false);if(!HistoriasReais.data.saved.estado){var state=HistoriasReais.getValueFromDataForm("estado");if(!state){HistoriasReais.data.saved.estado=true;return}form.find(".mz-state").val(state);form.find(".mz-state").trigger("change");HistoriasReais.data.saved.estado=true}}));form.find(".mz-state").on("change",(function(){var cityWrapper=form.find(".mz-city");cityWrapper.empty();cityWrapper.append('<option selected="true" value="">Selecione uma cidade</option>');cityWrapper.attr("disabled",false);cityWrapper.val("");form.find('[name="instituicao"]').empty();form.find('[name="instituicao"]').append('<option selected="true" value="">Selecione uma das instituições</option>');form.find('[name="instituicao"]').attr("disabled",true);form.find('[name="instituicao"]').val("");form.find('[name="polo"]').empty();form.find('[name="polo"]').append('<option selected="true" value="">Selecione a unidade ou polo</option>');form.find('[name="polo"]').attr("disabled",true);form.find('[name="polo"]').val("");form.find('select[name="curso"]').empty();form.find('select[name="curso"]').append('<option selected="true" value="">Selecione o curso</option>');form.find('select[name="curso"]').attr("disabled",true);form.find('select[name="curso"]').val("");var cities=HistoriasReais.getCities(form.find(".mz-state").val());for(var i=0;i<cities.length;i++){cityWrapper.append('<option value="'.concat(cities[i],'">').concat(cities[i],"</option>"))}if(!HistoriasReais.data.saved.cidade){var city=HistoriasReais.getValueFromDataForm("cidade");if(!city){HistoriasReais.data.saved.cidade=true;return}form.find(".mz-city").val(city);form.find(".mz-city").trigger("change");HistoriasReais.data.saved.cidade=true}}));form.find(".mz-city").on("change",(function(){form.find('[name="instituicao"]').empty();form.find('[name="instituicao"]').append('<option selected="true" value="">Selecione uma das instituições</option>');form.find('[name="instituicao"]').attr("disabled",false);form.find('[name="instituicao"]').val("");form.find('[name="polo"]').empty();form.find('[name="polo"]').append('<option selected="true" value="">Selecione a unidade ou polo</option>');form.find('[name="polo"]').attr("disabled",true);form.find('select[name="curso"]').empty();form.find('select[name="curso"]').append('<option selected="true" value="">Selecione o curso</option>');form.find('select[name="curso"]').attr("disabled",true);var institutions=HistoriasReais.getInstitutions(form.find(".mz-state").val(),form.find(".mz-city").val());for(var i=0;i<institutions.length;i++){form.find('[name="instituicao"]').append('<option value="'.concat(institutions[i],'">').concat(institutions[i]=="Uniderp"?"Anhanguera/Uniderp (Polos)":institutions[i],"</option>"))}if(!HistoriasReais.data.saved.instituicao){var institution=HistoriasReais.getValueFromDataForm("instituicao");if(!institution){HistoriasReais.data.saved.instituicao=true;return}form.find('[name="instituicao"]').val(institution);form.find('[name="instituicao"]').trigger("change");HistoriasReais.data.saved.instituicao=true}}));form.find('[name="instituicao"]').on("change",(function(){form.find('[name="polo"]').empty();form.find('[name="polo"]').append('<option selected="true" value="">Selecione a unidade ou polo</option>');form.find('[name="polo"]').attr("disabled",false);var inst=form.find('[name="instituicao"]').val();var instNum=HistoriasReais.data.institutions.name[inst];var unitsFilt=HistoriasReais.getUnitsFiltered(form.find(".mz-state").val(),form.find(".mz-city").val(),instNum);for(var i=0;i<unitsFilt.length;i++){form.find('[name="polo"]').append('<option value="'.concat(unitsFilt[i],'">').concat(unitsFilt[i],"</option>"))}HistoriasReais.getCourses(form.find(".mz-state").val(),form.find(".mz-city").val(),HistoriasReais.data.institutions.name[form.find('[name="instituicao"]').val()],(function(){form.find('select[name="curso"]').empty();form.find('select[name="curso"]').append('<option selected="true" value="">Selecione o curso</option>');form.find('select[name="curso"]').attr("disabled",false);if(!HistoriasReais.data.courses.length){swal({text:"Nenhum curso encontrado na localidade e instituição escolhida!",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png"});return}var courses=window.storeHelpers.select2.facetsToArray(HistoriasReais.data.courses,"nomeCurso");for(var i=0;i<courses.length;i++){if(courses[i]&&courses[i]!=""){form.find('select[name="curso"]').append('<option value="'.concat(courses[i],'">').concat(courses[i],"</option>"))}}if(!HistoriasReais.data.saved.curso){var course=HistoriasReais.getValueFromDataForm("curso");if(!course){HistoriasReais.data.saved.curso=true;return}form.find('select[name="curso"]').val(course);HistoriasReais.data.saved.curso=true}}));if(!HistoriasReais.data.saved.polo){var polo=HistoriasReais.getValueFromDataForm("polo");if(!polo){HistoriasReais.data.saved.polo=true;return}form.find('[name="polo"]').val(polo);HistoriasReais.data.saved.polo=true}}))},applySelect2:function applySelect2(){if(!$.fn.select2){return}var form=$(".mz-hr__form--main");form.find(".mz-state").select2({placeholder:"Selecione...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhum estado encontrado!"}}});form.find(".mz-city").select2({placeholder:"Selecione...",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma cidade encontrada!"}}});form.find('[name="instituicao"]').select2({placeholder:"Selecione uma das instituições",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma instituição encontrada!"}}});form.find('[name="polo"]').select2({placeholder:"Selecione a unidade ou polo",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhum(a) unidade/polo encontrado(a)!"}}});form.find('select[name="curso"]').select2({placeholder:"Selecione o curso",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhum curso encontrado!"}}});form.find('[name="modalidade"]').select2({placeholder:"Selecione a modalidade",matcher:window.storeHelpers.select2.matchCustom,language:{noResults:function noResults(){return"Nenhuma modalidade encontrada!"}}})},getPreviousDataForm:function getPreviousDataForm(){if(!localStorage){return}var formData=JSON.parse(localStorage.getItem("MZcurrentHRForm"));if(!formData){return}var form=$(".mz-hr__form--main");for(var value in formData){var currentValue=formData[value];if(!currentValue){continue}if(value=="video"){$(".mz-video-wrapper--uploadurl").html(currentValue.split("/").pop());$(".mz-video-wrapper--subtitle").hide();$(".mz-video-wrapper--tech").hide();$(".mz-video-wrapper--videodata").show()}if(value=="termo"){form.find('[name="termo"]').attr("checked",true)}else if(value=="mz_aluno_radio"){form.find('[value="'.concat(formData[value],'"]')).attr("checked",true)}else{form.find('[name="'.concat(value,'"]')).val(currentValue)}}},getPreviousDataCPF:function getPreviousDataCPF(){var inputCpf=$('.mz-hr__form--main input[name="cpf"]');inputCpf.blur((function(){var currentCPF=inputCpf.val();if(!currentCPF||!currentCPF.length||currentCPF.length<14){return}$.ajax({headers:{"Content-Type":"application/json"},url:"/api/dataentities/historiasreais/search?_schema=mz-body&cpf=".concat(currentCPF),type:"GET",dataType:"json",contentType:"application/json"}).done((function(data){if(!data.length){return}var formData=data[0];formData.mz_aluno_radio=formData.aluno?"aluno":"exaluno";HistoriasReais.data.previousData.data=formData;HistoriasReais.data.previousData.saved=true;localStorage.setItem("MZcurrentHRForm",JSON.stringify(formData));swal({icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png",text:"Encontramos dados anteriores atrelados a esse CPF!\nClique em OK para ir para o último passo."}).then((function(){$.cookie("jQu3ry_5teps_St@te_steps-uid-0","3");$.cookie("MZHRFormPreviousID",formData.id);location.reload()}))}))}))},getValueFromDataForm:function getValueFromDataForm(key){if(!localStorage){return""}var formData=JSON.parse(localStorage.getItem("MZcurrentHRForm"));if(!formData){return""}return formData[key]||""},showTermsModal:function showTermsModal(){$(".mz-checkbox-wrapper--terms").click((function(e){e.preventDefault();var currentText=$(".mz-hr__terms").text();if(!currentText){return}var formData=$(".mz-hr__form--main").serializeObject();if(!formData){return}currentText=currentText.replace("%nome%",formData.nome);currentText=currentText.replace("%cpf%",formData.cpf);var currentDate=$.format.date(new Date,"dd/MM/yyyy");currentText=currentText.replace("%data%",currentDate);swal({className:"swal-modal--terms-conditions",title:"Termos e condições",text:currentText,buttons:{close:{text:"",visible:true,className:"swal-close-modal",closeModal:true}}})}))},uploadVideoAmazon:function uploadVideoAmazon(){$("#id-lilba").change((function(e){var bucketName="portal-pos";var $t=$(this);var thisFile=$t[0].files[0];if(!thisFile){return}var extension=(thisFile.name.split(".")||["mp4"]).pop();if(extension!="mov"&&extension!="mp4"){swal({text:"Por favor, envie um vídeo em formato .mp4 ou .mov",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png"});return}var totalBytes=this.files[0].size;var _size=0;var _sizeType="KB";if(totalBytes<1e6){_size=Math.floor(totalBytes/1e3);_sizeType="KB"}else{_size=Math.floor(totalBytes/1e6);_sizeType="MB"}if(_size>=$(this).data("max-size")&&_sizeType=="MB"){swal({text:"Por favor, envie um vídeo de no máximo 1GB de tamanho",icon:"https://portalpos2.vteximg.com.br/arquivos/portalpos2.alert-icon.png"});return}var currentDate=$.format.date(new Date,"ddMMyyyyHHmmss");var form=$(".mz-hr__form--main").serializeObject();var name=(form.nome||"").toLowerCase().replaceSpecialChars().replace(/\s/g,"-");var key="historiasreais-".concat(name,"-").concat(currentDate,".").concat(extension);AWS.config.update({s3control:{endpoint:"https://".concat(bucketName,".s3.amazonaws.com")},region:"us-east-1",endpoint:"https://".concat(bucketName,".s3.amazonaws.com"),s3BucketEndpoint:true});var upload=new AWS.S3.ManagedUpload({params:{Bucket:bucketName,Key:"historiasreais/".concat(key),Body:thisFile,ACL:"public-read",ContentType:thisFile.type}});$(".mz-hr__modalupload--load .loading").html('<div class="progress"> <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"> <span class="sr-only">0% Complete</span> </div> </div>');$(".mz-hr__modalupload--load").show();upload.on("httpUploadProgress",(function(progress){var progressPercentage=Math.round(progress.loaded/progress.total*100);$(".mz-hr__modalupload--load .progress-bar").css("width","".concat(progressPercentage,"%"))}));var promise=upload.promise();promise.then((function(data){$(".mz-hr__modalupload--load label").text("Upload concluído!");$(".mz-hr__modalupload--load .loading").addClass("loaded");$(".mz-hr__modalupload--load .progress-bar").removeClass("progress-bar-striped");$(".mz-hr__modalupload--load .progress-bar").removeClass("active");$('.mz-video-wrapper--videoinput input[name="video"]').val(data.Location);$(".mz-video-wrapper--uploadurl").html(key);$(".mz-video-wrapper--subtitle").hide();$(".mz-video-wrapper--tech").hide();$(".mz-hr__modalupload--block > label").hide();$(".mz-hr__modalupload--block > input").hide();$(".mz-video-wrapper--videodata").show();$(".mz-hr__modalupload--closebutton").show();$t.attr("disabled",true);HistoriasReais.pushToDataLayer("MZ.HistoriasReais.videoUploaded")}),(function(err){return alert("Erro! ",err.message)}))}))},pushToDataLayer:function pushToDataLayer(event){if(!event){return}window.dataLayer=window.dataLayer||[];var data={event:event};window.dataLayer.push(data);console.log("[Histórias Reais] DataLayer Push: ".concat(event))},pushToHotjar:function pushToHotjar(event){if(typeof hj=="undefined"||!hj||!event){return}hj(event);console.log("[Histórias Reais] Hotjar Push: ".concat(event))},pushToLogRocket:function pushToLogRocket(event){if(typeof LogRocket=="undefined"||!LogRocket||!event){return}LogRocket.identify("q72ukr/portal-pos-hr",event);console.log("[Histórias Reais] LogRocket Push: ".concat(JSON.stringify(event)))},getUnits:function getUnits(callback){$.ajax({url:"https://middleware.portalpos.com.br/api/v1/unidades/",type:"GET",dataType:"json",success:function success(unidades){HistoriasReais.data.units=unidades.filter((function(info){return info.uf!=null&&info.cidade!=null}));callback()}})},getUFs:function getUFs(){return _toConsumableArray(new Set(HistoriasReais.data.units.map((function(obj){return obj.uf})))).sort()},getCities:function getCities(stateUF){var cities=_toConsumableArray(new Set(HistoriasReais.data.units.filter((function(obj){return obj.uf.toLowerCase()==stateUF.toLowerCase()})).map((function(obj){return obj.cidade})))).sort();if(!cities.length){console.error("[Histórias Reais] Cidades não encontradas!");return[]}return cities},getInstitutions:function getInstitutions(stateUF,city){var institutions=_toConsumableArray(new Set(HistoriasReais.data.units.filter((function(obj){return obj.uf.toLowerCase()==stateUF.toLowerCase()&&obj.cidade.toLowerCase()==city.toLowerCase()&&obj.idMarca})).map((function(obj){return HistoriasReais.data.institutions.number[obj.idMarca]})))).sort();if(!institutions.length){console.error("[Histórias Reais] Instituições não encontradas!");return[]}return institutions},getUnitsFiltered:function getUnitsFiltered(stateUF,city,institution){var unitsFilt=_toConsumableArray(new Set(HistoriasReais.data.units.filter((function(obj){return obj.uf.toLowerCase()==stateUF.toLowerCase()&&obj.cidade.toLowerCase()==city.toLowerCase()&&obj.idMarca==institution})).map((function(obj){return obj.nome})))).sort();if(!unitsFilt.length){console.error("[Histórias Reais] Unidades não encontradas!");return[]}return unitsFilt},getCourses:function getCourses(stateUF,city,institution,callback){var whereClause='whereClause=(idMarca="'.concat(institution,'" AND cidade="').concat(city,"-").concat(stateUF,'")');$.ajax({url:"https://middleware.portalpos.com.br/api/v1/ofertas/cursos/?".concat(whereClause),type:"GET",dataType:"json",success:function success(cursos){if(!cursos.length||Array.isArray(cursos[0].facets)&&!cursos[0].facets.length){console.error("[Histórias Reais] Cursos não encontrados!");HistoriasReais.data.courses=[]}else{HistoriasReais.data.courses=cursos}callback()}})}};$(document).ready(HistoriasReais.init)}catch(e){console.log(e)}})();!function(a,b){function c(a,b){o(a).push(b)}function d(d,e,f){var g=d.children(e.headerTag),h=d.children(e.bodyTag);g.length>h.length?R(Z,"contents"):g.length<h.length&&R(Z,"titles");var i=e.startIndex;if(f.stepCount=g.length,e.saveState&&a.cookie){var j=a.cookie(U+q(d)),k=parseInt(j,0);!isNaN(k)&&k<f.stepCount&&(i=k)}f.currentIndex=i,g.each((function(e){var f=a(this),g=h.eq(e),i=g.data("mode"),j=null==i?$.html:r($,/^\s*$/.test(i)||isNaN(i)?i:parseInt(i,0)),k=j===$.html||g.data("url")===b?"":g.data("url"),l=j!==$.html&&"1"===g.data("loaded"),m=a.extend({},bb,{title:f.html(),content:j===$.html?g.html():"",contentUrl:k,contentMode:j,contentLoaded:l});c(d,m)}))}function e(a){a.triggerHandler("canceled")}function f(a,b){return a.currentIndex-b}function g(b,c){var d=i(b);b.unbind(d).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(d),b.removeClass(c.clearFixCssClass+" vertical");var e=b.find(".content > *");e.removeData("loaded").removeData("mode").removeData("url"),e.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),b.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var f=a('<{0} class="{1}"></{0}>'.format(b.get(0).tagName,b.attr("class"))),g=b._id();return null!=g&&""!==g&&f._id(g),f.html(b.find(".content").html()),b.after(f),b.remove(),f}function h(a,b){var c=a.find(".steps li").eq(b.currentIndex);a.triggerHandler("finishing",[b.currentIndex])?(c.addClass("done").removeClass("error"),a.triggerHandler("finished",[b.currentIndex])):c.addClass("error")}function i(a){var b=a.data("eventNamespace");return null==b&&(b="."+q(a),a.data("eventNamespace",b)),b}function j(a,b){var c=q(a);return a.find("#"+c+V+b)}function k(a,b){var c=q(a);return a.find("#"+c+W+b)}function l(a,b){var c=q(a);return a.find("#"+c+X+b)}function m(a){return a.data("options")}function n(a){return a.data("state")}function o(a){return a.data("steps")}function p(a,b){var c=o(a);return(0>b||b>=c.length)&&R(Y),c[b]}function q(a){var b=a.data("uid");return null==b&&(b=a._id(),null==b&&(b="steps-uid-".concat(T),a._id(b)),T++,a.data("uid",b)),b}function r(a,c){if(S("enumType",a),S("keyOrValue",c),"string"==typeof c){var d=a[c];return d===b&&R("The enum key '{0}' does not exist.",c),d}if("number"==typeof c){for(var e in a){if(a[e]===c)return c}R("Invalid enum value '{0}'.",c)}else R("Invalid key or value type.")}function s(a,b,c){return B(a,b,c,v(c,1))}function t(a,b,c){return B(a,b,c,f(c,1))}function u(a,b,c,d){if((0>d||d>=c.stepCount)&&R(Y),!(b.forceMoveForward&&d<c.currentIndex)){var e=c.currentIndex;return a.triggerHandler("stepChanging",[c.currentIndex,d])?(c.currentIndex=d,O(a,b,c),E(a,b,c,e),D(a,b,c),A(a,b,c),P(a,b,c,d,e,(function(){a.triggerHandler("stepChanged",[d,e])}))):a.find(".steps li").eq(e).addClass("error"),!0}}function v(a,b){return a.currentIndex+b}function w(b){var c=a.extend(!0,{},cb,b);return this.each((function(){var b=a(this),e={currentIndex:c.startIndex,currentStep:null,stepCount:0,transitionElement:null};b.data("options",c),b.data("state",e),b.data("steps",[]),d(b,c,e),J(b,c,e),G(b,c),c.autoFocus&&0===T&&j(b,c.startIndex).focus(),b.triggerHandler("init",[c.startIndex])}))}function x(b,c,d,e,f){(0>e||e>d.stepCount)&&R(Y),f=a.extend({},bb,f),y(b,e,f),d.currentIndex!==d.stepCount&&d.currentIndex>=e&&(d.currentIndex++,O(b,c,d)),d.stepCount++;var g=b.find(".content"),h=a("<{0}>{1}</{0}>".format(c.headerTag,f.title)),i=a("<{0}></{0}>".format(c.bodyTag));return(null==f.contentMode||f.contentMode===$.html)&&i.html(f.content),0===e?g.prepend(i).prepend(h):k(b,e-1).after(i).after(h),K(b,d,i,e),N(b,c,d,h,e),F(b,c,d,e),e===d.currentIndex&&E(b,c,d),D(b,c,d),b}function y(a,b,c){o(a).splice(b,0,c)}function z(b){var c=a(this),d=m(c),e=n(c);if(d.suppressPaginationOnFocus&&c.find(":focus").is(":input"))return b.preventDefault(),!1;var f={left:37,right:39};b.keyCode===f.left?(b.preventDefault(),t(c,d,e)):b.keyCode===f.right&&(b.preventDefault(),s(c,d,e))}function A(b,c,d){if(d.stepCount>0){var e=d.currentIndex,f=p(b,e);if(!c.enableContentCache||!f.contentLoaded)switch(r($,f.contentMode)){case $.iframe:b.find(".content > .body").eq(d.currentIndex).empty().html('<iframe src="'+f.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case $.async:var g=k(b,e)._aria("busy","true").empty().append(M(c.loadingTemplate,{text:c.labels.loading}));a.ajax({url:f.contentUrl,cache:!1}).done((function(a){g.empty().html(a)._aria("busy","false").data("loaded","1"),b.triggerHandler("contentLoaded",[e])}))}}}function B(a,b,c,d){var e=c.currentIndex;if(d>=0&&d<c.stepCount&&!(b.forceMoveForward&&d<c.currentIndex)){var f=j(a,d),g=f.parent(),h=g.hasClass("disabled");return g._enableAria(),f.click(),e===c.currentIndex&&h?(g._enableAria(!1),!1):!0}return!1}function C(b){b.preventDefault();var c=a(this),d=c.parent().parent().parent().parent(),f=m(d),g=n(d),i=c.attr("href");switch(i.substring(i.lastIndexOf("#")+1)){case"cancel":e(d);break;case"finish":h(d,g);break;case"next":s(d,f,g);break;case"previous":t(d,f,g)}}function D(a,b,c){if(b.enablePagination){var d=a.find(".actions a[href$='#finish']").parent(),e=a.find(".actions a[href$='#next']").parent();if(!b.forceMoveForward){var f=a.find(".actions a[href$='#previous']").parent();f._enableAria(c.currentIndex>0)}b.enableFinishButton&&b.showFinishButtonAlways?(d._enableAria(c.stepCount>0),e._enableAria(c.stepCount>1&&c.stepCount>c.currentIndex+1)):(d._showAria(b.enableFinishButton&&c.stepCount===c.currentIndex+1),e._showAria(0===c.stepCount||c.stepCount>c.currentIndex+1)._enableAria(c.stepCount>c.currentIndex+1||!b.enableFinishButton))}}function E(b,c,d,e){var f=j(b,d.currentIndex),g=a('<span class="current-info audible">'+c.labels.current+" </span>"),h=b.find(".content > .title");if(null!=e){var i=j(b,e);i.parent().addClass("done").removeClass("error")._selectAria(!1),h.eq(e).removeClass("current").next(".body").removeClass("current"),g=i.find(".current-info"),f.focus()}f.prepend(g).parent()._selectAria().removeClass("done")._enableAria(),h.eq(d.currentIndex).addClass("current").next(".body").addClass("current")}function F(a,b,c,d){for(var e=q(a),f=d;f<c.stepCount;f++){var g=e+V+f,h=e+W+f,i=e+X+f,j=a.find(".title").eq(f)._id(i);a.find(".steps a").eq(f)._id(g)._aria("controls",h).attr("href","#"+i).html(M(b.titleTemplate,{index:f+1,title:j.html()})),a.find(".body").eq(f)._id(h)._aria("labelledby",i)}}function G(a,b){var c=i(a);a.bind("canceled"+c,b.onCanceled),a.bind("contentLoaded"+c,b.onContentLoaded),a.bind("finishing"+c,b.onFinishing),a.bind("finished"+c,b.onFinished),a.bind("init"+c,b.onInit),a.bind("stepChanging"+c,b.onStepChanging),a.bind("stepChanged"+c,b.onStepChanged),b.enableKeyNavigation&&a.bind("keyup"+c,z),a.find(".actions a").bind("click"+c,C)}function H(a,b,c,d){return 0>d||d>=c.stepCount||c.currentIndex===d?!1:(I(a,d),c.currentIndex>d&&(c.currentIndex--,O(a,b,c)),c.stepCount--,l(a,d).remove(),k(a,d).remove(),j(a,d).parent().remove(),0===d&&a.find(".steps li").first().addClass("first"),d===c.stepCount&&a.find(".steps li").eq(d).addClass("last"),F(a,b,c,d),D(a,b,c),!0)}function I(a,b){o(a).splice(b,1)}function J(b,c,d){var e='<{0} class="{1}">{2}</{0}>',f=r(_,c.stepsOrientation),g=f===_.vertical?" vertical":"",h=a(e.format(c.contentContainerTag,"content "+c.clearFixCssClass,b.html())),i=a(e.format(c.stepsContainerTag,"steps "+c.clearFixCssClass,'<ul role="tablist"></ul>')),j=h.children(c.headerTag),k=h.children(c.bodyTag);b.attr("role","application").empty().append(i).append(h).addClass(c.cssClass+" "+c.clearFixCssClass+g),k.each((function(c){K(b,d,a(this),c)})),j.each((function(e){N(b,c,d,a(this),e)})),E(b,c,d),L(b,c,d)}function K(a,b,c,d){var e=q(a),f=e+W+d,g=e+X+d;c._id(f).attr("role","tabpanel")._aria("labelledby",g).addClass("body")._showAria(b.currentIndex===d)}function L(a,b,c){if(b.enablePagination){var d='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',e='<li><a href="#{0}" role="menuitem">{1}</a></li>',f="";b.forceMoveForward||(f+=e.format("previous",b.labels.previous)),f+=e.format("next",b.labels.next),b.enableFinishButton&&(f+=e.format("finish",b.labels.finish)),b.enableCancelButton&&(f+=e.format("cancel",b.labels.cancel)),a.append(d.format(b.actionContainerTag,b.clearFixCssClass,b.labels.pagination,f)),D(a,b,c),A(a,b,c)}}function M(a,c){for(var d=a.match(/#([a-z]*)#/gi),e=0;e<d.length;e++){var f=d[e],g=f.substring(1,f.length-1);c[g]===b&&R("The key '{0}' does not exist in the substitute collection!",g),a=a.replace(f,c[g])}return a}function N(b,c,d,e,f){var g=q(b),h=g+V+f,j=g+W+f,k=g+X+f,l=b.find(".steps > ul"),m=M(c.titleTemplate,{index:f+1,title:e.html()}),n=a('<li role="tab"><a id="'+h+'" href="#'+k+'" aria-controls="'+j+'">'+m+"</a></li>");n._enableAria(c.enableAllSteps||d.currentIndex>f),d.currentIndex>f&&n.addClass("done"),e._id(k).attr("tabindex","-1").addClass("title"),0===f?l.prepend(n):l.find("li").eq(f-1).after(n),0===f&&l.find("li").removeClass("first").eq(f).addClass("first"),f===d.stepCount-1&&l.find("li").removeClass("last").eq(f).addClass("last"),n.children("a").bind("click"+i(b),Q)}function O(b,c,d){c.saveState&&a.cookie&&a.cookie(U+q(b),d.currentIndex)}function P(b,c,d,e,f,g){var h=b.find(".content > .body"),i=r(ab,c.transitionEffect),j=c.transitionEffectSpeed,k=h.eq(e),l=h.eq(f);switch(i){case ab.fade:case ab.slide:var m=i===ab.fade?"fadeOut":"slideUp",o=i===ab.fade?"fadeIn":"slideDown";d.transitionElement=k,l[m](j,(function(){var b=a(this)._showAria(!1).parent().parent(),c=n(b);c.transitionElement&&(c.transitionElement[o](j,(function(){a(this)._showAria()})).promise().done(g),c.transitionElement=null)}));break;case ab.slideLeft:var p=l.outerWidth(!0),q=e>f?-p:p,s=e>f?p:-p;a.when(l.animate({left:q},j,(function(){a(this)._showAria(!1)})),k.css("left",s+"px")._showAria().animate({left:0},j)).done(g);break;default:a.when(l._showAria(!1),k._showAria()).done(g)}}function Q(b){b.preventDefault();var c=a(this),d=c.parent().parent().parent().parent(),e=m(d),f=n(d),g=f.currentIndex;if(c.parent().is(":not(.disabled):not(.current)")){var h=c.attr("href"),i=parseInt(h.substring(h.lastIndexOf("-")+1),0);u(d,e,f,i)}return g===f.currentIndex?(j(d,g).focus(),!1):void 0}function R(a){throw arguments.length>1&&(a=a.format(Array.prototype.slice.call(arguments,1))),new Error(a)}function S(a,b){null==b&&R("The argument '{0}' is null or undefined.",a)}a.fn.extend({_aria:function _aria(a,b){return this.attr("aria-"+a,b)},_removeAria:function _removeAria(a){return this.removeAttr("aria-"+a)},_enableAria:function _enableAria(a){return null==a||a?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function _showAria(a){return null==a||a?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function _selectAria(a){return null==a||a?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function _id(a){return a?this.attr("id",a):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var b=1===arguments.length&&a.isArray(arguments[0])?arguments[0]:arguments,c=this,d=0;d<b.length;d++){var e=new RegExp("\\{"+d+"\\}","gm");c=c.replace(e,b[d])}return c});var T=0,U="jQu3ry_5teps_St@te_",V="-t-",W="-p-",X="-h-",Y="Index out of range.",Z="One or more corresponding step {0} are missing.";a.fn.steps=function(b){return a.fn.steps[b]?a.fn.steps[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=_typeof(b)&&b?void a.error("Method "+b+" does not exist on jQuery.steps"):w.apply(this,arguments)},a.fn.steps.add=function(a){var b=n(this);return x(this,m(this),b,b.stepCount,a)},a.fn.steps.destroy=function(){return g(this,m(this))},a.fn.steps.finish=function(){h(this,n(this))},a.fn.steps.getCurrentIndex=function(){return n(this).currentIndex},a.fn.steps.getCurrentStep=function(){return p(this,n(this).currentIndex)},a.fn.steps.getStep=function(a){return p(this,a)},a.fn.steps.insert=function(a,b){return x(this,m(this),n(this),a,b)},a.fn.steps.next=function(){return s(this,m(this),n(this))},a.fn.steps.previous=function(){return t(this,m(this),n(this))},a.fn.steps.remove=function(a){return H(this,m(this),n(this),a)},a.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},a.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var $=a.fn.steps.contentMode={html:0,iframe:1,async:2},_=a.fn.steps.stepsOrientation={horizontal:0,vertical:1},ab=a.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},bb=a.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:$.html,contentLoaded:!1},cb=a.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:_.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:ab.none,transitionEffectSpeed:200,onStepChanging:function onStepChanging(){return!0},onStepChanged:function onStepChanged(){},onCanceled:function onCanceled(){},onFinishing:function onFinishing(){return!0},onFinished:function onFinished(){},onContentLoaded:function onContentLoaded(){},onInit:function onInit(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery);(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(window.jQuery||window.Zepto)})((function(g){var z=function z(b,f,d){var l=this,x,y;b=g(b);f="function"===typeof f?f(b.val(),void 0,b,d):f;l.init=function(){d=d||{};l.byPassKeys=[9,16,17,18,36,37,38,39,40,91];l.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};l.translation=g.extend({},l.translation,d.translation);l=g.extend(!0,{},l,d);y=c.getRegexMask();b.each((function(){!1!==d.maxlength&&b.attr("maxlength",f.length);d.placeholder&&b.attr("placeholder",d.placeholder);b.attr("autocomplete","off");c.destroyEvents();c.events();var a=c.getCaret();c.val(c.getMasked());c.setCaret(a+c.getMaskCharactersBeforeCount(a,!0))}))};var c={getCaret:function getCaret(){var a;a=0;var e=b.get(0),c=document.selection,e=e.selectionStart;if(c&&!~navigator.appVersion.indexOf("MSIE 10"))a=c.createRange(),a.moveStart("character",b.is("input")?-b.val().length:-b.text().length),a=a.text.length;else if(e||"0"===e)a=e;return a},setCaret:function setCaret(a){if(b.is(":focus")){var e;e=b.get(0);e.setSelectionRange?e.setSelectionRange(a,a):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select())}},events:function events(){b.on("keydown.mask",(function(){x=c.val()}));b.on("keyup.mask",c.behaviour);b.on("paste.mask drop.mask",(function(){setTimeout((function(){b.keydown().keyup()}),100)}));b.on("change.mask",(function(){b.data("changeCalled",!0)}));b.on("blur.mask",(function(a){a=g(a.target);a.prop("defaultValue")!==a.val()&&(a.prop("defaultValue",a.val()),a.data("changeCalled")||a.trigger("change"));a.data("changeCalled",!1)}));b.on("focusout.mask",(function(){d.clearIfNotMatch&&!y.test(c.val())&&c.val("")}))},getRegexMask:function getRegexMask(){var a=[],e,b,c,d,k;for(k in f){(e=l.translation[f[k]])?(b=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),c=e.optional,(e=e.recursive)?(a.push(f[k]),d={digit:f[k],pattern:b}):a.push(c||e?b+"?":b)):a.push("\\"+f[k])}a=a.join("");d&&(a=a.replace(RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(RegExp(d.digit,"g"),d.pattern));return RegExp(a)},destroyEvents:function destroyEvents(){b.off("keydown.mask keyup.mask paste.mask drop.mask change.mask blur.mask focusout.mask").removeData("changeCalled")},val:function val(a){var e=b.is("input");return 0<arguments.length?e?b.val(a):b.text(a):e?b.val():b.text()},getMaskCharactersBeforeCount:function getMaskCharactersBeforeCount(a,e){for(var b=0,c=0,d=f.length;c<d&&c<a;c++){l.translation[f.charAt(c)]||(a=e?a+1:a,b++)}return b},determineCaretPos:function determineCaretPos(a,b,d,h){return l.translation[f.charAt(Math.min(a-1,f.length-1))]?Math.min(a+d-b-h,d):c.determineCaretPos(a+1,b,d,h)},behaviour:function behaviour(a){a=a||window.event;var b=a.keyCode||a.which;if(-1===g.inArray(b,l.byPassKeys)){var d=c.getCaret(),f=c.val(),n=f.length,k=d<n,p=c.getMasked(),m=p.length,q=c.getMaskCharactersBeforeCount(m-1)-c.getMaskCharactersBeforeCount(n-1);p!==f&&c.val(p);!k||65===b&&a.ctrlKey||(8!==b&&46!==b&&(d=c.determineCaretPos(d,n,m,q)),c.setCaret(d));return c.callbacks(a)}},getMasked:function getMasked(a){var b=[],g=c.val(),h=0,n=f.length,k=0,p=g.length,m=1,q="push",s=-1,r,u;d.reverse?(q="unshift",m=-1,r=0,h=n-1,k=p-1,u=function u(){return-1<h&&-1<k}):(r=n-1,u=function u(){return h<n&&k<p});for(;u();){var v=f.charAt(h),w=g.charAt(k),t=l.translation[v];if(t)w.match(t.pattern)?(b[q](w),t.recursive&&(-1===s?s=h:h===r&&(h=s-m),r===s&&(h-=m)),h+=m):t.optional&&(h+=m,k-=m),k+=m;else{if(!a)b[q](v);w===v&&(k+=m);h+=m}}a=f.charAt(r);n!==p+1||l.translation[a]||b.push(a);return b.join("")},callbacks:function callbacks(a){var e=c.val(),g=c.val()!==x;if(!0===g&&"function"===typeof d.onChange)d.onChange(e,a,b,d);if(!0===g&&"function"===typeof d.onKeyPress)d.onKeyPress(e,a,b,d);if("function"===typeof d.onComplete&&e.length===f.length)d.onComplete(e,a,b,d)}};l.remove=function(){var a=c.getCaret(),b=c.getMaskCharactersBeforeCount(a);c.destroyEvents();c.val(l.getCleanVal()).removeAttr("maxlength");c.setCaret(a-b)};l.getCleanVal=function(){return c.getMasked(!0)};l.init()};g.fn.mask=function(b,f){this.unmask();return this.each((function(){g(this).data("mask",new z(this,b,f))}))};g.fn.unmask=function(){return this.each((function(){try{g(this).data("mask").remove()}catch(b){}}))};g.fn.cleanVal=function(){return g(this).data("mask").getCleanVal()};g("*[data-mask]").each((function(){var b=g(this),f={};"true"===b.attr("data-mask-reverse")&&(f.reverse=!0);"false"===b.attr("data-mask-maxlength")&&(f.maxlength=!1);"true"===b.attr("data-mask-clearifnotmatch")&&(f.clearIfNotMatch=!0);b.mask(b.attr("data-mask"),f)}))}));var DateFormat={};!function(e){var I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],a={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;DateFormat.format=function(){function o(e){return a[e]||e}function i(e){var a,r,t,n,s,o=e,i="";return-1!==o.indexOf(".")&&(o=(n=o.split("."))[0],i=n[n.length-1]),3<=(s=o.split(":")).length?(a=s[0],r=s[1],t=s[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),hour:a,minute:r,second:t,millis:i}):{time:"",hour:"",minute:"",second:"",millis:""}}function D(e,a){for(var r=a-String(e).length,t=0;t<r;t++){e="0"+e}return e}return{parseDate:function parseDate(e){var a,r,t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=i(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(u))a=e.split(/[T\+-]/),t.year=a[0],t.month=a[1],t.dayOfMonth=a[2],t.time=i(a[3].split(".")[0]);else switch(6===(a=e.split(" ")).length&&isNaN(a[5])&&(a[a.length]="()"),a.length){case 6:t.year=a[5],t.month=o(a[1]),t.dayOfMonth=a[2],t.time=i(a[3]);break;case 2:r=a[0].split("-"),t.year=r[0],t.month=r[1],t.dayOfMonth=r[2],t.time=i(a[1]);break;case 7:case 9:case 10:t.year=a[3];var n=parseInt(a[1]),s=parseInt(a[2]);n&&!s?(t.month=o(a[2]),t.dayOfMonth=a[1]):(t.month=o(a[1]),t.dayOfMonth=a[2]),t.time=i(a[4]);break;case 1:r=a[0].split(""),t.year=r[0]+r[1]+r[2]+r[3],t.month=r[5]+r[6],t.dayOfMonth=r[8]+r[9],t.time=i(r[13]+r[14]+r[15]+r[16]+r[17]+r[18]+r[19]+r[20]);break;default:return null}return t.time?t.date=new Date(t.year,t.month-1,t.dayOfMonth,t.time.hour,t.time.minute,t.time.second,t.time.millis):t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function date(a,e){try{var r=this.parseDate(a);if(null===r)return a;for(var t,n=r.year,s=r.month,o=r.dayOfMonth,i=r.dayOfWeek,u=r.time,c="",h="",l="",m=!1,y=0;y<e.length;y++){var d=e.charAt(y),f=e.charAt(y+1);if(m)"'"==d?(h+=""===c?"'":c,c="",m=!1):c+=d;else switch(l="",c+=d){case"ddd":h+=(S=i,I[parseInt(S,10)]||S),c="";break;case"dd":if("d"===f)break;h+=D(o,2),c="";break;case"d":if("d"===f)break;h+=parseInt(o,10),c="";break;case"D":h+=o=1==o||21==o||31==o?parseInt(o,10)+"st":2==o||22==o?parseInt(o,10)+"nd":3==o||23==o?parseInt(o,10)+"rd":parseInt(o,10)+"th",c="";break;case"MMMM":h+=(M=s,void 0,g=parseInt(M,10)-1,w[g]||M),c="";break;case"MMM":if("M"===f)break;h+=(k=s,void 0,p=parseInt(k,10)-1,v[p]||k),c="";break;case"MM":if("M"===f)break;h+=D(s,2),c="";break;case"M":if("M"===f)break;h+=parseInt(s,10),c="";break;case"y":case"yyy":if("y"===f)break;h+=c,c="";break;case"yy":if("y"===f)break;h+=String(n).slice(-2),c="";break;case"yyyy":h+=n,c="";break;case"HH":h+=D(u.hour,2),c="";break;case"H":if("H"===f)break;h+=parseInt(u.hour,10),c="";break;case"hh":h+=D(t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,2),c="";break;case"h":if("h"===f)break;t=0===parseInt(u.hour,10)?12:u.hour<13?u.hour:u.hour-12,h+=parseInt(t,10),c="";break;case"mm":h+=D(u.minute,2),c="";break;case"m":if("m"===f)break;h+=parseInt(u.minute,10),c="";break;case"ss":h+=D(u.second.substring(0,2),2),c="";break;case"s":if("s"===f)break;h+=parseInt(u.second,10),c="";break;case"S":case"SS":if("S"===f)break;h+=c,c="";break;case"SSS":h+=D(u.millis.substring(0,3),3),c="";break;case"a":h+=12<=u.hour?"PM":"AM",c="";break;case"p":h+=12<=u.hour?"p.m.":"a.m.",c="";break;case"E":h+=(b=i,O[parseInt(b,10)]||b),c="";break;case"'":c="",m=!0;break;default:h+=d,c=""}}return h+=l}catch(e){return console&&console.log&&console.log(e),a}var b,k,p,M,g,S},prettyDate:function prettyDate(e){var a,r,t,n,s;if("string"!=typeof e&&"number"!=typeof e||(a=new Date(e)),"object"==_typeof(e)&&(a=new Date(e.toString())),r=((new Date).getTime()-a.getTime())/1e3,t=Math.abs(r),n=Math.floor(t/86400),!isNaN(n))return s=r<0?"from now":"ago",t<60?0<=r?"just now":"in a moment":t<120?"1 minute "+s:t<3600?Math.floor(t/60)+" minutes "+s:t<7200?"1 hour "+s:t<86400?Math.floor(t/3600)+" hours "+s:1===n?0<=r?"Yesterday":"Tomorrow":n<7?n+" days "+s:7===n?"1 week "+s:n<31?Math.ceil(n/7)+" weeks "+s:"more than 5 weeks "+s},toBrowserTimeZone:function toBrowserTimeZone(e,a){return this.date(new Date(e),a||"MM/dd/yyyy HH:mm:ss")}}}()}(),jQuery.format=DateFormat.format;